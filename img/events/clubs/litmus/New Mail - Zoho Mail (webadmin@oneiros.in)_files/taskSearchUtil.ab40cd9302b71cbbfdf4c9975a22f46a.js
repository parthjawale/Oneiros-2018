"use strict";define([],function(a){var b,c=a("zmText"),d=a("zmTask"),e=c.get("taskUtil"),f={emptyRow:function(){b.html("<center style='height:50px; padding-top:25px;'>"+e.common.notask+"</center>")},constructList:function(a,c,e){if(b=c.getListingCenterDOM(),!a[1].list)return!1;var f=a[1].list;if(e&&!Object.keys(f).length)return!1;if(!Object.keys(f).length)return this.emptyRow(),!1;if(e)return e.appendScrollList(a[1]),e.getCurrentList;var g=new d.TaskList({order:a[1].order,list:f},{fromAction:"search",centerObj:c,taskListing:e});return g.getCurrentList()},listTaskSearchAction:function(a){var b,f=[];if(a.groupId){var g=zmail.ContactBook.getGroups(a.groupId);f.push({name:"in group",value:g[0]})}var h=function(d){"addedby"===a.type?(f.push({name:"added by",value:d.attrs.eid}),b=e.errorMsg.createdByTasks):"assignedto"===a.type&&(f.push({name:"assigned to",value:d}),b=e.errorMsg.assignedToTasks),f?(zmail.Search.setContext(zmail.Search.Models.Contexts.taskContextSearch),zmail.Search.newSearch(f)):_zm.succErrMsg("e",c.applyArgs(b,{user:d.attrs.fn}))},i=d.Util.getContact(a.zuid);h(i)}};return window.zmTask=window.zmTask||{},window.zmTask.Search=f,f});