"use strict";window.zmRecall=function(){var a=zmText.get("mailRecall"),b={showRecallBand:function(b){var c=$("#zm_smsg_discard");c.length&&c.remove();var d=["DIV",{attrs:{id:"zm_smsg_discard","class":"SC_msg SC_imsg"},child:[["SPAN",{child:[["FONT",{attrs:{style:"font-weight:bold"},child:[["text",a.msg_sent]]}],["text","&nbsp;&nbsp;"],["FONT",{attrs:{style:"cursor:pointer;text-decoration:underline;font-weight:bold",id:"zm_recall"},child:[["text",a.msg_recall]]}],["I",{attrs:{"class":"msi-close"}}]]}]]}],e=_zm.getDOM(d);$("body").append(e);var f=$(e).find("#zm_recall");f.off("click").on("click",function(){zmRecall.sendRecallRequest(b),zmRecall.removeMessageBand()});var g=$(e).find(".msi-close");g.off("click").on("click",function(){zmRecall.removeMessageBand()}),setTimeout(function(){zmRecall.removeMessageBand()},1e4)},sendRecallRequest:function(a){var b={mode:"recall",uuid:a},c={uuid:a};zmAjq.XHR({u:zmail.conPath+"/recall.do",t:"POST",fn:zmRecall.handleRecallResponse,p:b,ep:c})},handleRecallResponse:function(b,c){zmRecall.removeMessageBand(),b instanceof Object?"success"===b.status?_zm.succErrMsg("s",a.msg_success,{hideAfter:6e3}):"failure"===b.status&&_zm.succErrMsg("e",a.msg_failure,{hideAfter:6e3}):_zm.succErrMsg("s",b)},removeMessageBand:function(){$("#zm_smsg_discard").remove()}};return b}();