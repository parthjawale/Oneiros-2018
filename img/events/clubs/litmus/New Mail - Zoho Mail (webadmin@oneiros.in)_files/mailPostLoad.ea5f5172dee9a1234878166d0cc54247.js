"use strict";define([],function(a){var b=zmail.Core.Namespaces,c=b.create("ZMail.lView"),d=a("zmText").get("mail").listing.common,e=zmCenterListing.getMappedClass,f=ZMail.lConstants,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0;j={},j.envelope=function(){var a=e(g,h,i,"markupIcons"),b=e(g,h,i,"calEvent"),d=e(g,h,i,"att"),f=a||b?a||b:d;return!!f&&c.constTemplate("envelope",{iconCls:f})},j.checkbox=function(){return c.constTemplate("checkbox",{shwChkBox:i.selBoxVisibility})},j.flag=function(){var a=e(g,h,i,"flagIcon");return!!a&&c.constTemplate("flag",{iconCls:a})},j.tree=function(){return zdom("div",{"class":"zmLTct"})};var m=function(){var a=void 0;return a=zdom("div",{"class":"zmLact"}),c.constPart(j,a),a};k={};var n=function(){var a=i[g.draftCount]||i.draftCount||0,b=a&&!i.hideDraftCount,d=zdom("div",{"class":"zmLDCInfo"}),e=!1;return b?(d.appendChild(c.constTemplate("draft",{draftCount:a})),e=!0):d.appendChild(zdom("span",{"class":"zmLDft"})),{elem:d,haveDraft:e}};k.sender=function(){var a=zdom("div",{"class":"zmLFrom"}),b=i[g.from]||i.from||f.SPACE,d=c.constTemplate("sender",{tooltip:i[g.sender]||"",from:b});a.appendChild(d);var j=e(g,h,i,"priority");j&&(j=" "+j,_zm.before(d,zdom("i",{"class":"msi-priority"+j})));var k=n();return a.appendChild(k.elem),k.haveDraft&&_zm.addClass(a,"zmLDftOn"),a},k.titleNsummary=function(){var a=i[g.sub]||i.sub||d.noSubject,b=zdom("div",{"class":"zmLContent"}),f=zdom("span",{"class":"zmLSub","data-action":"subject"}),j=e(g,h,i,"subIcon");if(j){var k=c.constTemplate("attachment");""!==k&&f.appendChild(k)}if(i.sumTxt&&Object.keys(i.sumTxt).length)f.appendChild(i.sumTxt.subject),b.appendChild(f),b.appendChild(i.sumTxt.summary);else{f.appendChild(c.constTemplate("subject",{subject:a})),b.appendChild(f);var l=i[g.sum]||i.sum||"";l&&b.appendChild(c.constTemplate("summary",{summary:l}))}return b},k.labelNqckActs=function(){var a=i[g.tagLst]||i.tagLst||"",b=zdom("div",{"class":"zmLData","data-action":"pLabel"});if(a.length){var d=c.constTemplate("labels",{tagLst:a});""!==d&&b.appendChild(d)}var f=i[g.schemaText]||i.schemaText||"";if(f){var j=e(g,h,i,"schemaDisable")||"";j=" "+j;var k=i[g.schemaTip]||i.schemaTip||"",l=e(g,h,i,"schemaIcon"),m=c.constTemplate("quickAction",{quickAct:f,icon:l,disableCls:j,tooltip:k});b.appendChild(m)}return b};var o=function(){var a=zdom("div",{"class":"zmLFCD"});return c.constPart(k,a),a};l={},l={},l.associates=function(){var a=e(g,h,i,"associate");return!!a&&c.constTemplate("associate",{iconCls:a})},l.folName=function(){var a=i[g.fName]||i.fName||"";return!!a&&c.constTemplate("folderName",{folName:a})},l.size=function(){var a=i[g.size]||i.size||"";if(a)return c.constTemplate("size",{size:a})},l.date=function(){var a=i[g.date]||i.date||"";return!!a&&c.constTemplate("date",{date:a})},l.trash=function(){var a=i[g.iconArr]||i.iconArr||"";return!!a&&c.constTemplate("trash",{iconCls:a[0]})};var p=function(a){var b=a.returnType,d=void 0;g=a.propertyMap,h=a.classMap,i=a.data;var j=i[g.id]||i.id||"",k=" "+e(g,h,i,"unreadCls")||"",n=" "+e(g,h,i,"archive")||"",p=i[g.data]||i.data||"";return d=zdom("div",{id:j,"class":f.cls.mRow+k+n,"data-ty":p}),d.appendChild(m()),d.appendChild(o()),c.constPart(l,d),"dom"===b&&(d=$(d)[0]),d},q=function(){zmCenterListing.registerListItemTemplate({type:"subMail",generator:p})};return q(),c});