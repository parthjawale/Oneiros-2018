!function(zgssearch,window){var gsversion,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsversion=(gsversion=void 0,(gsversion=zgssearch.gsversion||{}).gsb=gsversion.gsb||zgssearch.buildDate||GSConstant.STATIC_BUILD_DATE||"",gsversion.gsv=gsversion.gsv||zgssearch.gsv||GSConstant.STATIC_GS_VERSION||wmsUserConfig.gsv||"",gsversion.isVersionChanged=function(resultObject){return!(!resultObject.GS_VERSION&&!resultObject.BUILD_DATE)},gsversion.handleVersionChanges=function(resultObject){resultObject&&(zgssearch.isVersionChanged=!0,gsversion.getLatestFiles(resultObject),zgssearch.setGSConstantObj(resultObject))},gsversion.getLatestFiles=function(resultObject){gsversion.gsv!=resultObject.GS_VERSION&&gsversion.loadHomePageJsFiles(resultObject),gsversion.gsb!=resultObject.BUILD_DATE&&gsversion.loadResultPageJsFiles(resultObject)},gsversion.loadHomePageJsFiles=function(resultObject){var oldValue=zgssearch.isVersionChanged?gsversion.gsb:resultObject.BUILD_DATE,gshomeCSSURL=GSConstant.resultNewCSSURL.replace(oldValue,resultObject.GS_VERSION),gshomeJSURL=GSConstant.resultNewJSURL.replace(oldValue,resultObject.GS_VERSION);gshomeCSSURL=gshomeCSSURL.replace("gsresultnew","gshome")||gshomeCSSURL.replace("zsnewresult","zsnewhome"),gshomeJSURL=gshomeJSURL.replace("gsresultnew","gshome")||gshomeJSURL.replace("zsnewresult","zsnewhome"),gsversion.gsv=GSConstant.GS_VERSION=resultObject.GS_VERSION,zgssearch.loadCSSFile(gshomeCSSURL),zgssearch.loadJSFile(gshomeJSURL)},gsversion.loadResultPageJsFiles=function(resultObject){var oldValue=zgssearch.isVersionChanged?gsversion.gsb:resultObject.BUILD_DATE;GSConstant.gsjQueryURL=GSConstant.gsjQueryURL.replace(oldValue,resultObject.BUILD_DATE),GSConstant.gsi18NJSURL=GSConstant.gsi18NJSURL.replace(oldValue,resultObject.BUILD_DATE),GSConstant.resultNewCSSURL=GSConstant.resultNewCSSURL.replace(oldValue,resultObject.BUILD_DATE),GSConstant.resultNewJSURL=GSConstant.resultNewJSURL.replace(oldValue,resultObject.BUILD_DATE),gsversion.gsb=GSConstant.BUILD_DATE=resultObject.BUILD_DATE,zgssearch.loadCSSFile(GSConstant.resultNewCSSURL),gsversion.loadI18NResultJsFiles(GSConstant)},gsversion.loadI18NResultJsFiles=function(urlObj){var domscriptJquery=document.createElement("script");domscriptJquery.setAttribute("type","text/javascript"),domscriptJquery.src=urlObj.gsi18NJSURL,domscriptJquery.onload=function(){gsversion.loadNewResultResultJsFiles(urlObj)},document.getElementsByTagName("head").item(0).appendChild(domscriptJquery)},gsversion.loadNewResultResultJsFiles=function(urlObj){var domscriptJquery=document.createElement("script");domscriptJquery.setAttribute("type","text/javascript"),domscriptJquery.src=urlObj.resultNewJSURL,domscriptJquery.onload=function(){gsversion.loadMissingElems(),zgssearch.renderServiceList(),zgssearch.loadWelcomePage=!1,zgssearch.renderWelcomePage(),zgssearch.statusOfWidgetFetchData="READY",zgssearch.initWidgetList(),zgssearch.isVersionChanged&&(zgssearch.deleteCalloutHolder(),zgssearch.isVersionChanged=!1,zgssearch.getSearchResults(zgssearch.searchURL))},document.getElementsByTagName("head").item(0).appendChild(domscriptJquery)},gsversion.checkGSVersion=function(){gsversion.getLatestFiles(GSConstant)},gsversion.loadMissingElems=function(){if(0==_jQueryGS("#zgs20_gsMultiSearchResultPage").length){_jQueryGS("#zgs20_gsAllSearchResultPage").after(_jQueryGS("<div>",{id:"zgs20_gsMultiSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsOverflowAuto zgs19_gsDisplayNone"}));var qryInnerDiv=_jQueryGS("#zgs20_gsQueryBoxHolder").find(".zgs19_gsqryinnerdiv");_jQueryGS(qryInnerDiv).append(_jQueryGS("<div>",{id:"zgs20_gsQueryCloseBox",class:"zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsCurPointer",gs:"qryCloseIcon"}))),zgssearch.hasOwnProperty("addEventForSearchBox")&&zgssearch.addEventForSearchBox()}},gsversion.loadMissingElems(),gsversion)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};if(zgssearch.mappedServiceList={},zgssearch.serviceList=zgssearch.serviceList||[],zgssearch.servicesActionURL="/zgssearch/gsServicesActionData",zgssearch.zsservicesActionURL="/zgssearch/zsServicesActionData",zgssearch.noUserPhoto=zgssearch.noUserPhoto||"/zgssearch/images/no-user-image.png",zgssearch.connectLinkURL=zgssearch.connectLinkURL||"/zgssearch/images/default-pulse-link.png",zgssearch.orderedServiceList=[GSConstant.ALL,GSConstant.PEOPLE,GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.MAILS,GSConstant.CHAT,GSConstant.CONNECT,GSConstant.DOCUMENTS,GSConstant.CRM,GSConstant.SUPPORT,GSConstant.CREATOR,GSConstant.REPORTS,GSConstant.DISCUSSIONS,GSConstant.WIKI],zgssearch.mappedServiceList[GSConstant.ALL]={displayName:zgssearch.getI18NMsg("gs.search.service_allapps"),serviceicon:"zgs19_gsUniAllIcon"},zgssearch.mappedServiceList[GSConstant.MAILS]={displayName:zgssearch.getI18NMsg("gs.search.service_mails"),serviceicon:"zgs19_gsUniMailsIcon",callout:"gsmails",id:"zgs20_gsMailCallout"},zgssearch.mappedServiceList[GSConstant.CRM]={displayName:zgssearch.getI18NMsg("gs.search.service_crm"),serviceicon:"zgs19_gsUniCrmIcon",callout:"gscrm",id:"zgs20_gsCRMCallout"},zgssearch.mappedServiceList[GSConstant.DOCUMENTS]={displayName:zgssearch.getI18NMsg("gs.search.service_documents"),serviceicon:"zgs19_gsUniDocsIcon",callout:"gsdocs",id:"zgs20_gsDocsCallout"},zgssearch.mappedServiceList[GSConstant.PEOPLE]={displayName:zgssearch.getI18NMsg("gs.search.service_people"),serviceicon:"zgs19_gsUniPeopleIcon",callout:"gscontacts",id:"zgs20_gsContactsCallout"},zgssearch.mappedServiceList[GSConstant.ORGCONTACTS]={displayName:zgssearch.getI18NMsg("gs.search.service_org_contact"),serviceicon:"zgs19_gsUniOrgIcon",callout:"gscontacts",id:"zgs20_gsContactsCallout"},zgssearch.mappedServiceList[GSConstant.PERSONALCONTACTS]={displayName:zgssearch.getI18NMsg("gs.search.service_contact"),serviceicon:"zgs19_gsUniPerIcon",callout:"gscontacts",id:"zgs20_gsContactsCallout"},zgssearch.mappedServiceList[GSConstant.CHAT]={displayName:zgssearch.getI18NMsg("gs.search.service_chat"),serviceicon:"zgs19_gsUniChatIcon",callout:"gschat",id:"zgs20_gsChatCallout"},zgssearch.mappedServiceList[GSConstant.SUPPORT]={displayName:zgssearch.getI18NMsg("gs.search.service_desk"),serviceicon:"zgs19_gsUniSupportIcon",callout:"gssupport",id:"zgs20_gsSupportCallout"},zgssearch.mappedServiceList[GSConstant.REPORTS]={displayName:zgssearch.getI18NMsg("gs.search.service_reports"),serviceicon:"zgs19_gsUniReportsIcon",callout:"gsreports",id:"zgs20_gsReportsCallout"},zgssearch.mappedServiceList[GSConstant.CONNECT]={displayName:zgssearch.getI18NMsg("gs.search.service_connect"),serviceicon:"zgs19_gsUniConnectIcon",callout:"gsconnect",id:"zgs20_gsConnectCallout"},zgssearch.mappedServiceList[GSConstant.DISCUSSIONS]={displayName:zgssearch.getI18NMsg("gs.search.service_discussions"),serviceicon:"zgs19_gsUniDiscIcon",callout:"gsdisc",id:"zgs20_gsDiscCallout"},zgssearch.mappedServiceList[GSConstant.WIKI]={displayName:zgssearch.getI18NMsg("gs.search.service_wiki"),serviceicon:"zgs19_gsUniWikiIcon",callout:"gswiki",id:"zgs20_gsWikiCallout"},zgssearch.mappedServiceList[GSConstant.CREATOR]={displayName:zgssearch.getI18NMsg("gs.search.service_creator"),serviceicon:"zgs19_gsUniCreatorIcon",callout:"gscreator",id:"zgs20_gsCreatorCallout"},GSConstant.hasOwnProperty("gsspacergifurl")&&(zgssearch.gsspacer=GSConstant.gsspacergifurl+GSConstant.BUILD_DATE+"/images/gsspacer.gif",zgssearch.noUserPhoto=GSConstant.gsspacergifurl+GSConstant.BUILD_DATE+"/images/no-user-image.png",zgssearch.connectLinkURL=GSConstant.gsspacergifurl+GSConstant.BUILD_DATE+"/images/default-pulse-link.png"),!zgssearch.resultarea){zgssearch.resultarea=!0;var backtotop=zgssearch.getI18NMsg("gs.search.service_backtotop"),backtohome=zgssearch.getI18NMsg("gs.search.service_backtohome");_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultLeft",class:"zgs19_gsSearchResultLeftNew",gs:"serviceLeftPanel",rkey:"refresh"}).append(_jQueryGS("<span>",{class:"zgs19_gsHomeLoaderPos zgs19_gsHomeLoader"}))).append(_jQueryGS("<div>",{id:"zgs20_gsSerPanelShadow",class:"zgs19_gsServicePanelShadow"})).append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultMiddle",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultMiddle zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsAllSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsOverflowAuto zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsMultiSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone",gs:"ModulePage"})).append(_jQueryGS("<div>",{id:"zgs20_gsBackToTop",class:"zgs19_gsBackToTop zgs19_gsDisplayNone zgs19_gsCurPointer",tooltip:backtotop,gs:"backToTop"}))).append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultRight",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultRight zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsHomeIcon",class:"zgs19_gsHomeIcon zgs19_gsResultsUniIcons zgs19_gsDisplayNone zgs19_gsCurPointer",tooltip:backtohome,gs:"backToHome"})),_jQueryGS("#zgs20_gsQueryBox").after(_jQueryGS("<div>",{id:"zgs20_gsQueryDiv",class:"zgs19_gsQueryDiv zgs19_gsBorderBox zgs19_gsBoxshadow zgs19_gsuserselnone"})),_jQueryGS("#zgs20_gsQueryBoxHolder").append(_jQueryGS("<div>",{id:"zgs20_gsQuerySugg",class:"zgs19_gsQuerySugg zgs19_gsBorderBox zgs19_gsOverflow zgs19_gsDisplayNone"}));var qryInnerDiv=_jQueryGS("#zgs20_gsQueryBoxHolder").find(".zgs19_gsqryinnerdiv");_jQueryGS(qryInnerDiv).append(_jQueryGS("<div>",{id:"zgs20_gsQueryCloseBox",class:"zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsCurPointer",gs:"qryCloseIcon"})))}zgssearch.setCalloutSearchType=function(service){zgssearch.calloutSearchType=service},zgssearch.getCalloutSearchType=function(){return zgssearch.calloutSearchType},zgssearch.setSearchType=function(service){zgssearch.searchType=service},zgssearch.getSearchType=function(){return zgssearch.searchType},zgssearch.getServiceList=function(){return zgssearch.serviceList},zgssearch.getMappedServiceList=function(){return zgssearch.mappedServiceList},zgssearch.getOrderedServiceList=function(){return zgssearch.orderedServiceList},zgssearch.isArrayContain=function(value,array){return-1!==_jQueryGS.inArray(value,array)},zgssearch.preCheckForContacts=function(){var sList=zgssearch.getServiceList();if(zgssearch.isArrayContain(GSConstant.PEOPLE,sList)&&zgssearch.isArrayContain(GSConstant.ORGCONTACTS,sList)){var slIndex=sList.indexOf(GSConstant.ORGCONTACTS);zgssearch.serviceList.splice(slIndex,1)}},zgssearch.updateStaticURL=function(){GSConstant.hasOwnProperty("gsspacergifurl")&&(zgssearch.gsspacer=GSConstant.gsspacergifurl+GSConstant.BUILD_DATE+"/images/gsspacer.gif",zgssearch.noUserPhoto=GSConstant.gsspacergifurl+GSConstant.BUILD_DATE+"/images/no-user-image.png",zgssearch.connectLinkURL=GSConstant.gsspacergifurl+GSConstant.BUILD_DATE+"/images/default-pulse-link.png")},zgssearch.initServiceList=function(){zgssearch.renderWelcomePage();var pcode=zgssearch.getPCode(),serList=zgssearch.getServiceList();if("COMPLETE"!=zgssearch.statusOfServiceFetchData&&(!serList||0==serList.length)){var accServiceList=GSConstant.accessibleServices||[];if("ZO"==pcode||0<accServiceList.length||GSConstant.hasOwnProperty("widgetObject")){if(zgssearch.statusOfServiceFetchData="COMPLETE","ZO"==pcode){var zosuc=zgssearch.getZOSUserConfig();zgssearch.storeServiceList(zosuc)}else if(0<accServiceList.length)zgssearch.storeServiceList(accServiceList);else{var services=GSConstant.widgetObject.servicesArrayList||[];zgssearch.storeServiceList(services)}zgssearch.updateStaticURL(),zgssearch.renderServiceList(),zgssearch.displayDefaultPage()}}},zgssearch.storeServiceList=function(serviceArray){var pcode=zgssearch.getPCode();if(zgssearch.serviceList=[GSConstant.ALL],"ZO"==pcode)zgssearch.storeZOSServiceList();else for(var i=0;i<serviceArray.length;i++)zgssearch.serviceList.push(serviceArray[i].trim())},zgssearch.storeZOSServiceList=function(){for(var flag=!1,zosuc=zgssearch.getZOSUserConfig(),oList=zgssearch.getOrderedServiceList(),len=zosuc.length,i=0;i<len;i++){var zosuco=zosuc[i],appname=zosuco.app_name;zgssearch.isArrayContain(appname,oList)?zgssearch.serviceList.push(appname.trim()):"mail"==appname?(flag=!0,zosuco.app_name=GSConstant.MAILS,zgssearch.serviceList.push(GSConstant.MAILS),zosuc[i]=zosuco):"docs"==appname&&(flag=!0,zosuco.app_name=GSConstant.DOCUMENTS,zgssearch.serviceList.push(GSConstant.DOCUMENTS),zosuc[i]=zosuco)}flag&&zgssearch.updateZOSUserConfig(zosuc)},zgssearch.renderServiceList=function(){zgssearch.preCheckForContacts();var sList=zgssearch.getServiceList(),mList=zgssearch.getMappedServiceList(),oList=zgssearch.getOrderedServiceList();_jQueryGS("#zgs20_gsSearchResultLeft").empty().append(_jQueryGS("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsBorderBox",gs:"servListHolder"}));for(var i=0;i<oList.length;i++){var oService=oList[i];zgssearch.isArrayContain(oService,sList)&&zgssearch.mappedServiceList.hasOwnProperty(oService)&&zgssearch.renderServicePanelList(oService,mList[oService])}zgssearch.hasOwnProperty("jqueryMouseEvent")&&zgssearch.jqueryMouseEvent(),zgssearch.resetLeftPanel||(zgssearch.resetLeftPanel=!0,_jQueryGS("#zgs20_gsSearchResultLeft").scrollTop(0))},zgssearch.renderServicePanelList=function(service,mapObj){var className="zgs19_gsUnServiceLeftPanel";zgssearch.getSearchType()===service&&(className="zgs19_gsSelectedServicepanelNew");var servicon=mapObj.serviceicon;_jQueryGS("#zgs20_gsServListHolder").append(_jQueryGS("<div>",{id:"zgs20_gsServicePanelList"+service,class:"zgs19_gsServiceMenu zgs19_gsServiceLeftPanelNew zgs19_gsCurPointer "+className,service:service,gs:"serviceLeftPanelMenu"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceLeftPanelRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceLeftPanelCell1New"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIconsNew zgs19_gsSearchIconSvgNew "+servicon,gs:"icon"})).append(_jQueryGS("<span>",{class:"zgs19_gsServiceLeftPanelServiceNew zgs19_gsOverflow",gs:"text"}).text(mapObj.displayName)))))},zgssearch.displayDefaultPage=function(){_jQueryGS(".zgs19_gsSearchResultAreaChild").hide(),_jQueryGS(".zgs19_gsResultsHolderChild").hide(),_jQueryGS("#zgs20_gsResultsHolder").show()},zgssearch.showSearchPageLoader=function(){_jQueryGS("#zgs20_gsProgressLoader").show()},zgssearch.hideSearchPageLoader=function(){_jQueryGS("#zgs20_gsProgressLoader").hide()},zgssearch.getFourDotLoader=function(id,className){return _jQueryGS("<div>",{id:id,class:className}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"}))},zgssearch.clickActionForServiceList=function(service){zgssearch.gsautocomplete.checkQueryFilterExists("services",service),zgssearch.gsautocomplete.checkQueryFilterExists("users");var query=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(query);if(zgssearch.isServiceHasMultiPortals(service)||(zgssearch.multiPageEnabled=!1),zgssearch.isArrayContain(service,zgssearch.serviceList))if(zgssearch.isQueryValid(mquery)||zgssearch.isQueryHasFilters())if(zgssearch.searchedQuery!==query||zgssearch.getSearchType()!==service)zgssearch.handleUserSearchQuery(mquery,service);else{var cwidth=_jQueryGS("#zgs20_gsSearchResultRight").width();if(zgssearch.minPrevPane!=cwidth){var resObj=zgssearch.getCurrentResObj(),selectedService=_jQueryGS(zgssearch.curSelectedEle).attr("service");zgssearch.minCalloutPreview(selectedService,resObj)}}else{var mlist=zgssearch.getWidgetServiceList(service);zgssearch.updateMultiPageFlag(service,mlist.key),zgssearch.updateSearchType(service),zgssearch.updateCurrentPage(service),zgssearch.enableSortFilter()}zgssearch.focus("zgs20_gsQueryBox"),zgssearch.handleEmptySearchBox()},zgssearch.updateCurrentPage=function(service){zgssearch.showHomeIcon(),zgssearch.isServiceHasFilter(service)?(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage()):zgssearch.displayDefaultPage(),zgssearch.renderServiceFilterList(service)},zgssearch.renderWelcomePage=function(){if(!zgssearch.loadWelcomePage){zgssearch.loadWelcomePage=!0,_jQueryGS("#zgs20_gsWelcomePage").remove();var icon,tipdiv,wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_pagetips");_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsWelcomePage",class:"zgs19_gsWelcomePage zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeTitleNew zgs19_gsOverflow zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{title:wtitle}).text(wtitle))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeTips zgs19_gsOverflow zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{title:wtips}).text(wtips)))));var wfooter=_jQueryGS("<div>",{class:"zgs19_gsWelcomeulNew"});icon="zgs19_gsResultsUniIcons zgs19_gsWelcomeHash",wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyapps"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappstips");var wtips2=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappsMail"),wtips3=zgssearch.getI18NMsg("gs.search.service_common_or"),wtips4=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappsCRM"),maxtip=wtips+" "+wtips2+" "+wtips3+" "+wtips4;tipdiv=_jQueryGS("<span>",{title:maxtip}).append(wtips).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(wtips2)).append(wtips3).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(wtips4));var childElem1=zgssearch.renderWelcomeChild(icon,wtitle,tipdiv);icon="zgs19_gsResultsUniIcons zgs19_gsWelcomeAT",wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontact"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontacttips"),wtips2=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontactJohn"),tipdiv=_jQueryGS("<span>",{title:maxtip=wtips+" "+wtips2+" "+wtips3+" "+wtips4}).append(wtips).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(wtips2));var childElem2=zgssearch.renderWelcomeChild(icon,wtitle,tipdiv);icon="zgs19_gsResultsUniIcons zgs19_gsWelcomeFilter",wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_filter"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_filtertips"),tipdiv=_jQueryGS("<span>",{title:wtips}).text(wtips);var childElem3=zgssearch.renderWelcomeChild(icon,wtitle,tipdiv);icon="zgs19_gsResultsUniIcons zgs19_gsWelcomeQuickActions",wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_quickactions"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_quickactionstip"),tipdiv=_jQueryGS("<span>",{title:wtips}).text(wtips);var childElem4=zgssearch.renderWelcomeChild(icon,wtitle,tipdiv);wfooter.append(_jQueryGS("<div>",{class:"zgs19_gsDispInlblk"}).append(childElem1).append(childElem2)).append(_jQueryGS("<div>",{class:"zgs19_gsDispInlblk"}).append(childElem3).append(childElem4)),_jQueryGS("#zgs20_gsWelcomePage").append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeFooter"}).append(wfooter)),_jQueryGS("#zgs20_gsHomeIcon").hide();var searchType=zgssearch.getSearchType(),searchedQuery=zgssearch.searchedQuery||"";GSConstant.ALL==searchType&&""==searchedQuery&&(zgssearch.showWelcomePage(),zgssearch.displayDefaultPage())}},zgssearch.renderWelcomeChild=function(icon,title,tipdiv){return _jQueryGS("<div>",{class:"zgs19_gsWelcomeli zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich1"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeIconHol zgs19_gsfl"}).append(_jQueryGS("<span>",{class:icon}))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomechnameNew zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{title:title}).text(title)))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich2New zgs19_gsOverflowWrap"}).append(tipdiv)))},zgssearch.showWelcomePage=function(){zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsWelcomePage").show()},zgssearch.hideWelcomePage=function(){_jQueryGS("#zgs20_gsWelcomePage").hide()},zgssearch.showHomeIcon=function(){zgssearch.hideHomeIcon();var searchType=zgssearch.getSearchType();GSConstant.ALL!=searchType||0<zgssearch.total_no_of_results||zgssearch.noMoreResults||_jQueryGS("#zgs20_gsHomeIcon").show()},zgssearch.hideHomeIcon=function(){_jQueryGS("#zgs20_gsHomeIcon").hide()},zgssearch.getWidthOfText=function(value,maxWidth,className){className=className||"zgs19_gstooltext";var telem1=zgssearch.getTargetElem("zgs20_globalsearch");_jQueryGS(telem1).append(_jQueryGS("<div>",{id:"zgs20_gsDummytootltip",class:"zgs19_gsOverflow "+className,style:"max-width:300px;opacity:0;float:left;"}).text(value));var tdummywidth=zgssearch.getTargetElem("zgs20_gsDummytootltip").getBoundingClientRect().width;return _jQueryGS("#zgs20_gsDummytootltip").remove(),maxWidth<tdummywidth?maxWidth:tdummywidth},zgssearch.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.hasOwnProperty("getcontacts")?WmsContacts.getcontacts():{}},zgssearch.isWMSChatPaused=function(){return"undefined"==typeof WebMessanger||!WebMessanger.hasOwnProperty("isChatPaused")||WebMessanger.isChatPaused()},zgssearch.uri=function(type,url,param,args,callback){zgssearch.POST==type&&(param+="&"+GSConstant.csrfName+"="+zgssearch.getCookie("CSRF_TOKEN"));var timeout=args&&args.hasOwnProperty("timeout")?args.timeout:15e3,xmlHttpReq=_jQueryGS.ajax({type:type,url:url,data:param,timeout:timeout,success:function(data,textStatus,xhr){xmlHttpReq.callback(data,textStatus,xhr)},error:function(xhr){xmlHttpReq.callback({},"error",xhr)}});xmlHttpReq.args=args,xmlHttpReq.callback=callback},zgssearch.initServiceList()}(zgssearch,window),function(zgssearch,window){var gsusersettings,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsusersettings=(gsusersettings=void 0,(gsusersettings=zgssearch.gsusersettings||{}).savedSearchData=gsusersettings.modifiers||{},gsusersettings.loadSavedSearchPage=!1,gsusersettings.loadSettingsPage=!1,gsusersettings.isSaveThisSearchDialogOpened=!1,gsusersettings.openSettingsMenuOptions=function(){GSConstant.cus&&_jQueryGS("#zgs20_gsSearchBoxRight").append(_jQueryGS("<div>",{id:"zgs20_gsMenuOptionHolder",class:"zgs19_gsMenuOptionHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsAdvFilterIcon",class:"zgs19_gsAdvFilterIcon zgs19_gsCurPointer",gs:"advFilter"})))},gsusersettings.renderSavedSearchesPage=function(response){if(gsusersettings.loadSavedSearchPage=!1,!gsusersettings.loadSavedSearchPage&&(gsusersettings.loadSavedSearchPage=!0,_jQueryGS("#zgs20_gsWelcomePage").remove(),_jQueryGS("#zgs20_gsSavedSearchesPage").remove(),_jQueryGS("#zgs20_gsServiceReOrder").hide(),_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsSettingsPage"}).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchesPage",class:"zgs19_gsServiceReorderBase zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gspRw100h100"}).append(_jQueryGS("<div>",{class:"zgs19_gspop-title"}).text("Saved Searches")).append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchesListing zgs19_gsOverflow zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{id:"zgs20_gsSSListing"}))))),response.hasOwnProperty("success"))){var mList=zgssearch.getMappedServiceList(),responseData=JSON.parse(response.success),keyvsQuery={};for(var i in responseData){var ssName=responseData[i].ssn,service=responseData[i].serName,serviceicon=mList[service||GSConstant.ALL].serviceicon;serviceicon.substring("zgs19_gsUni".length,serviceicon.length),_jQueryGS("#zgs20_gsSSListing").append(_jQueryGS("<div>",{id:i}).append(_jQueryGS("<span>",{class:"zgs19_gsSavedName zgs19_gsCurPointer",gs:"searchSavedData",data:ssName}).text(ssName))),keyvsQuery[ssName]=responseData[i]}gsusersettings.setSavedSearchedData(keyvsQuery),gsusersettings.showSavedSearchesPage()}},gsusersettings.setSavedSearchedData=function(resp){gsusersettings.savedSearchData=resp},gsusersettings.peformSavedSearchedData=function(target){var data=_jQueryGS(target).text(),resData=gsusersettings.savedSearchData;if(resData.hasOwnProperty(data)){var fullRes=resData[data],service=fullRes.serName,query=fullRes.fq.query,finalservice=service||GSConstant.ALL;zgssearch.updateSearchType(finalservice),_jQueryGS("#zgs20_gsQueryBox").val(query),_jQueryGS("#zgs20_gsQueryDiv").text(query),gsusersettings.hideSavedSearchesPage(),zgssearch.handleDefaultSearch()}},gsusersettings.showSavedSearchesPage=function(){zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsSavedSearchesPage").show()},gsusersettings.hideSavedSearchesPage=function(){_jQueryGS("#zgs20_gsSavedSearchesPage").hide()},gsusersettings.getSortableListOfServices=function(){var servicesArr=new Array;return _jQueryGS("#zgs20_finalOrgTabInner .zgs19_gszsserviceOrder .zgs19_gsTabBoxIn div").each(function(i){var orgVal=_jQueryGS(this).attr("service");servicesArr.push(orgVal)}),servicesArr},gsusersettings.renderServiceReordering=function(response){gsusersettings.loadSettingsPage||(gsusersettings.loadSettingsPage=!0,zgssearch.loadJSFile("https://code.jquery.com/jquery-1.12.4.js"),zgssearch.loadJSFile("https://code.jquery.com/ui/1.12.1/jquery-ui.js",zgssearch.loadSortableJQueryJSFile)),_jQueryGS("#zgs20_gsWelcomePage").remove(),_jQueryGS("#zgs20_gsSavedSearchesPage").remove(),_jQueryGS("#zgs20_gsServiceReOrder").remove(),_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsSettingsPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceReorderBase zgs19_gsDisplayNone",id:"zgs20_gsServiceReOrder"}).append(_jQueryGS("<div>",{id:"zgs20_gsServiceOrderPage",class:"zgs19_gspRw100h100"}).append(_jQueryGS("<div>",{class:"zgs19_gspop-title"}).text("Apps Ordering")).append(_jQueryGS("<div>",{class:"zgs19_gsw100h100"}).append(_jQueryGS("<div>",{class:"zgs19_gsTabOrganizeBlock"}).append(_jQueryGS("<div>",{class:"zgs19_gsOrgTabInner"}).append(_jQueryGS("<div>",{id:"zgs20_finalOrgTabInner",class:"zgs19_gsTabGroup ui-sortable"})))))).append(_jQueryGS("<div>",{id:"zgs20_gsServiceOrder",class:"zgs19_gsServiceOrderFieldsBottom"}).append(_jQueryGS("<input>",{class:"zgs19_gsServiceOrderSaveField zgs19_gsCurPointer zgs19_gsfl",type:"button",value:"Save",gs:"serviceOrderFields",datatype:"save"})).append(_jQueryGS("<input>",{class:"zgs19_gsServiceOrderCancelField zgs19_gsCurPointer zgs19_gsfl",type:"button",value:"cancel",gs:"serviceOrderFields",datatype:"close"}))))),gsusersettings.renderServicesListOfUser(response)},gsusersettings.renderServicesListOfUser=function(response){var serArr=zgssearch.getServiceList(),mList=zgssearch.getMappedServiceList();response&&response.hasOwnProperty("success")&&(serArr=zgssearch.jsonParse(response.success));for(var wi=0;wi<serArr.length;wi++){var service=serArr[wi];if("all"!==service&&"recruit"!==service&&mList.hasOwnProperty(service)){var serviceicon=mList[service].serviceicon,newServiceIcon="zgs19_gsGrey"+serviceicon.substring("zgs19_gsUni".length,serviceicon.length),eachService=_jQueryGS("<div>",{class:"zgs19_gszsserviceOrder zgs19_gsTabCount"}).append(_jQueryGS("<div>",{class:"zgs19_gsTabBoxIn"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderPanel",service:service}).append(_jQueryGS("<span>",{class:"zgs19_gsGreyIconsNew zgs19_gsSearchIconSvgNew "+newServiceIcon,gs:"icon"})).append(_jQueryGS("<span>",{class:"zgs19_gsServiceLeftPanelServiceNew zgs19_gsOverflow",gs:"text"}).text(mList[service].displayName))));_jQueryGS("#zgs20_finalOrgTabInner").append(eachService)}}},gsusersettings.showServiceReorderPage=function(){zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsServiceReOrder").show()},gsusersettings.hideServiceReorderPage=function(){_jQueryGS("#zgs20_gsServiceReOrder").hide()},gsusersettings.renderPreferences=function(){gsusersettings.renderPreferences||(gsusersettings.renderPreferences=!0,_jQueryGS("#zgs20_gsWelcomePage").remove(),_jQueryGS("#zgs20_gsSavedSearchesPage").remove(),_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsSettingsPage",class:"zgs19_gsSavedSearchesPage zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{}).append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchesTitle zgs19_gsOverflow zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{}).text("Saved Searches"))).append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchesListing zgs19_gsOverflow zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{}).text())))))},gsusersettings.showSettingsPage=function(){zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsSettingsPage").show()},gsusersettings.hideSettingsPage=function(){_jQueryGS("#zgs20_gsSettingsPage").hide()},gsusersettings.renderSettingsPage=function(action,target){_jQueryGS("#zgs20_gsSearchResultMiddle").hide(),_jQueryGS("#zgs20_gsSearchResultRight").hide();var settingsURL=zgssearch.getUserSettingsDataURL;zgssearch.uri(zgssearch.GET,settingsURL,"action="+action,"",function(data,status,xhr){var response=zgssearch.jsonParse(data);"savedsearches"===action?gsusersettings.renderSavedSearchesPage(response):"servicereorder"===action?(gsusersettings.renderServiceReordering(response),gsusersettings.showServiceReorderPage()):"userpreferences"===action&&gsusersettings.renderPreferences(response)})},gsusersettings.updateSettingsPage=function(){_jQueryGS("#zgs20_gsSearchResultMiddle").hide(),_jQueryGS("#zgs20_gsSearchResultRight").hide();var serArr=gsusersettings.getSortableListOfServices(),dataObj={};dataObj.serviceslist=serArr.join();var jsonObj=JSON.stringify(dataObj);zgssearch.uri(zgssearch.POST,zgssearch.postUserSettingsDataURL,"action=updateservicereorder&data="+jsonObj+"&"+GSConstant.csrfName+"="+zgssearch.getCookie("CSRF_TOKEN"),"",function(data){200==zgssearch.jsonParse(data).status_code&&zgssearch.renderServiceList()}),gsusersettings.hideSavedSearchDialog()},gsusersettings.doSaveThisSearch=function(){var stsVal=_jQueryGS("#zgs20_gsSTS").val();if(""!==stsVal){var lastQry=zgssearch.getLastSearchedQuery(),service=zgssearch.getSearchType();zgssearch.uri(zgssearch.POST,zgssearch.postUserSettingsDataURL,"action=savethissearch&service="+service+"&name="+encodeURIComponent(stsVal)+"&data="+lastQry+"&"+GSConstant.csrfName+"="+zgssearch.getCookie("CSRF_TOKEN"),"",function(data){var response=zgssearch.jsonParse(data);zgssearch.lastSearchQuery={},response.status}),gsusersettings.hideSavedSearchDialog()}else alert("Please provide Name")},gsusersettings.hideSavedSearchDialog=function(){_jQueryGS("#zgs20_gsSavedSearch").remove(),_jQueryGS(".zgs19_gsSavedSearchDialog").remove(),gsusersettings.isSaveThisSearchDialogOpened=!1},gsusersettings.userSettingsActions=function(tarElem){switch(_jQueryGS(tarElem).attr("datatype")){case"saveSSFields":gsusersettings.doSaveThisSearch();break;case"closeSSFields":gsusersettings.hideSavedSearchDialog();break;case"save":gsusersettings.updateSettingsPage(),gsusersettings.hideServiceReorderPage();break;case"close":gsusersettings.hideServiceReorderPage()}},gsusersettings.displaySavedSearchDialog=function(){var pholder=zgssearch.getI18NMsg("gs.search.service_saved_search_name");_jQueryGS("#zgs19_gsSavedSearchDialog").remove(),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchDialog"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos",gs:"gsssoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearch",class:"zgs19_gsSavedSearch zgs19_gsSC_PU"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUtt zgs19_gsOverflow",value:"SSTitle"}).text("Please provide Search Name")).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow"})).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom"}).append(_jQueryGS("<input>",{id:"zgs20_gsSTS",class:"zgs19_gsSCInput",type:"text",gs:"CalloutEditFields",placeholder:pholder})).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsSC_PUbtm"}).append(_jQueryGS("<span>",{"data-val":"save",class:"zgs19_gsSC_PUbtm zgs19_gssave",gs:"savesearchFields",datatype:"saveSSFields"}).text("Save")).append(_jQueryGS("<span>",{"data-val":"cancel",class:"zgs19_gsSC_PUbtm zgs19_gscancel",gs:"savesearchFields",datatype:"closeSSFields"}).text("Cancel")))))),gsusersettings.isSaveThisSearchDialogOpened=!0},gsusersettings.displayMenuOption=function(){_jQueryGS("#zgs20_gsMenuOption").length<=0&&_jQueryGS("#zgs20_gsMenuOptionHolder").append(_jQueryGS("<div>",{id:"zgs20_gsMenuOption",class:"zgs19_gsMenuOption zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gssavethis",class:"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",gs:"savethissearch"}).text("Save this search")).append(_jQueryGS("<div>",{class:"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",gs:"savedsearches"}).text("Saved Searches")).append(_jQueryGS("<div>",{class:"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",gs:"servicereorder"}).text("Apps Reordering")).append(_jQueryGS("<div>",{class:"zgs19_gsLineSep"})).append(_jQueryGS("<div>",{class:"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",gs:"settings"}).text("Settings"))),zgssearch.getLastSearchedQuery()&&0<zgssearch.getLastSearchedQuery().length?_jQueryGS("#zgs20_gssavethis").show():_jQueryGS("#zgs20_gssavethis").hide(),"none"===_jQueryGS("#zgs20_gsMenuOption").css("display")?_jQueryGS("#zgs20_gsMenuOption").show():_jQueryGS("#zgs20_gsMenuOption").hide()},gsusersettings)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=(zgssearch=window.zgssearch||{}).getGSConstantObj()||{};zgssearch.gFilterData=zgssearch.gFilterData||{},zgssearch.deskmodid=["1","2","3","4"],zgssearch.config_multiPortals=zgssearch.config_multiPortals||{},zgssearch.ismultiConfigEnabled=zgssearch.ismultiConfigEnabled||!1,zgssearch.setFilterObj=function(service,obj){obj&&(zgssearch.gFilterData[service]=obj)},zgssearch.getFilterObj=function(service){return zgssearch.gFilterData[service]||{}},zgssearch.getFilterInfo=function(service,type,key){var ffObj=zgssearch.getFilterObj(service);if(ffObj.hasOwnProperty(type)){var fftype=ffObj[type];if(fftype.hasOwnProperty(key))return fftype[key]}return""},zgssearch.getFilterData=function(service,type,key,value){var mlist=zgssearch.getWidgetServiceList(service),fftype=zgssearch.getFilterInfo(service,type,key),ttype=zgssearch.getFilterInfo(service,type,"type");if(fftype&&""!=fftype)if("1"==ttype){if(fftype.hasOwnProperty(value))return fftype[value]}else if("2"==ttype)for(var fid in fftype){if((wObj=fftype[fid]).hasOwnProperty(value))return wObj[value]}else if("3"==ttype){var sportal=zgssearch.getFilterInfo(service,mlist.key,"current");if(fftype.hasOwnProperty(sportal))if((wObj=fftype[sportal]).hasOwnProperty(value))return wObj[value]}else if("4"==ttype){var mportal=zgssearch.getFilterInfo(service,mlist.key,"current");if(fftype.hasOwnProperty(mportal)){var wObj=fftype[mportal];for(var mpi in wObj){if((kObj=wObj[mpi]).key==value)return kObj.name}}}else if("5"==ttype){mportal=zgssearch.getFilterInfo(service,mlist.key,"current");if(fftype.hasOwnProperty(mportal)){wObj=fftype[mportal];for(var mpi in wObj){var kObj;if((kObj=wObj[mpi]).ID==value)return kObj.NAME}}}return""},zgssearch.updateFilterInfo=function(service,type,key,value){var ffObj=zgssearch.getFilterObj(service);if(ffObj.hasOwnProperty(type)){var fftype=ffObj[type];fftype.hasOwnProperty(key)&&(fftype[key]=value)}},zgssearch.isServiceHasFilter=function(service_name){var hasFilter=!1,gfObj=zgssearch.getFilterObj(service_name);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj),i=0;i<common_order.length;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey))1<(gfObj[fkey].length||0)&&(hasFilter=!0)}return hasFilter},zgssearch.isServiceHasWidget=function(service_name){var hasFilter=!1,gfObj=zgssearch.getFilterObj(service_name);if(gfObj){var skey=zgssearch.getWidgetKey(service_name);if(gfObj.hasOwnProperty(skey))1<(gfObj[skey].length||0)&&(hasFilter=!0)}return hasFilter},zgssearch.isWidgetService=function(service){switch(service){case GSConstant.MAILS:case GSConstant.CRM:case GSConstant.SUPPORT:case GSConstant.CONNECT:case GSConstant.DISCUSSIONS:case GSConstant.WIKI:case GSConstant.REPORTS:case GSConstant.CREATOR:return!0}return!1},zgssearch.getWidgetKey=function(service){switch(service){case GSConstant.SUPPORT:return"departments";case GSConstant.CREATOR:return"apps";default:return zgssearch.getWidgetServiceList(service).key||""}return""},zgssearch.getServiceSpecificURL=function(search_type){var searchURL="";GSConstant.ALL===search_type?"ZO"==zgssearch.getPCode()&&(searchURL=zgssearch.getWidgetparams(search_type)):searchURL=zgssearch.getFilterParams(search_type);return searchURL+=zgssearch.getSortParams(search_type)},zgssearch.getSortParams=function(search_type){if(GSConstant.ALL===search_type||zgssearch.multiPageEnabled)for(var slist=GSConstant.ALL===search_type?zgssearch.getServiceList():[search_type],i=0;i<slist.length;i++)for(var service=slist[i],gfObj=zgssearch.getFilterObj(service),sort_order=gfObj.sort_order||[],j=0;j<sort_order.length;j++){var fkey=sort_order[j];if(gfObj.hasOwnProperty(fkey)){var filters={},fkObj=gfObj[fkey];return filters[fkObj.key]=fkObj.default,"&filters="+encodeURIComponent(JSON.stringify(filters))}}return""},zgssearch.getWidgetparams=function(search_type){var searchURL="",filters={},gfObj=zgssearch.getFilterObj(search_type);if(gfObj){var fkey=zgssearch.getWidgetKey(search_type);if(gfObj.hasOwnProperty(fkey)){var fkObj=gfObj[fkey];filters[fkObj.key]=fkObj.current}_jQueryGS.isEmptyObject(filters)||(zgssearch.updateLastSearchQuery("filters",JSON.stringify(filters)),searchURL+="&filters="+encodeURIComponent(JSON.stringify(filters)))}return searchURL},zgssearch.getFilterParams=function(search_type){var searchURL="",filters={},gfObj=zgssearch.getFilterObj(search_type);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj),i=0;i<common_order.length;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey)){var fkObj=gfObj[fkey],ovalue=fkObj.current,odefault=fkObj.default;if("date"==fkey)switch(search_type){case GSConstant.CHAT:case GSConstant.MAILS:case GSConstant.CONNECT:case GSConstant.DISCUSSIONS:case GSConstant.WIKI:odefault!=ovalue&&(filters.fromdate=fkObj.fromdate,filters.todate=fkObj.todate)}else"6"==fkObj.type?ovalue&&(filters[fkObj.key]=ovalue):(zgssearch.updateMultiPageFlag(search_type,fkey),zgssearch.multiPageEnabled||(filters[fkObj.key]=ovalue))}}return _jQueryGS.isEmptyObject(filters)||(zgssearch.updateLastSearchQuery("filters",JSON.stringify(filters)),searchURL+="&filters="+encodeURIComponent(JSON.stringify(filters))),searchURL},zgssearch.isMultiDefaultAccount=function(search_type,obj){var gfObj=zgssearch.getFilterObj(search_type),mlist=zgssearch.getWidgetServiceList(search_type);if(gfObj&&mlist&&gfObj.hasOwnProperty(mlist.key)){var odefault=gfObj[mlist.key].mdefault;if(obj.account_id==odefault)return!0}return!1},zgssearch.updateMultiPageFlag=function(search_type,key){var mlist=zgssearch.getWidgetServiceList(search_type);zgssearch.isArrayContain(search_type,zgssearch.multiPageServices)&&key==mlist.key&&(zgssearch.multiPageEnabled=!1,"0"==zgssearch.getFilterInfo(search_type,mlist.key,"current")&&(zgssearch.multiPageEnabled=!0))},zgssearch.initWidgetList=function(){if("COMPLETE"!=zgssearch.statusOfWidgetFetchData&&GSConstant.hasOwnProperty("widgetObject")){zgssearch.multiPageServices=[],zgssearch.statusOfWidgetFetchData="COMPLETE";var widgetObj=GSConstant.widgetObject;zgssearch.loadWidgetList(widgetObj),zgssearch.fetchAdditionlInfo()}},zgssearch.setFiltersDetails=function(fobject,fkey,fvalue){fobject[fkey]=fvalue},zgssearch.updateConfigPortals=function(){var flag="ZO"!=zgssearch.pcode;zgssearch.ismultiConfigEnabled=flag,zgssearch.config_multiPortals[GSConstant.MAILS]=flag,zgssearch.config_multiPortals[GSConstant.CONNECT]=flag,zgssearch.config_multiPortals[GSConstant.SUPPORT]=flag,zgssearch.config_multiPortals[GSConstant.REPORTS]=flag,zgssearch.config_multiPortals[GSConstant.DISCUSSIONS]=flag,zgssearch.config_multiPortals[GSConstant.WIKI]=flag},zgssearch.updateMultiPageServiceList=function(service,length){if(zgssearch.updateConfigPortals(),(zgssearch.config_multiPortals||{})[service]){var serList=zgssearch.getServiceList();1<length&&zgssearch.isArrayContain(service,serList)&&!zgssearch.isArrayContain(service,zgssearch.multiPageServices)&&zgssearch.multiPageServices.push(service)}},zgssearch.isServiceHasMultiPortals=function(service){return!!zgssearch.isArrayContain(service,zgssearch.multiPageServices)},zgssearch.loadWidgetList=function(widgetObj){for(var slist=zgssearch.serviceList||[],i=0;i<slist.length;i++){var service=slist[i],gffo={},wffodata={},ffodata={},accIdArr=[],ffolength=0,ffodefault="",multidefault="",ffodispname="",widgetJsonArr=widgetObj[service+"WidgetData"]||[],widgetsLen=widgetJsonArr.length;switch(service){case GSConstant.MAILS:if(0<widgetsLen){for(var folderArr={},folderLen=0,m=0;m<widgetsLen;m++){var mailAccount=widgetJsonArr[m],accId=mailAccount.accountId,emailAddr=mailAccount.emailAddr,isDefaultMail=!!mailAccount.isDefault&&mailAccount.isDefault;(0===m||zgssearch.jsonParse(isDefaultMail))&&(ffodispname=emailAddr,ffodefault=multidefault=accId,zgssearch.storeMailLabelInfo(mailAccount.lArr,gffo,accId)),accIdArr.push(accId),ffodata[accId]=emailAddr;var tempFolderArr=mailAccount.fArr||[];folderArr[accId]=zgssearch.formatMailFoldersDetails(tempFolderArr),folderLen+=tempFolderArr.length}zgssearch.updateMultiPageServiceList(service,widgetsLen),zgssearch.isServiceHasMultiPortals(service)&&(ffodefault="0",ffodispname=zgssearch.getI18NMsg("gs.search.filter.allaccounts"),ffodata[ffodefault]=ffodispname,accIdArr.unshift(ffodefault));var accText=zgssearch.getI18NMsg("gs.search.filter.accounts");zgssearch.setFiltersDetails(wffodata,"title",accText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","accId"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"length",widgetsLen),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(gffo,"accounts",wffodata),wffodata={},ffodata={};var foldText=zgssearch.getI18NMsg("gs.search.filter.folders");zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"data",folderArr),zgssearch.setFiltersDetails(wffodata,"key","folderId"),zgssearch.setFiltersDetails(wffodata,"default","allfolders"),zgssearch.setFiltersDetails(wffodata,"current","allfolders"),zgssearch.setFiltersDetails(wffodata,"length",folderLen),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfolders")),zgssearch.setFiltersDetails(gffo,"folders",wffodata)}wffodata={},ffodata={},ffodata={alldays:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};var msgText=zgssearch.getI18NMsg("gs.search.filter.date_rage");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","date"),zgssearch.setFiltersDetails(wffodata,"default","alldays"),zgssearch.setFiltersDetails(wffodata,"current","alldays"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alldays")),zgssearch.setFiltersDetails(wffodata,"fromdate",""),zgssearch.setFiltersDetails(wffodata,"todate",""),zgssearch.setFiltersDetails(gffo,"date",wffodata),wffodata={},ffodata={},ffodata={withattach:zgssearch.getI18NMsg("gs.search.filter.withattach")},zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","hasAtt"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(gffo,"attach",wffodata),wffodata={},ffodata={},ffodata={flagged:zgssearch.getI18NMsg("gs.search.filter.flagged")},zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","hasFlg"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(gffo,"flag",wffodata),wffodata={},ffodata={},ffodata={withreplies:zgssearch.getI18NMsg("gs.search.filter.withreplies")},zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","hasResp"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(gffo,"replies",wffodata);zgssearch.setFiltersDetails(gffo,"order",["accounts","folders","date","labels","attach","flag","replies"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.CRM:if(0<widgetsLen){var crmUrlObj={},all_modules=zgssearch.getI18NMsg("gs.search.service_crm.all_modules");ffodata={all_crm_mod:all_modules};for(m=0;m<widgetsLen;m++){var moduleInfoObj=widgetJsonArr[m],widgetQueryName=moduleInfoObj.modQueryName,widgetModuleName=moduleInfoObj.modDispName,widgetAPIModuleName=moduleInfoObj.modName;ffodata[widgetQueryName]=widgetModuleName,"Deals"===widgetAPIModuleName&&(widgetAPIModuleName="Potentials"),crmUrlObj[widgetQueryName+"_url"]=widgetAPIModuleName}var crmText=zgssearch.getI18NMsg("gs.search.filter.modules");zgssearch.setFiltersDetails(wffodata,"title",crmText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","moduleName"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"length",widgetsLen),zgssearch.setFiltersDetails(wffodata,"dispname",all_modules),zgssearch.setFiltersDetails(wffodata,"default","all_crm_mod"),zgssearch.setFiltersDetails(wffodata,"current","all_crm_mod"),zgssearch.setFiltersDetails(wffodata,"crm_modules",crmUrlObj),zgssearch.setFiltersDetails(gffo,"modules",wffodata)}zgssearch.setFiltersDetails(gffo,"order",["modules"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.DOCUMENTS:ffodata={allfiles:zgssearch.getI18NMsg("gs.search.filter.allfiles"),mydocs:zgssearch.getI18NMsg("gs.search.filter.mydocs"),sharedtome:zgssearch.getI18NMsg("gs.search.filter.sharedtome"),sharedbyme:zgssearch.getI18NMsg("gs.search.filter.sharedbyme")};var ownertypeText=zgssearch.getI18NMsg("gs.search.filter.ownertype");zgssearch.setFiltersDetails(wffodata,"title",ownertypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","ownerType"),zgssearch.setFiltersDetails(wffodata,"default","allfiles"),zgssearch.setFiltersDetails(wffodata,"current","allfiles"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfiles")),zgssearch.setFiltersDetails(gffo,"ownertype",wffodata),wffodata={},ffodata={},ffodata={alltypes:zgssearch.getI18NMsg("gs.search.filter.alltypes"),writer:zgssearch.getI18NMsg("gs.search.filter.writer"),sheet:zgssearch.getI18NMsg("gs.search.filter.sheet"),show:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),image:zgssearch.getI18NMsg("gs.search.filter.image"),music:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video"),zip:zgssearch.getI18NMsg("gs.search.filter.zip")};var filetypeText=zgssearch.getI18NMsg("gs.search.filter.filetype");zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"default","alltypes"),zgssearch.setFiltersDetails(wffodata,"current","alltypes"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(gffo,"filetype",wffodata),zgssearch.setSortFilters(gffo),zgssearch.setFiltersDetails(gffo,"order",["ownertype","filetype"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.CHAT:wffodata={},ffodata={},ffodata={alldays:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};msgText=zgssearch.getI18NMsg("gs.search.filter.date_rage");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","date"),zgssearch.setFiltersDetails(wffodata,"default","alldays"),zgssearch.setFiltersDetails(wffodata,"current","alldays"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alldays")),zgssearch.setFiltersDetails(wffodata,"fromdate",""),zgssearch.setFiltersDetails(wffodata,"todate",""),zgssearch.setFiltersDetails(gffo,"date",wffodata),zgssearch.setSortFilters(gffo),zgssearch.setFiltersDetails(gffo,"order",["chattype","date"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.SUPPORT:if(0<widgetsLen){var defportal="",defportalName="",warmIdxData=widgetJsonArr[3]&&widgetJsonArr[3].warmIndexData||{};0<Object.keys(warmIdxData).length&&(defportal=multidefault=warmIdxData.warmPortalID,defportalName=warmIdxData.warmPortalName,ffodefault=warmIdxData.warmDepartmentID,ffodispname=warmIdxData.warmDepartmentName);var portalObj={};if(widgetJsonArr[4])for(var portalList=widgetJsonArr[4]&&widgetJsonArr[4].portalList||{},co=0;co<portalList.length;co++){var portObj=portalList[co],cSoid=portObj.id?portObj.id:"",cName=portObj.name?portObj.name:"";portalObj[cSoid]=cName,accIdArr.push(cSoid)}else for(var listId in portalObj=widgetJsonArr[0].listData)accIdArr.push(listId);var lenOfPortalObj=Object.keys(portalObj).length;zgssearch.updateMultiPageServiceList(service,lenOfPortalObj),zgssearch.isServiceHasMultiPortals(service)&&(defportal="0",defportalName=zgssearch.getI18NMsg("gs.search.filter.allportals"),portalObj[defportal]=defportalName,accIdArr.unshift(defportal),lenOfPortalObj++);var sportalsText=zgssearch.getI18NMsg("gs.search.filter.portals");zgssearch.setFiltersDetails(wffodata,"title",sportalsText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",portalObj),zgssearch.setFiltersDetails(wffodata,"length",lenOfPortalObj),zgssearch.setFiltersDetails(wffodata,"key","portalId"),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",defportal),zgssearch.setFiltersDetails(wffodata,"current",defportal),zgssearch.setFiltersDetails(wffodata,"dispname",defportalName),zgssearch.setFiltersDetails(gffo,"portals",wffodata),wffodata={},ffodata={};var permData=widgetJsonArr[1].permData;for(var listId in portalObj)if(permData.hasOwnProperty(listId)){var supportObj={},permIds=permData[listId],lenPermIds=permIds.length;1<lenPermIds&&(supportObj[0]=zgssearch.getI18NMsg("gs.search.filter.alldepartments"));for(var sp=0;sp<lenPermIds;sp++){var permObj=permIds[sp],permId=permObj.id,permName=permObj.name;supportObj[permId]=permName}ffolength+=lenPermIds,ffodata[listId]=supportObj}var sdepartmentsText=zgssearch.getI18NMsg("gs.search.filter.departments");zgssearch.setFiltersDetails(wffodata,"title",sdepartmentsText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"length",ffolength),zgssearch.setFiltersDetails(wffodata,"key","deptId"),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(gffo,"departments",wffodata);var moduObj=widgetJsonArr[2];if(moduObj){var unusedModuleData={},modulData=moduObj?moduObj.moduleData:{};for(var listId in wffodata={},ffodata={},ffolength=0,portalObj)if(modulData.hasOwnProperty(listId)){var modul={},unusedPerm={},moduIds=modulData[listId];for(var mid in modul[0]=zgssearch.getI18NMsg("gs.search.filter.allmodules"),moduIds)zgssearch.isArrayContain(mid,zgssearch.deskmodid)?modul[mid]=moduIds[mid]:unusedPerm[mid]=moduIds[mid];ffodata[listId]=modul,unusedModuleData[listId]=unusedPerm,ffolength+=Object.keys(modul).length}var smodulesText=zgssearch.getI18NMsg("gs.search.filter.modules");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","moduleId"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"length",ffolength),zgssearch.setFiltersDetails(wffodata,"unusedModData",unusedModuleData),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allmodules")),zgssearch.setFiltersDetails(gffo,"modules",wffodata)}}zgssearch.setSortFilters(gffo),zgssearch.setFiltersDetails(gffo,"order",["portals","departments","modules"]),zgssearch.setFilterObj(service,gffo),zgssearch.updateCurrentFilterInfo(service);break;case GSConstant.CONNECT:if(0<widgetsLen){for(co=0;co<widgetsLen;co++){var cObject=widgetJsonArr[co],isDefaultConnect=(cSoid=cObject.soid?cObject.soid:"",cName=cObject.name?cObject.name:"",!!cObject.isDefault&&cObject.isDefault);(0===co||zgssearch.jsonParse(isDefaultConnect))&&(ffodispname=cName,ffodefault=multidefault=cSoid),ffodata[cSoid]=cName,accIdArr.push(cSoid)}zgssearch.updateMultiPageServiceList(service,widgetsLen),zgssearch.isServiceHasMultiPortals(service)&&(ffodefault="0",ffodispname=zgssearch.getI18NMsg("gs.search.filter.allnetworks"),ffodata[ffodefault]=ffodispname,accIdArr.unshift(ffodefault));var networksText=zgssearch.getI18NMsg("gs.search.filter.networks");zgssearch.setFiltersDetails(wffodata,"title",networksText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","connectId"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"length",widgetsLen),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(gffo,"networks",wffodata)}wffodata={},ffodata={},ffolength=0,ffodata={feeds:zgssearch.getI18NMsg("gs.search.filter.feeds"),forums:zgssearch.getI18NMsg("gs.search.filter.forums")};var connecttypeText=zgssearch.getI18NMsg("gs.search.filter.searchin");zgssearch.setFiltersDetails(wffodata,"title",connecttypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"default","feeds"),zgssearch.setFiltersDetails(wffodata,"current","feeds"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.feeds")),zgssearch.setFiltersDetails(gffo,"connecttype",wffodata),wffodata={},ffodata={},ffodata={alldays:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};msgText=zgssearch.getI18NMsg("gs.search.filter.date_rage");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","date"),zgssearch.setFiltersDetails(wffodata,"default","alldays"),zgssearch.setFiltersDetails(wffodata,"current","alldays"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alldays")),zgssearch.setFiltersDetails(wffodata,"fromdate",""),zgssearch.setFiltersDetails(wffodata,"todate",""),zgssearch.setFiltersDetails(gffo,"date",wffodata),zgssearch.setSortFilters(gffo),zgssearch.setFiltersDetails(gffo,"order",["networks","connecttype","date"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.DISCUSSIONS:case GSConstant.WIKI:var whname={};if(0<widgetsLen){for(var defMultiName=service===GSConstant.DISCUSSIONS?"gs.search.filter.allportals":"gs.search.filter.allwikis",soidKey=service===GSConstant.DISCUSSIONS?"soid":"wikiid",nameKey=service===GSConstant.DISCUSSIONS?"portalName":"wikiname",landlingKey=service===GSConstant.DISCUSSIONS?"isDefaultPortal":"islanding",ffkey=service===GSConstant.DISCUSSIONS?"discId":"wikiId",prefixI18N=service===GSConstant.DISCUSSIONS?"gs.search.result.discussions.results.obtained_":"gs.search.result.wiki.results.obtained_",dwj=0;dwj<widgetsLen;dwj++){var dwTempObj={},dwjObj=widgetJsonArr[dwj];for(var dwjName in dwjObj){for(var lendwjInnerObj=(dwjInnerObj=dwjObj[dwjName]).length,dwi=0;dwi<lendwjInnerObj;dwi++){var dwiName=(dwData=dwjInnerObj[dwi])[nameKey],dwiSoid=dwData[soidKey],dwidefault=dwData[landlingKey];(zgssearch.jsonParse(dwidefault)||0===dwj&&0===dwi)&&(ffodispname=dwiName,ffodefault=multidefault=dwiSoid),dwTempObj[dwiSoid]=dwiName,accIdArr.push(""+dwiSoid)}_jQueryGS.isEmptyObject(dwTempObj)||(ffolength+=lendwjInnerObj,ffodata[dwjName]=dwTempObj,whname[dwjName]=zgssearch.getI18NMsg(prefixI18N+dwjName))}}zgssearch.updateMultiPageServiceList(service,ffolength),zgssearch.isServiceHasMultiPortals(service)&&(ffodefault="0",ffodispname=zgssearch.getI18NMsg(defMultiName),ffodata[ffodefault]={},ffodata[ffodefault][ffodefault]=ffodispname,accIdArr.unshift(ffodefault));var titleText=service===GSConstant.DISCUSSIONS?"gs.search.filter.portals":"gs.search.filter.wikis",dwportalsText=zgssearch.getI18NMsg(titleText);zgssearch.setFiltersDetails(wffodata,"title",dwportalsText),zgssearch.setFiltersDetails(wffodata,"type","2"),zgssearch.setFiltersDetails(wffodata,"key",ffkey),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"length",ffolength),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(wffodata,"header",whname),zgssearch.setFiltersDetails(gffo,"portals",wffodata),wffodata={},ffodata={},ffodata={alldays:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};msgText=zgssearch.getI18NMsg("gs.search.filter.date_rage");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","date"),zgssearch.setFiltersDetails(wffodata,"default","alldays"),zgssearch.setFiltersDetails(wffodata,"current","alldays"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alldays")),zgssearch.setFiltersDetails(wffodata,"fromdate",""),zgssearch.setFiltersDetails(wffodata,"todate",""),zgssearch.setFiltersDetails(gffo,"date",wffodata)}zgssearch.setSortFilters(gffo),zgssearch.setFiltersDetails(gffo,"order",["portals","date"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.REPORTS:whname={};if(0<widgetsLen){for(dwj=0;dwj<widgetsLen;dwj++){dwTempObj={},dwjObj=widgetJsonArr[dwj];for(var dwjName in dwjObj){var dwjInnerObj;for(lendwjInnerObj=(dwjInnerObj=dwjObj[dwjName]).length,dwi=0;dwi<lendwjInnerObj;dwi++){var dwData;dwiName=(dwData=dwjInnerObj[dwi]).dbN,dwiSoid=dwData.dbId,dwidefault=dwData.isD;(zgssearch.jsonParse(dwidefault)||""==ffodefault)&&(ffodispname=dwiName,ffodefault=multidefault=dwiSoid),dwTempObj[dwiSoid]=dwiName,accIdArr.push(dwiSoid)}0<lendwjInnerObj&&(ffolength+=lendwjInnerObj,ffodata[dwjName]=dwTempObj,whname[dwjName]=zgssearch.getI18NMsg(dwjName))}}zgssearch.updateMultiPageServiceList(service,ffolength),zgssearch.isServiceHasMultiPortals(service)&&(ffodefault="0",ffodispname=zgssearch.getI18NMsg("gs.search.filter.alldatabases"),ffodata[ffodefault]={},ffodata[ffodefault][ffodefault]=ffodispname,accIdArr.unshift(ffodefault));var databasesText=zgssearch.getI18NMsg("gs.search.filter.databases");zgssearch.setFiltersDetails(wffodata,"title",databasesText),zgssearch.setFiltersDetails(wffodata,"type","2"),zgssearch.setFiltersDetails(wffodata,"key","databaseId"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"length",ffolength),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(wffodata,"header",whname),zgssearch.setFiltersDetails(gffo,"databases",wffodata),wffodata={},ffodata={},ffodata={alltypes:zgssearch.getI18NMsg("gs.search.filter.alltypes"),dashboard:zgssearch.getI18NMsg("gs.search.result.reports.dashboard"),table:zgssearch.getI18NMsg("gs.search.result.reports.table"),pivot:zgssearch.getI18NMsg("gs.search.result.reports.pivot"),analysisview:zgssearch.getI18NMsg("gs.search.result.reports.analysisview"),querytable:zgssearch.getI18NMsg("gs.search.result.reports.querytable"),report:zgssearch.getI18NMsg("gs.search.result.reports.tableview"),summaryview:zgssearch.getI18NMsg("gs.search.result.reports.summaryview")};var viewtypeText=zgssearch.getI18NMsg("gs.search.filter.viewtype");zgssearch.setFiltersDetails(wffodata,"title",viewtypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"default","alltypes"),zgssearch.setFiltersDetails(wffodata,"current","alltypes"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(gffo,"viewtype",wffodata)}zgssearch.setFiltersDetails(gffo,"order",["databases","viewtype"]),zgssearch.setFilterObj(service,gffo);break;case GSConstant.CREATOR:ffodata={all_apps:zgssearch.getI18NMsg("gs.search.filter.all_applications"),custom_apps:zgssearch.getI18NMsg("gs.search.result.creator.custom_apps"),personal_apps:zgssearch.getI18NMsg("gs.search.result.creator.personal_apps"),shared_apps:zgssearch.getI18NMsg("gs.search.result.creator.shared_apps"),shared_to_group_apps:zgssearch.getI18NMsg("gs.search.result.creator.shared_to_group_apps")};var applicationtypeText=zgssearch.getI18NMsg("gs.search.filter.applications");zgssearch.setFiltersDetails(wffodata,"title",applicationtypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","appsType"),zgssearch.setFiltersDetails(wffodata,"default","all_apps"),zgssearch.setFiltersDetails(wffodata,"current","all_apps"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.all_applications")),zgssearch.setFiltersDetails(gffo,"applications",wffodata),zgssearch.setFiltersDetails(gffo,"order",["applications"]),zgssearch.setFilterObj(service,gffo)}}},zgssearch.setSortFilters=function(gffo){var relvTitle=zgssearch.getI18NMsg("gs.search.filter.sortrelv"),wffodata={},ffodata={sortrelv:relvTitle,sorttime:zgssearch.getI18NMsg("gs.search.filter.sorttime")},sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"default","sortrelv"),zgssearch.setFiltersDetails(wffodata,"current","sortrelv"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"dispname",relvTitle),zgssearch.setFiltersDetails(gffo,"sort",wffodata),zgssearch.setFiltersDetails(gffo,"sort_order",["sort"])},zgssearch.updateCurrentFilterInfo=function(service){if(zgssearch.getFilterObj(service)&&GSConstant.SUPPORT==service){var curPortal=zgssearch.getFilterInfo(service,"portals","current"),deptData=zgssearch.getFilterInfo(service,"departments","data");if(deptData.hasOwnProperty(curPortal)){var sddata=deptData[curPortal];for(var deptId in sddata){zgssearch.updateFilterInfo(service,"departments","default",deptId),zgssearch.updateFilterInfo(service,"departments","current",deptId),zgssearch.updateFilterInfo(service,"departments","dispname",sddata[deptId]);break}}var modulData=zgssearch.getFilterInfo(service,"modules","data");if(modulData.hasOwnProperty(curPortal)){var smdata=modulData[curPortal];for(var modulId in smdata){zgssearch.updateFilterInfo(service,"modules","default",modulId),zgssearch.updateFilterInfo(service,"modules","current",modulId),zgssearch.updateFilterInfo(service,"modules","dispname",smdata[modulId]);break}}}},zgssearch.formatMailFoldersDetails=function(wfArr){var tffodata={},excludeList=[zgssearch.getI18NMsg("gs.search.service_outbox")+"/"];tffodata[0]={key:"allfolders",tip:zgssearch.getI18NMsg("gs.search.filter.allfolders"),name:zgssearch.getI18NMsg("gs.search.filter.allfolders")};for(var i=0;i<wfArr.length;i++){var valueArr=(wfArr[i]||"").split(","),fid=valueArr[0]||"",ftip=valueArr[1]||"";if(!zgssearch.isArrayContain(ftip,excludeList)){var fname=ftip,tftip=ftip.substr(0,ftip.length-1);if(-1<tftip.indexOf("/")){var fnameArr=tftip.split("/");fname=".../"+fnameArr[fnameArr.length-1]+"/"}tffodata[i+1]={key:fid,tip:ftip,name:fname}}}return tffodata},zgssearch.formatMailLabelsDetails=function(wlArr){var tffodata={};tffodata[0]={COLOR:"",ID:"alltags",NAME:zgssearch.getI18NMsg("gs.search.filter.alltags")};for(var i=0;i<wlArr.length;i++){var value=wlArr[i]||{};_jQueryGS.isEmptyObject(value)||(tffodata[i+1]=wlArr[i]||{})}return tffodata},zgssearch.formatDeskModulesDetails=function(moduIds){var resObj={},modul={},unusedPerm={};for(var mid in modul[0]=zgssearch.getI18NMsg("gs.search.filter.allmodules"),moduIds)zgssearch.isArrayContain(mid,zgssearch.deskmodid)?modul[mid]=moduIds[mid]:unusedPerm[mid]=moduIds[mid];return resObj.moduleData=modul,resObj.unusedModuleData=unusedPerm,resObj.length=Object.keys(modul).length,resObj},zgssearch.isValidSearchForWidgetService=function(service,target){var soid=_jQueryGS(target).attr("key"),fkey=_jQueryGS(target).attr("fkey"),ftype=_jQueryGS(target).attr("ftype"),gfObj=zgssearch.getFilterObj(service),accId=_jQueryGS(target).attr("acc_id"),mlist=zgssearch.getWidgetServiceList(service);if(accId||(accId=zgssearch.getFilterInfo(service,mlist.key,"current")),gfObj&&soid&&gfObj.hasOwnProperty(fkey)){var widgetObj=gfObj[fkey],fWidgetObj=widgetObj.data,currWidgetData=widgetObj.current;if("formList"==ftype||"viewList"==ftype)zgssearch.updateFilterInfo(service,"formList","current",""),zgssearch.updateFilterInfo(service,"viewList","current",""),zgssearch.updateFilterInfo(service,ftype,"current",soid);else if("1"==ftype){if("customrange"==soid||"customdate"==soid)zgssearch.curDatePickerObj={service:service,key:fkey,soid:soid},zgssearch.handleDatePicker(soid);else if(fWidgetObj.hasOwnProperty(soid)&&currWidgetData!=soid)return zgssearch.updateFilterInfo(service,fkey,"current",soid),zgssearch.updateFilterInfo(service,fkey,"dispname",fWidgetObj[soid]),"date"==fkey?zgssearch.updateDateFormat(service,fkey,soid):(zgssearch.updateChildFilterInfo(service,fkey,soid),"0"==soid&&zgssearch.updateServiceFilters(service)),!0}else if("2"==ftype)for(var fid in fWidgetObj){if((wObj=fWidgetObj[fid]).hasOwnProperty(soid)&&currWidgetData!==soid)return zgssearch.updateFilterInfo(service,fkey,"current",soid),zgssearch.updateFilterInfo(service,fkey,"dispname",wObj[soid]),"0"==soid&&zgssearch.updateServiceFilters(service),!0}else if("3"==ftype||"4"==ftype||"5"==ftype){var curData=zgssearch.getFilterInfo(service,mlist.key,"data"),curAccId=zgssearch.getFilterInfo(service,mlist.key,"current");if(accId!=curAccId&&(currWidgetData="0"==curAccId?curAccId:currWidgetData,zgssearch.updateFilterInfo(service,mlist.key,"current",accId),zgssearch.updateFilterInfo(service,mlist.key,"dispname",curData[accId]),zgssearch.updateChildFilterInfo(service,mlist.key,accId)),"3"==ftype){if(fWidgetObj.hasOwnProperty(accId))if((wObj=fWidgetObj[accId]).hasOwnProperty(soid)&&currWidgetData!==soid)return zgssearch.updateFilterInfo(service,fkey,"current",soid),zgssearch.updateFilterInfo(service,fkey,"dispname",wObj[soid]),!0}else if("4"==ftype){if(fWidgetObj.hasOwnProperty(accId)){var wObj=fWidgetObj[accId];for(var finfo in wObj){if(((fiobj=wObj[finfo]).key||"")==soid&&currWidgetData!==soid){var tfname=fiobj.name||"";return service==GSConstant.MAILS&&(0==tfname.indexOf(".../")&&(tfname=tfname.replace(new RegExp("(^.../)"),"")),tfname=tfname.replace(new RegExp("(/$)"),"")),zgssearch.updateFilterInfo(service,fkey,"current",fiobj.key),zgssearch.updateFilterInfo(service,fkey,"dispname",tfname),!0}}}}else if(fWidgetObj.hasOwnProperty(accId)){wObj=fWidgetObj[accId];for(var finfo in wObj){var fiobj;if((fiobj=wObj[finfo]).ID==soid&&currWidgetData!==fiobj.ID)return zgssearch.updateFilterInfo(service,fkey,"current",fiobj.ID),zgssearch.updateFilterInfo(service,fkey,"dispname",fiobj.NAME),!0}}}}return!1},zgssearch.updateChildFilterInfo=function(service,fkey,soid){if(GSConstant.MAILS===service){if("accounts"==fkey){var mname=soid,mdef=zgssearch.getFilterInfo(service,"folders","default"),mdata=zgssearch.getFilterInfo(service,"folders","data");if(mdata.hasOwnProperty(soid)||(mname=zgssearch.getFilterInfo(service,"accounts","mdefault"),"0"!=soid&&zgssearch.fetchMailFolderInfo(service,soid)),mdata.hasOwnProperty(mname)){var mpinfo=mdata[mname];for(var ikey in mpinfo){var fid=(value=mpinfo[ikey]).key||"",tfname=value.name||"";fid==mdef&&(tfname=(tfname=tfname.replace(new RegExp("(^.../)"),"")).replace(new RegExp("(/$)"),""),zgssearch.updateFilterInfo(service,"folders","current",mdef),zgssearch.updateFilterInfo(service,"folders","dispname",tfname))}}if(mdef=zgssearch.getFilterInfo(service,"labels","default"),(mdata=zgssearch.getFilterInfo(service,"labels","data")).hasOwnProperty(soid)||(mname=zgssearch.getFilterInfo(service,"accounts","mdefault"),"0"!=soid&&zgssearch.fetchMailLabelInfo(service,soid)),mdata.hasOwnProperty(mname)){mpinfo=mdata[mname];for(var ikey in mpinfo){var value;(value=mpinfo[ikey]||{}).ID==mdef&&(zgssearch.updateFilterInfo(service,"labels","current",value.ID),zgssearch.updateFilterInfo(service,"labels","dispname",value.NAME))}}}}else if(GSConstant.SUPPORT===service&&"portals"==fkey){var deptData=zgssearch.getFilterInfo(service,"departments","data");if(deptData.hasOwnProperty(soid)){var sddata=deptData[soid];for(var deptId in sddata){zgssearch.updateFilterInfo(service,"departments","default",deptId),zgssearch.updateFilterInfo(service,"departments","current",deptId),zgssearch.updateFilterInfo(service,"departments","dispname",sddata[deptId]);break}}mname=soid,fid=zgssearch.getFilterInfo(service,"modules","default");var sdata=zgssearch.getFilterInfo(service,"modules","data");if(sdata.hasOwnProperty(soid)||(zgssearch.fetchSupportModuleInfo(service,soid),mname=zgssearch.getFilterInfo(service,"portals","mdefault")),sdata.hasOwnProperty(mname)){var sidata=sdata[mname],sdef=zgssearch.getFilterInfo(service,"modules","default");sidata.hasOwnProperty(sdef)&&(zgssearch.updateFilterInfo(service,"modules","current",sdef),zgssearch.updateFilterInfo(service,"modules","dispname",sidata[sdef]))}}},zgssearch.updateDateFormat=function(service,key,soid){var today=new Date,dd=today.getDate(),mm=today.getMonth()+1,yyyy=today.getFullYear(),fromdate="",todate="",curadCal={1:"-1-",2:"-2-",3:"-3-",4:"-4-",5:"-5-",6:"-6-",7:"-7-",8:"-8-",9:"-9-",10:"-10-",11:"-11-",12:"-12-"};switch(soid){case"today":fromdate=todate=dd+curadCal[mm]+yyyy;break;case"yesterday":var yesterday=new Date(today);yesterday.setDate(today.getDate()-1),dd=yesterday.getDate(),mm=yesterday.getMonth()+1,yyyy=yesterday.getFullYear(),fromdate=todate=dd+curadCal[mm]+yyyy;break;case"last7days":todate=dd+curadCal[mm]+yyyy;var last7days=new Date(today);last7days.setDate(today.getDate()-7),dd=last7days.getDate(),mm=last7days.getMonth()+1,yyyy=last7days.getFullYear(),fromdate=dd+curadCal[mm]+yyyy;break;case"thismonth":todate=dd+curadCal[mm]+yyyy;var thismonth=new Date(today);thismonth.setDate(1),dd=thismonth.getDate(),mm=thismonth.getMonth()+1,yyyy=thismonth.getFullYear(),fromdate=dd+curadCal[mm]+yyyy}if(zgssearch.isMoreFilterListDisplay){zgssearch.curMoreFiltersList[key]=soid,zgssearch.curMoreDateFiltersList={fromdate:fromdate,todate:todate};var targetId="#zgs20_gsMoreFilterElem_"+key;_jQueryGS(targetId).attr("soid",soid);var dispname=zgssearch.getFilterData(service,key,"data",soid);_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("title",dispname).text(dispname)}else zgssearch.updateFilterInfo(service,key,"fromdate",fromdate),zgssearch.updateFilterInfo(service,key,"todate",todate)},zgssearch.toggleCreatorFormViewsHeader=function(ftype){_jQueryGS(zgssearch.currCreatorFilterHeaderSelectedEleId).addClass("zgs19_gsModuleFilterSerNameSelect"),zgssearch.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+ftype,_jQueryGS(zgssearch.currCreatorFilterHeaderSelectedEleId).removeClass("zgs19_gsModuleFilterSerNameSelect")},zgssearch.clickActionForWidgetList=function(target){var service=zgssearch.getSearchType(),ftype=_jQueryGS(target).attr("ftype");zgssearch.gsautocomplete.checkQueryFilterExists("services",service),zgssearch.gsautocomplete.checkQueryFilterExists("users");var query=zgssearch.getValue("zgs20_gsQueryBox");query=zgssearch.gsautocomplete.getautosearchQuery(query);var soid=_jQueryGS(target).attr("key"),fkey=_jQueryGS(target).attr("fkey"),oldValue=zgssearch.getFilterInfo(service,fkey,"current");zgssearch.isValidSearchForWidgetService(service,target)&&(zgssearch.isQueryValid(query)||zgssearch.isQueryHasFilters())?zgssearch.handleUserSearchQuery(query,service):"formList"==ftype||"viewList"==ftype?(zgssearch.hideFilterList(),zgssearch.toggleCreatorFormViewsHeader(ftype),zgssearch.gscreator.loadCreatorFormView(soid,ftype)):"customrange"!=soid&&"customdate"!=soid&&soid!=oldValue&&(zgssearch.updateMultiPageFlag(service,fkey),zgssearch.displayModuleResultPage(),zgssearch.renderServiceFilterList(service))},zgssearch.clickActionForMoreInnerList=function(target){var service=zgssearch.getSearchType(),soid=_jQueryGS(target).attr("key"),fkey=_jQueryGS(target).attr("fkey"),title=_jQueryGS(target).attr("title");if("customrange"==soid||"customdate"==soid)zgssearch.curDatePickerObj={service:service,key:fkey,soid:soid},zgssearch.handleDatePicker(soid);else if("date"==fkey)zgssearch.updateDateFormat(service,fkey,soid);else{var targetId="#zgs20_gsMoreFilterElem_"+fkey;zgssearch.curMoreFiltersList[fkey]=soid,_jQueryGS(targetId).attr("soid",soid),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("title",title).text(title)}},zgssearch.getServiceOrders=function(gfObj){var order=gfObj.order||[],sort_order=gfObj.sort_order||[];return order.concat(sort_order)},zgssearch.updateServiceFilters=function(oldservice,newservice){if(newservice!=oldservice){var slist=zgssearch.getServiceList();if(zgssearch.isArrayContain(oldservice,slist)){var gfObj=zgssearch.getFilterObj(oldservice);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj),i=0;i<common_order.length;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey)){var fkObj=gfObj[fkey],odefault=fkObj.default,odispname=zgssearch.getFilterData(oldservice,fkey,"data",odefault);zgssearch.updateFilterInfo(oldservice,fkey,"current",odefault),zgssearch.updateFilterInfo(oldservice,fkey,"dispname",odispname),"1"==fkObj.type&&zgssearch.updateCurrentFilterInfo(oldservice),"date"==fkey&&(zgssearch.updateFilterInfo(oldservice,fkey,"todate",""),zgssearch.updateFilterInfo(oldservice,fkey,"fromdate",""))}}}}},zgssearch.storeMailLabelInfo=function(mlArr,gffo,accId){if(0<(mlArr=mlArr||[]).length){var wffodata={},ffodata={};ffodata[accId]=zgssearch.formatMailLabelsDetails(mlArr);var foldText=zgssearch.getI18NMsg("gs.search.filter.tags");zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","5"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","labelId"),zgssearch.setFiltersDetails(wffodata,"default","alltags"),zgssearch.setFiltersDetails(wffodata,"current","alltags"),zgssearch.setFiltersDetails(wffodata,"length",mlArr.length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags")),zgssearch.setFiltersDetails(gffo,"labels",wffodata)}},zgssearch.fetchMailFolderInfo=function(serviceName,accId){var argparam={service:serviceName,accId:accId},markFolderParam="action=fetchMailFolderDetails&searchType="+serviceName+"&accId="+accId;zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,markFolderParam,argparam,function(data,status,xhr){var argObj=xhr.args||{},response=zgssearch.jsonParse(data),mfArr=zgssearch.formatMailFoldersDetails(response),dataObj=zgssearch.getFilterInfo(argObj.service,"folders","data");dataObj[argObj.accId]=mfArr,zgssearch.updateFilterInfo(argObj.service,"folders","data",dataObj)})},zgssearch.fetchMailLabelInfo=function(serviceName,accId){var argparam={service:serviceName,accId:accId},markFolderParam="action=fetchMailLabelDetails&searchType="+serviceName+"&accId="+accId;zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,markFolderParam,argparam,function(data,status,xhr){var argObj=xhr.args||{},response=zgssearch.jsonParse(data),mlArr=zgssearch.formatMailLabelsDetails(response),dataObj=zgssearch.getFilterInfo(argObj.service,"labels","data");dataObj[argObj.accId]=mlArr,zgssearch.updateFilterInfo(argObj.service,"labels","data",dataObj)})},zgssearch.fetchSupportModuleInfo=function(serviceName,portalId){var argparam={service:serviceName,portalId:portalId},moduleParam="action=fetchDeskModuleDetails&searchType="+serviceName+"&portalId="+encodeURIComponent(portalId);zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,moduleParam,argparam,function(data,status,xhr){var argObj=xhr.args||{},response=zgssearch.jsonParse(data),mObj=zgssearch.formatDeskModulesDetails(response),dataObj=zgssearch.getFilterInfo(argObj.service,"modules","data"),unusedData=zgssearch.getFilterInfo(argObj.service,"modules","unusedModData");dataObj[argObj.portalId]=mObj.moduleData,unusedData[argObj.portalId]=mObj.unusedModuleData,zgssearch.updateFilterInfo(argObj.service,"modules","data",dataObj),zgssearch.updateFilterInfo(argObj.service,"modules","unusedModData",unusedData)})},zgssearch.updateDeskDueDate=function(serviceName,dueDate){zgssearch.showSearchPageLoader();var resObj=zgssearch.getCurrentResObj(),portalId=zgssearch.getFilterInfo(serviceName,"portals","current"),argparam={service:serviceName,ticketId:resObj.doc_id,dueDate:dueDate},dueParam="action=updateDeskDueDate&searchType="+serviceName+"&id="+resObj.doc_id+"&portalId="+encodeURIComponent(portalId)+"&dueDate="+encodeURIComponent(dueDate);zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,dueParam,argparam,function(data,status,xhr){zgssearch.hideSearchPageLoader();var responseData=zgssearch.jsonParse(data);if("SUCCESS"==(responseData&&responseData.response||"")){var argObj=xhr.args||{},msgText=zgssearch.getI18NMsg("gs.search.callout.desk.success.duedate_update");zgssearch.showbannertip({ty:1,msg:msgText});var nresObj=zgssearch.getCurrentResObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[argObj.service].callout;zgssearch.showCalloutLoader();var argparam={curCalloutCount:ncount,owner:argObj,updateDueDate:!0};zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,argparam)}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.callout.crm.errorresp2")})})},zgssearch.fetchAdditionlInfo=function(){var servicelist=zgssearch.getServiceList();zgssearch.hasOwnProperty("getDefaultContactList")&&zgssearch.getDefaultContactList(),zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.initServiceList(),zgssearch.hasOwnProperty("gsversion")&&zgssearch.gsversion.checkGSVersion(),zgssearch.isArrayContain(GSConstant.CRM,servicelist)&&zgssearch.hasOwnProperty("gsusercontacts")&&!zgssearch.isCRMUserFetched&&(zgssearch.isCRMUserFetched=!0,zgssearch.gsusercontacts.fetchCRMUserInfo())},zgssearch.initWidgetList()}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.renderServiceFilterList=function(service_name){if(_jQueryGS("#zgs20_gsModuleFilterList").remove(),zgssearch.isServiceHasFilter(service_name)){var moduleName="zgs20_gsModuleSearchResultPage";zgssearch.multiPageEnabled&&(moduleName="zgs20_gsMultiSearchResultPage"),_jQueryGS("#"+moduleName).prepend(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterList",class:"zgs19_gsModuleFilterList"}));var stip=zgssearch.getI18NMsg("gs.search.filter.sort"),sortId=zgssearch.getFilterInfo(service_name,"sort","current"),sortDisp=zgssearch.getFilterInfo(service_name,"sort","dispname");_jQueryGS("#zgs20_gsModuleFilterList").append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterIconHolder zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterIcon zgs19_gsResultsUniIcons"}))).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterDataHolder",class:"zgs19_gsModuleFilterDataHolder zgs19_gsOverflow zgs19_gsfl"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterSortHolder",class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleSortNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",fkey:"sort",soid:sortId,title:stip,gs:"mFilterWidget"}).append(_jQueryGS("<span>",{class:"zgs19_gsModuleSortDownIcon zgs19_gsResultsUniIcons zgs19_gsModuleSortDownIconNew_blue zgs19_gsBorderBox zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",title:sortDisp}).text(sortDisp)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs19_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"}))));var gfObj=zgssearch.getFilterObj(service_name);if(gfObj){var showFilterIcon=!1,excludeWidth=10,sort_order=gfObj.sort_order||[];!zgssearch.multiPageEnabled&&0<sort_order.length&&(excludeWidth+=85,_jQueryGS("#zgs20_gsModuleFilterSortHolder").show()),excludeWidth+=_jQueryGS(".zgs19_gsModuleFilterIconHolder").outerWidth(!0);var totalWidth=_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-excludeWidth,flistObj=zgssearch.getvalidFilterList(gfObj.order,gfObj),skipvalue=0,flistlen=0,fwidth=0,isMoreFilters=!1;fwidth=zgssearch.multiPageEnabled?(flistlen=1,totalWidth):(isMoreFilters=3<(flistlen=flistObj.length),1==flistlen?totalWidth:2==flistlen?totalWidth/2:totalWidth/3);for(var i=0;i<flistlen&&i<3;i++){var fkey=flistObj[i];if(gfObj.hasOwnProperty(fkey)){var soid="",aname="",gsattr="",type=zgssearch.getFilterInfo(service_name,fkey,"type");if(2==i&&isMoreFilters)fkey="more",gsattr="more_filters",aname=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more")+"...";else{if("6"==type){skipvalue++;continue}gsattr="mFilterWidget",soid=zgssearch.getFilterInfo(service_name,fkey,"current"),aname=zgssearch.getFilterInfo(service_name,fkey,"dispname")}showFilterIcon=!0,_jQueryGS("#zgs20_gsModuleFilterDataHolder").append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElem_"+fkey,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",index:i-skipvalue,fkey:fkey,soid:soid,gs:gsattr,service:service_name}).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",title:aname}).text(aname)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs19_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"}))))}}if(!showFilterIcon){_jQueryGS(".zgs19_gsModuleFilterIcon").hide(),_jQueryGS("#zgs20_gsModuleFilterList").hide();var query=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.isQueryValid(query)||zgssearch.searchedQuery||zgssearch.displayDefaultPage()}zgssearch.addEventForFilterElem(),zgssearch.loadDatePicker(service_name),zgssearch.updateWidthOfFilters(totalWidth,fwidth,20,"zgs19_gsModuleFilterSerNameNew")}}},zgssearch.updateWidthOfFilters=function(totalWidth,fwidth,extraWidth,className){for(var tempobj={},childNodes=zgssearch.getTargetElem("zgs20_gsModuleFilterDataHolder").childNodes||[],i=0;i<childNodes.length;i++){var iterChild=childNodes[i],fkey=_jQueryGS(iterChild).attr("fkey"),fvalue=_jQueryGS(iterChild).find(".zgs19_gsModuleFilterSerNameNew").attr("title");tempobj[fkey]=fvalue}var fwid=0,maxWidth=fwidth-extraWidth-5,dataObj=zgssearch.getDynamicElemWidth(tempobj,totalWidth,maxWidth,className);for(i=0;i<childNodes.length;i++){iterChild=childNodes[i],fkey=_jQueryGS(iterChild).attr("fkey");if(dataObj.hasOwnProperty(fkey)){var dwid=dataObj[fkey],twid=dwid+extraWidth;_jQueryGS(iterChild).find(".zgs19_gsModuleFilterSerNameNew").css("width",dwid),fwid+=twid}}var text=_jQueryGS("#zgs20_gsModuleFilterSortHolder").find(".zgs19_gsModuleFilterSerNameNew").attr("title");if(text){var remain=totalWidth-fwid,sfwidth=zgssearch.getWidthOfText(text,totalWidth,"zgs19_gsModuleFilterSerNameNew"),sortremain=40<sfwidth?sfwidth-40:0,swid=sortremain<remain?sortremain:remain;_jQueryGS("#zgs20_gsModuleFilterSortHolder").find(".zgs19_gsModuleFilterSerNameNew").css("width",40+swid)}},zgssearch.getDynamicElemWidth=function(listobj,totalWidth,maxWidth,className){maxWidth=Math.round(maxWidth)-1;var carry=0,unsortobj={},finalobj={};for(var name in listobj){var fwidth=zgssearch.getWidthOfText(listobj[name],totalWidth,className);unsortobj[name]=Math.round(fwidth)+5}for(var tid in unsortobj){(twidth=unsortobj[tid])<maxWidth&&(carry+=maxWidth-twidth)}for(var tid in unsortobj){var twidth;if(maxWidth<(twidth=unsortobj[tid]))if(0<carry){var extra=twidth-maxWidth;extra<carry?carry-=extra:(twidth=maxWidth+carry,carry=0)}else twidth=maxWidth;finalobj[tid]=twidth}return finalobj},zgssearch.setServicesFilterWidth=function(){var service=zgssearch.getSearchType();zgssearch.renderServiceFilterList(service),zgssearch.hideDatePicker()},zgssearch.renderModuleFilterWidgetList=function(tarElem){zgssearch.curDatePickerElem="",zgssearch.currFilterSelectedElem="",zgssearch.isFilterListDisplay=!1;var fkey=_jQueryGS(tarElem).attr("fkey"),parentEleId="formList"==fkey||"viewList"==fkey?"zgs20_gsFormViewsFilterDataHolder":"zgs20_gsModuleFilterList",listingEleId="formList"==fkey||"viewList"==fkey?"zgs20_gsFormViewsFilterWidgetList":"zgs20_gsModuleFilterWidgetList";fkey!=_jQueryGS("#"+listingEleId).attr("fkey")&&(_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS("#"+listingEleId).empty().remove(),_jQueryGS(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),_jQueryGS(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),zgssearch.hideFilterElemIcon(zgssearch.oldFilterElemIcon));var display=_jQueryGS("#"+listingEleId).css("display");if(null==display||"none"===display){_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS("#"+listingEleId).empty().remove();var fIndex=-1,displayDropDownList=!0,searchType=zgssearch.getSearchType();"formList"!=fkey&&"viewList"!=fkey||(searchType=zgssearch.GSConstant.CREATOR);var wObj=zgssearch.getFilterInfo(searchType,fkey,"data"),ftype=zgssearch.getFilterInfo(searchType,fkey,"type"),current=zgssearch.getFilterInfo(searchType,fkey,"current"),titleText=zgssearch.getFilterInfo(searchType,fkey,"title"),accIdArr=zgssearch.getFilterInfo(searchType,fkey,"accIdArr");if(_jQueryGS("#"+parentEleId).append(_jQueryGS("<div>",{id:listingEleId,class:"zgs19_gsDropdownOuterElemNew",fkey:fkey}).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterTitleHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader",title:titleText}).text(titleText)).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterWidgetHeader"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsPosRelative zgs19_gsOverflowAuto"}))),zgssearch.currFilterListElem=_jQueryGS("#"+listingEleId),"formList"==ftype||"viewList"==ftype)for(var ikey in wObj){var listObj=wObj[ikey],componentName=listObj.componentname||"",value=listObj.displayname||"";zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,componentName,current,value,value)}else if("1"==ftype){if(accIdArr)for(var ia=0;ia<accIdArr.length;ia++){var accId=accIdArr[ia];if(wObj.hasOwnProperty(accId)){value=wObj[accId];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,accId,current,value,value)}}else for(var ikey in wObj){value=wObj[ikey];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,ikey,current,value,value)}if("date"==fkey){var fId=_jQueryGS(tarElem).attr("id");zgssearch.createDatePicker(searchType,fkey,fId),_jQueryGS("#"+parentEleId).find(".zgs19_gsModuleFilterTitleHeader").hide(),_jQueryGS("#zgs20_gsFilterQuerySelection4").after(_jQueryGS("<hr>",{class:"zgs19_gsMoreFilterHRTag",style:"width:90%;margin:0 auto;"}))}}else if("2"==ftype){var heaObj=zgssearch.getFilterInfo(searchType,fkey,"header");for(var hkey in wObj){var innerObj=wObj[hkey],title=heaObj[hkey];if(title&&_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterServiceHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader",title:title}).text(title)),accIdArr)for(ia=0;ia<accIdArr.length;ia++){accId=accIdArr[ia];if(innerObj.hasOwnProperty(accId)){value=innerObj[accId];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,accId,current,value,value)}}else for(var ikey in innerObj)zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,ikey,current,innerObj[ikey],innerObj[ikey])}_jQueryGS(".zgs19_gsFilterQuerySelection").css("padding-left","15px")}else if("3"==ftype){var sportal="";if(searchType==GSConstant.SUPPORT&&(sportal=zgssearch.getFilterInfo(searchType,"portals","current")),wObj.hasOwnProperty(sportal)){var spmold=wObj[sportal];for(var ikey in spmold)zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,ikey,current,spmold[ikey],spmold[ikey])}}else if("4"==ftype){var header=zgssearch.getFilterInfo(searchType,"accounts","current");if(displayDropDownList=wObj.hasOwnProperty(header)){var mpinfo=wObj[header];for(var ikey in mpinfo){var fid=(value=mpinfo[ikey]).key||"",fname=value.name||"",ftip=value.tip||"";zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,fid,current,fname,ftip)}}}else if("5"==ftype){var curacc=zgssearch.getFilterInfo(searchType,"accounts","current");if(wObj.hasOwnProperty(curacc)){var labelObj=wObj[curacc];for(var ikey in labelObj){var labels=labelObj[ikey];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,labels.ID,current,labels.NAME,labels.NAME)}}}if(displayDropDownList){zgssearch.curDatePickerElem=tarElem,zgssearch.isFilterListDisplay=!0,250<=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter")[0].scrollHeight&&(_jQueryGS("#zgs20_gsModuleFilterWidgetHeader").show(),_jQueryGS("#zgs20_gsModuleFilterWidgetHeader").empty().append(_jQueryGS("<div>",{id:"zgs20_gsFilterQueryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<input>",{id:"zgs20_gsFilterQueryBox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:"gsFilterQueryBox",type:"text",placeholder:""}))),zgssearch.focus("zgs20_gsFilterQueryBox"));var rangeRectWidth=_jQueryGS(tarElem).outerWidth(!0),rangeMaxWidth=200<rangeRectWidth?rangeRectWidth:200;_jQueryGS("#"+listingEleId).css("minWidth",rangeRectWidth+20),_jQueryGS("#"+listingEleId).css("maxWidth",rangeMaxWidth+20),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").css("maxHeight",250);_jQueryGS(tarElem).addClass("zgs19_gsboxholder");var postion=_jQueryGS(tarElem).position(),parWidth=_jQueryGS("#"+parentEleId).width(),listWidth=_jQueryGS("#"+listingEleId).width(),rangeWidth=tarElem.getBoundingClientRect().width-2||0,pleft=postion.left,remWidth=pleft+rangeWidth;parWidth<pleft+listWidth&&(listWidth<remWidth?pleft=remWidth-listWidth:pleft/=2),_jQueryGS("#"+listingEleId).css("top",33),_jQueryGS("#"+listingEleId).css("left",pleft),zgssearch.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter")}else zgssearch.hideFilterList()}else zgssearch.hideFilterList()},zgssearch.replaceHTMLEntity=function(text){return/&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/gi.test(text)?zgssearch.gssecurity.textDecoder(text):text},zgssearch.renderModuleFilterList=function(id,gsattr,fIndex,ftype,fkey,key,elem,value,tip){tip=zgssearch.replaceHTMLEntity(tip),value=zgssearch.replaceHTMLEntity(value);var seleClass="zgs19_gsModuleUnSeleFilterElem";key==elem&&(seleClass="zgs19_gsModuleSeleFilterElemNew zgs19_gsModuleSeleFilterTick"),_jQueryGS("#"+id).append(_jQueryGS("<div>",{id:"zgs20_gsFilterQuerySelection"+fIndex,class:"zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+seleClass,gs:gsattr,ftype:ftype,fkey:fkey,key:key,title:tip,value:value,index:fIndex}).text(value))},zgssearch.renderMoreFilterWidgetList=function(tarElem){zgssearch.curMoreFiltersList={};var index=_jQueryGS(tarElem).attr("index"),service=_jQueryGS(tarElem).attr("service"),gfObj=zgssearch.getFilterObj(service),display=_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("display");if(null==display||"none"===display){_jQueryGS("#zgs20_gsMoreFilterWidgetList").empty().remove();var flistObj=zgssearch.getvalidFilterList(gfObj.order,gfObj),mflength=flistObj.length;if(0<mflength){_jQueryGS("#zgs20_gsModuleFilterList").append(_jQueryGS("<div>",{id:"zgs20_gsMoreFilterWidgetList",class:"zgs19_gsDropdownOuterElemNew zgs19_gsBorderBox",gs:"moreFilterHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsFooter",class:"zgs19_gsOverflowAuto"})));for(var isBorderNeeded=!1,i=index;i<mflength;i++){var key=flistObj[i];if(gfObj.hasOwnProperty(key)){var keyobj=gfObj[key],title=keyobj.title,type=keyobj.type,dispname=keyobj.dispname;if("6"==type){isBorderNeeded&&(isBorderNeeded=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<hr>",{class:"zgs19_gsMoreFilterHRTag"})));var dataObj=keyobj.data;for(var dkey in dataObj){var dvalue=dataObj[dkey];_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<div>",{class:"zgs19_gsMoreFilterTitle zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer",gs:"moreFiltercheckbox",fkey:key,soid:keyobj.current}).append(_jQueryGS("<input>",{class:"zgs19_gsfl",type:"checkbox",name:dkey,value:dvalue,checked:keyobj.current})).append(_jQueryGS("<span>",{class:"zgs19_gsfl",title:dvalue}).text(dvalue))))}}else isBorderNeeded=!0,_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<div>",{class:"zgs19_gsMoreFilterTitle zgs19_gsOverflow",title:title}).text(title)).append(_jQueryGS("<div>",{id:"zgs20_gsMoreFilterElem_"+key,class:"zgs19_gsModuleMoreFilterElemHolder zgs19_gsMoreFilterValueElem zgs19_gsCurPointer zgs19_gsOverflow",fkey:key,soid:keyobj.current,gs:"moreFilterList",service:service}).append(_jQueryGS("<div>",{class:"zgs19_gsMoreFilterValue zgs19_gsOverflow zgs19_gsfl",title:dispname}).text(dispname)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs19_gsModuleMoreFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox"}))))}}var applyText=zgssearch.getI18NMsg("gs.search.filter.apply"),cancelText=zgssearch.getI18NMsg("gs.search.callout.crm.cancel");_jQueryGS("#zgs20_gsMoreFilterWidgetList").append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom",style:"margin-top:10px;"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",value:applyText,gs:"moreFilterEditFields",datatype:"applyFilterFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",value:cancelText,gs:"moreFilterEditFields",datatype:"closeFilterFields"})));var rangeWidth=tarElem.getBoundingClientRect().width-2||0;zgssearch.isMoreFilterListDisplay=!0,_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("padding",10),_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("width",250);var postion=_jQueryGS(tarElem).position(),parWidth=_jQueryGS("#zgs20_gsModuleFilterList").width(),listWidth=_jQueryGS("#zgs20_gsMoreFilterWidgetList").outerWidth(),pleft=postion.left,remWidth=pleft+rangeWidth;parWidth<pleft+listWidth&&(listWidth<remWidth?pleft=remWidth-listWidth:pleft/=2),_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("top",33),_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("left",pleft),_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",300),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollTop(0),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollLeft(0),zgssearch.addMoreEventForFilterElem()}}else zgssearch.hideMoreFilterList()},zgssearch.renderMoreFilterInnerList=function(tarElem){zgssearch.curDatePickerElem="",zgssearch.currFilterSelectedElem="",zgssearch.isMoreInnerFilterListDisplay=!1;var fkey=_jQueryGS(tarElem).attr("fkey"),soid=_jQueryGS(tarElem).attr("soid"),service=_jQueryGS(tarElem).attr("service");fkey!=_jQueryGS("#zgs20_gsMoreFilterInnerList").attr("fkey")&&(_jQueryGS("#zgs20_gsMoreFilterInnerList").hide(),_jQueryGS(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"));var gfObj=zgssearch.getFilterObj(service),display=_jQueryGS("#zgs20_gsMoreFilterInnerList").css("display");if(null==display||"none"===display){if(_jQueryGS("#zgs20_gsMoreFilterInnerList").empty().remove(),gfObj.hasOwnProperty(fkey)){var fIndex=-1,keyobj=gfObj[fkey],type=keyobj.type,dataobj=keyobj.data||{};if(_jQueryGS("#zgs20_gsModuleFilterList").append(_jQueryGS("<div>",{id:"zgs20_gsMoreFilterInnerList",class:"zgs19_gsDropdownOuterElemNew",fkey:fkey,gs:"moreInnerFilterHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterInnerHeader"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsPosRelative zgs19_gsOverflowAuto"}))),"5"==type){var curacc=zgssearch.getFilterInfo(service,"accounts","current");if(dataobj.hasOwnProperty(curacc)){var labelObj=dataobj[curacc];for(var ikey in labelObj){var labels=labelObj[ikey];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++fIndex,type,fkey,labels.ID,soid,labels.NAME,labels.NAME)}}}else{for(var kid in dataobj){var dispname=dataobj[kid];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++fIndex,type,fkey,kid,soid,dispname,dispname)}if("date"==fkey){var fId=_jQueryGS(tarElem).attr("id");zgssearch.createDatePicker(service,fkey,fId)}}var width=_jQueryGS(tarElem).width();zgssearch.curDatePickerElem=tarElem,zgssearch.isMoreInnerFilterListDisplay=!0,250<=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter")[0].scrollHeight&&(_jQueryGS("#zgs20_gsModuleFilterWidgetHeader").show(),_jQueryGS("#zgs20_gsModuleFilterWidgetHeader").empty().append(_jQueryGS("<div>",{id:"zgs20_gsFilterQueryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<input>",{id:"zgs20_gsFilterQueryBox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:"gsFilterQueryBox",type:"text",placeholder:""}))),zgssearch.focus("zgs20_gsFilterQueryBox")),_jQueryGS("#zgs20_gsMoreFilterInnerList").css("width",width),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").css("maxHeight",250);var postion=_jQueryGS("#zgs20_gsMoreFilterWidgetList").position(),tpostion=_jQueryGS(tarElem).position(),pleft=postion.left+tpostion.left,rangeRect=tarElem.getBoundingClientRect(),ptop=postion.top+tpostion.top+rangeRect.height;_jQueryGS("#zgs20_gsMoreFilterInnerList").css("top",ptop),_jQueryGS("#zgs20_gsMoreFilterInnerList").css("left",pleft+1),_jQueryGS(tarElem).addClass("zgs19_gsboxholder"),zgssearch.addEventForMoreFilterQueryBox("zgs20_gsMoreFilterInnerList")}}else _jQueryGS("#zgs20_gsMoreFilterInnerList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsboxholder")},zgssearch.getvalidFilterList=function(forder,gfObj){for(var flistObj=[],i=0;i<forder.length;i++){var fkey=forder[i];if(gfObj.hasOwnProperty(fkey)){var fkObj=gfObj[fkey]||{};(1<(fkObj.length||0)||"6"==fkObj.type)&&flistObj.push(fkey)}}return flistObj},zgssearch.filterEditFieldsAction=function(tarElem){switch(_jQueryGS(tarElem).attr("datatype")){case"closeFilterFields":zgssearch.hideMoreFilterList(),zgssearch.hideMoreInnerFilterList();break;case"applyFilterFields":zgssearch.updateMoreFilters()}},zgssearch.updateMoreFilters=function(){var isValid=!1,curFilterObj=zgssearch.curMoreFiltersList||{};if(_jQueryGS.isEmptyObject(curFilterObj))zgssearch.hideMoreFilterList();else{var service=zgssearch.getSearchType(),gObj=zgssearch.getFilterObj(service);for(var name in curFilterObj)if(gObj.hasOwnProperty(name)){var fobj=gObj[name],dataobj=fobj.data||{},ftype=fobj.type||"",curSoid=fobj.current||"",soid=curFilterObj[name];if("5"==ftype){var sportal="";if(service==GSConstant.MAILS&&(sportal=zgssearch.getFilterInfo(service,"accounts","current")),dataobj.hasOwnProperty(sportal)){var wObj=dataobj[sportal];for(var finfo in wObj){var fiobj=wObj[finfo];fiobj.ID==soid&&curSoid!==fiobj.ID&&(isValid=!0,zgssearch.updateFilterInfo(service,name,"current",fiobj.ID),zgssearch.updateFilterInfo(service,name,"dispname",fiobj.NAME))}}}else if("6"==ftype)curSoid!=soid&&(isValid=!0,zgssearch.updateFilterInfo(service,name,"current",soid));else if("date"==name){isValid=!0;var drobj=zgssearch.curMoreDateFiltersList||{};zgssearch.updateFilterInfo(service,name,"todate",drobj.todate),zgssearch.updateFilterInfo(service,name,"fromdate",drobj.fromdate);var dispname=zgssearch.getFilterData(service,name,"data",soid);zgssearch.updateFilterInfo(service,name,"current",soid),zgssearch.updateFilterInfo(service,name,"dispname",dispname),zgssearch.handleDefaultSearch()}else for(var id in dataobj)soid==id&&soid!=curSoid&&(isValid=!0,zgssearch.updateFilterInfo(service,name,"current",soid),zgssearch.updateFilterInfo(service,name,"dispname",dataobj[soid]))}isValid&&zgssearch.handleDefaultSearch()}},zgssearch.filterSearchQueryAction=function(){_jQueryGS("#zgs20_gsFilterQueryBox").off().on({focus:function(){_jQueryGS("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){zgssearch.currFilterSelectedElem="",_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn");var serviceName=zgssearch.getSearchType(),query=zgssearch.getValue("zgs20_gsFilterQueryBox");query=query.trim();for(var headerId,headerobj={},childNodes=zgssearch.getTargetElem("zgs20_gsModuleFilterWidgetFooter").childNodes||[],i=0;i<childNodes.length;i++){var iterChild=childNodes[i];if("mFilterWidgetHeader"==_jQueryGS(iterChild).attr("gs"))headerobj[headerId=i]=!1;else{var filterKey=_jQueryGS(iterChild).attr("fkey"),filterText=_jQueryGS(iterChild).attr("value"),isSelecPortal=_jQueryGS(iterChild).hasClass("zgs19_gsModuleSeleFilterElemNew");if(zgssearch.isQueryValid(query)){var modFilterText=filterText;serviceName==GSConstant.MAILS&&"folders"==filterKey&&(modFilterText=(modFilterText=modFilterText.replace(new RegExp("(^.../)"),"")).replace(new RegExp("(/$)"),""));var dn=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&"),queryReg=new RegExp(dn,"i");if(-1<modFilterText.search(queryReg)&&!isSelecPortal){headerobj[headerId]=!0;var index=filterText.search(queryReg),prefix=filterText.substr(0,index),match=filterText.substr(index,query.length),suffix=filterText.substr(index+query.length,filterText.length),docFragment=zgssearch.gssecurity.getHighlightTextNode(prefix,match,suffix,{class:"zgs19_gshighlight"});_jQueryGS(iterChild).empty(),iterChild.appendChild(docFragment),_jQueryGS(iterChild).show()}else _jQueryGS(iterChild).text(filterText).hide()}else headerobj[headerId]=!0,_jQueryGS(iterChild).text(filterText).show()}}for(var hid in headerobj){var flag=headerobj[hid],hchild=childNodes[hid];if(hchild){var hdisplay=flag?"block":"none";_jQueryGS(hchild).css("display",hdisplay)}}}},!0)}}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS;zgssearch.defaultMaxCount=3;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.resToBeShown=zgssearch.resToBeShown||0,zgssearch.resultToBeShown=zgssearch.resultToBeShown||{},zgssearch.firstResultCallOutShown=!1,zgssearch.nps="&nps=202",zgssearch.docsShared||(zgssearch.docsShared=[{title:zgssearch.getI18NMsg("gs.search.result.sharedwithme"),icon:"zgs19_SharedIcon"},{title:zgssearch.getI18NMsg("gs.search.result.sharedwithgroup"),icon:"zgs19_GroupSharedIcon"}]),zgssearch.discussionsType||(zgssearch.discussionsType={0:"discussions",1:"announcements",2:"questions",3:"ideas",4:"problems"}),zgssearch.createServiceTemplate=function(service_name,mobj){var topband="",template="",moreOption="",maccId=(mobj=mobj||{}).account_id||"",maccName=mobj.account_name||"";if(GSConstant.ALL===zgssearch.getSearchType()){var mapService=zgssearch.mappedServiceList[service_name],viewall=zgssearch.getI18NMsg("gs.search.sevice_view_all");if(topband=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Topband",class:"zgs19_gsServiceTopband"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsSearchIconSvgNew zgs19_gsfl "+mapService.serviceicon})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl",service:service_name,gs:"serviceBand",acc_id:maccId,title:mapService.displayName}).text(mapService.displayName)),zgssearch.isServiceHasWidget(service_name)){var mlist=zgssearch.getWidgetServiceList(service_name),aname=maccName||zgssearch.getFilterInfo(service_name,mlist.key,"dispname");topband.append(_jQueryGS("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - ")).append(_jQueryGS("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",service:service_name,gs:"serviceWidgetBand",acc_id:maccId,title:aname,style:"max-width:50%;"}).text(aname))}moreOption=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:service_name,gs:"moreBand",acc_id:maccId,title:viewall}).text(viewall),template=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Template",class:"zgs19_gsServiceTemplate",service:service_name,acc_id:maccId,gs:"ServiceTemplate"}).append(topband).append(_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(moreOption)}else if(zgssearch.multiPageEnabled){_jQueryGS("#zgs20_MultiSearchPageHolder").length<=0&&_jQueryGS("#zgs20_gsMultiSearchResultPage").append(_jQueryGS("<div>",{id:"zgs20_MultiSearchPageHolder",class:"zgs19_gsModuleScrollPage zgs19_gsOverflowAuto zgs19_gsServiceSpecificPage",service:service_name,acc_id:maccId,gs:"multiPageHolder"}));mlist=zgssearch.getWidgetServiceList(service_name),viewall=zgssearch.getI18NMsg("gs.search.sevice_view_all");topband=_jQueryGS("<div>",{id:"zgs20_gs"+maccId+"Topband",class:"zgs19_gsServiceTopband"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl",service:service_name,title:aname,style:"max-width:30%;"}).text(mlist.label+": ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",service:service_name,acc_id:maccId,gs:"serviceBand",acc_id:maccId,title:maccName,style:"max-width:60%;"}).text(maccName)),moreOption=_jQueryGS("<div>",{id:"zgs20_gs"+maccId+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:service_name,acc_id:maccId,gs:"moreBand",title:viewall}).text(viewall),template=_jQueryGS("<div>",{id:"zgs20_gs"+maccId+"Template",class:"zgs19_gsServiceTemplate",service:service_name,acc_id:maccId,gs:"ServiceTemplate"}).append(topband).append(_jQueryGS("<div>",{id:"zgs20_gs"+maccId+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(moreOption)}else{var className=zgssearch.isServiceHasFilter(service_name)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";template=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Template",class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+className,service:service_name,gs:"serviceSpecificPage"}).append(_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Results",class:"zgs19_gsModuleInnerServSpecific",service:service_name}))}if(GSConstant.ALL===zgssearch.getSearchType())""!==(bElem=zgssearch.getSiblingServiceElement(service_name))?_jQueryGS("#"+bElem).after(template):_jQueryGS("#zgs20_gsAllSearchResultPage").prepend(template);else if(zgssearch.multiPageEnabled){var bElem;zgssearch.renderServiceFilterList(service_name),""!==(bElem=zgssearch.getSiblingMultiElement(service_name,maccId))?_jQueryGS("#"+bElem).after(template):_jQueryGS("#zgs20_MultiSearchPageHolder").prepend(template),zgssearch.setServiceResPaneHeight("zgs20_gsMultiSearchResultPage","zgs20_MultiSearchPageHolder")}else zgssearch.renderServiceFilterList(service_name),_jQueryGS("#zgs20_gsModuleSearchResultPage").append(template),zgssearch.setServiceResPaneHeight("zgs20_gsModuleSearchResultPage","zgs20_gs"+service_name+"Template")},zgssearch.setServiceResPaneHeight=function(parentId,servicesResPaneId){var height=_jQueryGS("#"+parentId).height()-_jQueryGS("#zgs20_gsModuleFilterList").outerHeight();_jQueryGS("#"+servicesResPaneId).css("height",height+"px")},zgssearch.getSiblingServiceElement=function(service_name){var dElem="";if(zgssearch.orderedServiceList)for(var length=zgssearch.orderedServiceList.length,ol=0;ol<length;ol++){var oservice=zgssearch.orderedServiceList[ol];if(0<_jQueryGS("#"+("zgs20_gs"+oservice+"Template")).length&&(dElem="zgs20_gs"+oservice+"Template"),service_name===oservice)break}return dElem},zgssearch.getSiblingMultiElement=function(service_name,accId){for(var dElem="",mlist=zgssearch.getWidgetServiceList(service_name),accIdArr=zgssearch.getFilterInfo(service_name,mlist.key,"accIdArr"),ol=0;ol<accIdArr.length;ol++){var saccId=accIdArr[ol];if(0<_jQueryGS("#"+("zgs20_gs"+saccId+"Template")).length&&(dElem="zgs20_gs"+saccId+"Template"),saccId==accId)break}return dElem},zgssearch.getResultMaxCount=function(searchType,serviceName,resCount){if(GSConstant.ALL===searchType||zgssearch.multiPageEnabled){var maxCount=zgssearch.fWeightage[serviceName]||zgssearch.iWeightage[serviceName]||zgssearch.defaultMaxCount;zgssearch.multiPageEnabled&&(maxCount=zgssearch.defaultMaxCount),maxCount<resCount&&(resCount=maxCount)}return resCount},zgssearch.getServiceResultCount=function(service_name,acc_id){var count=zgssearch.resultCount[service_name];return zgssearch.isServiceHasWidget(service_name)&&count.hasOwnProperty(acc_id)?count[acc_id]:count},zgssearch.getServiceResultObject=function(service_name,acc_id){var object=zgssearch.resultObject[service_name];return zgssearch.isServiceHasWidget(service_name)&&object.hasOwnProperty(acc_id)?object[acc_id]:object},zgssearch.getShownResultCount=function(service_name,acc_id){var count=zgssearch.resultToBeShown[service_name];return zgssearch.isServiceHasWidget(service_name)&&count.hasOwnProperty(acc_id)?count[acc_id]:count},zgssearch.setShownResultCount=function(service_name,acc_id,count){if(zgssearch.isServiceHasWidget(service_name)&&service_name!=GSConstant.CRM){var mcountObj=zgssearch.resultToBeShown[service_name]||{};mcountObj[acc_id]=count,zgssearch.resultToBeShown[service_name]=mcountObj}else zgssearch.resultToBeShown[service_name]=count;return count},zgssearch.getThumbPhotoURL=function(id){return GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+id+zgssearch.nps},zgssearch.getStampPhotoURL=function(id){return GSConstant.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+id+zgssearch.nps},zgssearch.renderSearchResults=function(service_name,isWeightage,isToFetchAllRecords,mobj){try{var i=0,searchType=zgssearch.getSearchType(),id="zgs20_gs"+service_name+"Results",acc_id="";if((mobj=mobj||{}).hasOwnProperty("account_id"))acc_id=mobj.account_id;else(mlist=zgssearch.getWidgetServiceList(service_name)).hasOwnProperty("key")&&(acc_id=zgssearch.getFilterInfo(service_name,mlist.key,"current"));zgssearch.multiPageEnabled&&(id="zgs20_gs"+acc_id+"Results");var resultObject=zgssearch.getServiceResultObject(service_name,acc_id),curfetchResCount=zgssearch.getServiceResultCount(service_name,acc_id),toBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,curfetchResCount);if(isWeightage){if(i=zgssearch.getShownResultCount(service_name,acc_id),acc_id){var wmcount=2<=curfetchResCount?2:1;toBeShowResCount=i+wmcount<curfetchResCount?i+wmcount:curfetchResCount}}else isToFetchAllRecords?toBeShowResCount=(i=zgssearch.resToBeShown)+25<curfetchResCount?i+25:curfetchResCount:zgssearch.scrollSearch&&(i=zgssearch.resToBeShown);for(toBeShowResCount=25<toBeShowResCount-i?25:toBeShowResCount;i<toBeShowResCount;i++){var resObj=resultObject[service_name+i],resDiv="",photoURL="",callOutPhotoURL="",sname="",staObj="",totalResWidth=_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100;switch(service_name){case GSConstant.MAILS:var mSender=resObj.sender||"",mDate=resObj.display_time||"",folderId=resObj.folder_id||"",mFolder=resObj.folder_name||"",mHasAttach=resObj.has_attachment||"",mailImg=zgssearch.getMailImageStatus(resObj.servImg),mSubject=resObj.subject=zgssearch.replaceHTMLEntity(resObj.subject)||"",unreadMailClass="true"===resObj.isBold?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",mAttachIcon="";"1"===mHasAttach&&(mAttachIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"})),mSubject||(mSubject="("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")");var folderDiv="",currentFolder=zgssearch.getFilterInfo(GSConstant.MAILS,"folders","current");folderDiv=searchType===zgssearch.GSConstant.ALL||zgssearch.multiPageEnabled||"allfolders"===currentFolder?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",title:zgssearch.getI18NMsg("gs.search.filter_through")+" "+mFolder,gs:"mailfolder",fId:folderId,acc_id:acc_id}).text(mFolder)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",title:mFolder}).text(mFolder)),resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+mailImg.image,title:mailImg.title,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:mDate}).text(mDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(mAttachIcon).append(_jQueryGS("<span>",{class:unreadMailClass,gs:"zgs20_gsUserTitle",title:mSubject}).text(mSubject))).append(_jQueryGS("<div>",{class:"zgs19_gsResultFolder1 zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(folderDiv)).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:mSender}).text(mSender)))));break;case GSConstant.REPORTS:var lastModAuthor=resObj.auth||resObj.mBy,viewName=resObj.vN||"",dTime=resObj.time||"",viewType=resObj.ty||"",serviceImgTitle=zgssearch.getReportsResTT(viewType);resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+serviceImgTitle.image,title:serviceImgTitle.title,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:viewName}).text(viewName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:lastModAuthor}).text(lastModAuthor)))));break;case GSConstant.CREATOR:var author=resObj.auth||"",serviceImg=(viewName=resObj.aN||"",dTime=resObj.time||"",viewType=resObj.cg||"",serviceImgTitle=zgssearch.getCreatorResTT(viewType),zgssearch.getCreatorImg(viewName));resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(serviceImg))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:viewName,class:"zgs19_gsfl"}).text(viewName)).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+serviceImgTitle.customimage,title:serviceImgTitle.customtitle}))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow",title:author,style:"max-width: 70%;"}).text(author)).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+serviceImgTitle.image,title:serviceImgTitle.title})))));break;case GSConstant.CRM:var module=resObj.mod,moduleDispName=zgssearch.getFilterInfo(GSConstant.CRM,"modules","data")[module]||"",conObj=zgssearch.generateCRMSearchResults(resObj,id);_jQueryGS("#zgs20_dummyCRMRes").remove();var resultCellObj=conObj.resultCell,isCustMod=conObj.customModule,crmImgObj=zgssearch.getCRMModuleTT(module,isCustMod,moduleDispName);resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"zgs19_gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(crmImgObj))).append(resultCellObj));break;case GSConstant.DOCUMENTS:var dAuthor=resObj.author||"",dShared=resObj.shared||"",dName=resObj.doc_name||"",dSType=resObj.shared_type||"",sVal=(dTime=resObj.display_time||"",serviceImg=resObj.servImg||"",dShared?3===dSType?1:0:""),sharedIcon=(serviceImgTitle=zgssearch.getDocResTT(serviceImg),""!==sVal?_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+zgssearch.docsShared[sVal].icon,title:zgssearch.docsShared[sVal].title}):"");resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+serviceImg,title:serviceImgTitle,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:dName}).text(dName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow",title:dAuthor,style:"max-width: 70%;"}).text(dAuthor)).append(sharedIcon))));break;case GSConstant.PEOPLE:var opPh=resObj.phone||"",opExtn=resObj.extn||"",opMob=resObj.mobile||"",opEmail=resObj.mailid||"",opZuid=resObj.zuid||"";opName=(opName=(opName=resObj.empFname||"")+" "+resObj.empLname||"").trim(),opPh=opPh&&""!=opPh&&"NULL"!=opPh?opPh:"",opMob=opMob&&""!=opMob&&"NULL"!=opMob?opMob:"",opExtn=opExtn&&""!=opExtn&&"NULL"!=opExtn?opExtn:"";conObj=zgssearch.getContactUserDetails(service_name,totalResWidth,opEmail,opMob,opPh,opExtn);(photoURL=resObj.cphoto||resObj.photo||"")&&(-1!=photoURL.indexOf("/api/viewEmployeePhoto?")?photoURL=photoURL.replace("/api/viewEmployeePhoto?","/viewPhoto?"):opZuid&&"-1"!==opZuid&&(photoURL=zgssearch.getStampPhotoURL(opZuid))),sname=(staObj=zgssearch.getUserStatus(opZuid)).name?staObj.name:"",resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle97 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:opName}).text(opName))).append(conObj.cell1).append(conObj.cell2)));break;case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:opPh=resObj.phone||"",opZuid=resObj.zuid||"",opEmail=resObj.email||"",opMob=resObj.mobile||"";var opName=resObj.full_name||"";opPh=opPh&&""!=opPh&&"NULL"!=opPh?opPh:"",opMob=opMob&&""!=opMob&&"NULL"!=opMob?opMob:"";conObj=zgssearch.getContactUserDetails(service_name,totalResWidth,opEmail,opMob,opPh);"personal"===resObj.type?photoURL=resObj.stamp+"?API=true":opZuid&&"-1"!==opZuid&&(photoURL=zgssearch.getStampPhotoURL(opZuid)),sname=(staObj=zgssearch.getUserStatus(opZuid)).name?staObj.name:"",resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle97 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:opName}).text(opName))).append(conObj.cell1).append(conObj.cell2)));break;case GSConstant.CHAT:var cZuid=GSConstant.cuz||"",oZuid=resObj.ownerid||"",cDate=resObj.display_time||"",cName=resObj.display_name||"",cTitle=resObj.title=zgssearch.replaceHTMLEntity(resObj.title)||"";cName=cZuid==oZuid?zgssearch.getI18NMsg("gs.search.result.chat.callout.me"):cName;var chatGroupId="",rParticipants={},totalParticipants=0,isChatGroupIcon=!1,recentParticipantsCount=0,group_icon="zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl";if(resObj.hasOwnProperty("participants_count")&&(totalParticipants=parseInt(resObj.participants_count)),resObj.hasOwnProperty("recent_participants")&&(rParticipants=zgssearch.jsonParse(resObj.recent_participants),recentParticipantsCount=Object.keys(rParticipants).length),resObj.hasOwnProperty("group_id")&&(chatGroupId=resObj.group_id),chatGroupId&&"-1"!==chatGroupId&&"null"!==chatGroupId)isChatGroupIcon=!0,photoURL=GSConstant.GS_CONTACTS_URL+"/file?fs=stamp&t=group&ID="+chatGroupId+"&width=38&height=38"+zgssearch.nps,callOutPhotoURL=GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=group&ID="+chatGroupId+"&width=38&height=38"+zgssearch.nps;else if(2<totalParticipants||2===recentParticipantsCount&&!rParticipants.hasOwnProperty(cZuid))isChatGroupIcon=!0,group_icon="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon";else if(0<recentParticipantsCount)for(var partZuid in recentParticipantsCount<=2&&rParticipants.hasOwnProperty(cZuid)&&delete rParticipants[cZuid],rParticipants)staObj=zgssearch.getUserStatus(partZuid),photoURL=zgssearch.getStampPhotoURL(partZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(partZuid);else"-1"!==oZuid&&(staObj=zgssearch.getUserStatus(oZuid),photoURL=zgssearch.getStampPhotoURL(oZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(oZuid));sname=staObj.name?staObj.name:"",resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:group_icon,gs:"gsUserPhoto",group:isChatGroupIcon,src:zgssearch.gsspacer,calloutphoto:callOutPhotoURL})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:cDate}).text(cDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:cTitle}).text(cTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:cName}).text(cName)))));break;case GSConstant.SUPPORT:var sresObj=zgssearch.getSupportResObj(resObj),sTime=sresObj.sTime||"",sTitle=sresObj.sTitle||"",sModule=sresObj.module||"",sAuthor=sresObj.sAuthor||"",docId=resObj.doc_id,accDocId=zgssearch.docIdsVsEncryptedIds[acc_id]||{};resObj.encryptedId=accDocId[docId]||"";var sAttachIcon="",dept_name=resObj.DEP_NAME||"",sModuleId=resObj.module_id||"",deptId=resObj.DEP_ID||"";(resObj.ATTACHMENT_NAMES||"")&&(sAttachIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"}));var footerDiv="",footerWidth={},titlewid="zgs19_gsResultTitle75",sFooterDiv1="",sFooterDiv2="",sconObj={cell1:"",cell2:""},moduleDiv="",moduleName=zgssearch.gssupport.getModuleName(sModuleId,acc_id),curmoduleId=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","current");if(moduleName&&(totalResWidth-=25*totalResWidth/100,moduleDiv="0"==curmoduleId?_jQueryGS("<div>",{class:"zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",title:zgssearch.getI18NMsg("gs.search.filter_through")+" "+moduleName,gs:"deskModules",fId:sModuleId,depId:deptId,acc_id:acc_id}).text(moduleName))):_jQueryGS("<div>",{class:"zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault",title:moduleName}).text(moduleName)))),"1"==sModuleId||"2"==sModuleId){var dfooterWidth,intxt=zgssearch.getI18NMsg("gs.search.result.support.in"),curPortalId=zgssearch.getFilterInfo(GSConstant.SUPPORT,"portals","current"),curdeptId=zgssearch.getFilterInfo(GSConstant.SUPPORT,"departments","current");footerWidth.author_width=sAuthor;var sInTxtElem=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsResIntxt1 zgs19_gsOverflow zgs19_gsfl",title:intxt}).text(intxt);totalResWidth-=20,footerWidth.dept_width=dept_name,dfooterWidth=zgssearch.getDynamicElemWidth(footerWidth,totalResWidth,totalResWidth/2),sFooterDiv2=!dept_name||"0"!=curdeptId&&"0"!=curPortalId?_jQueryGS("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow",style:"max-width:"+dfooterWidth.dept_width+"px;"}).append(_jQueryGS("<span>",{title:dept_name,class:"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault"}).text(dept_name)):_jQueryGS("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow",style:"max-width:"+dfooterWidth.dept_width+"px;"}).append(_jQueryGS("<span>",{title:zgssearch.getI18NMsg("gs.search.filter_through")+" "+dept_name,class:"zgs19_hvr_underline",gs:"deskDept",gsfilter:"deptName",fId:deptId,acc_id:acc_id}).text(dept_name)),sFooterDiv1=_jQueryGS("<div>",{class:"zgs19_gsResultSupportAuthor zgs19_gsfl zgs19_gsOverflow",style:"max-width:"+dfooterWidth.author_width+"px;"}).append(_jQueryGS("<span>",{title:sAuthor}).text(sAuthor)),footerDiv=_jQueryGS("<div>").append(sFooterDiv1).append(sInTxtElem).append(sFooterDiv2).append(moduleDiv)}else if("3"==sModuleId||"4"==sModuleId){var sWeb=resObj.WEBSITE||"",sPhone=resObj.PHONE||"",sEmail=resObj.EMAIL||"";titlewid="zgs19_gsResultTitle97",sconObj=zgssearch.getContactUserDetails(service_name,totalResWidth,sEmail,sPhone,sWeb),footerDiv=_jQueryGS("<div>").append(sconObj.cell1).append(sconObj.cell2).append(moduleDiv)}resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+sresObj.image,title:sModule,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:sTime}).text(sTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsOverflow "+titlewid}).append(sAttachIcon).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:sTitle}).text(sTitle))).append(footerDiv)));break;case GSConstant.CONNECT:var pZuid=resObj.zuid||"",ptype=resObj.type||"",pTime=resObj.time||"",pAuthor=resObj.author||"",pETime=resObj.eventStartTime||"",pAttach="true"==resObj.hasAttach,pTitle=resObj.title=zgssearch.replaceHTMLEntity(resObj.title)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle");pZuid&&"-1"!==pZuid&&(photoURL=zgssearch.getStampPhotoURL(pZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(pZuid));var cAttachIcon="";pAttach&&(cAttachIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"}));var pEIClass="",pEClass="zgs19_gsDisplayNone";"POLL"==ptype?(pEClass="",pEIClass="zgs19_gsPollIcon",pETime=zgssearch.getI18NMsg("gs.search.service_connect.poll")):pETime&&""!=pETime&&(pEClass="",pEIClass="zgs19_gsEventIcon");var parSpan="",parInDiv="",pulseFooterObj={},apostrophe="",wallTxt="";if("FORUMS"==ptype){var curl=resObj.url||"",curlindex=curl.indexOf("?isNative=true");-1<curlindex&&(resObj.url=curl.substr(0,curlindex)),pulseFooterObj={auth:"max-width:250px;"}}else{var tparspan=zgssearch.getConnectPartitionElem(resObj,"zgs19_gsConnResApost"),authorName=_jQueryGS(tparspan[0])[0];apostrophe=_jQueryGS(tparspan[1])[0],wallTxt=_jQueryGS(tparspan[2])[0],pulseFooterObj=zgssearch.getPulseFooterElemsWidth(pAuthor,authorName),parInDiv=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",style:"margin-left:5px;margin-right: 5px"}).text(zgssearch.getI18NMsg("gs.search.result.support.in")),parSpan=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",style:pulseFooterObj.name}).append(authorName)}sname=(staObj=zgssearch.getUserStatus(pZuid)).name?staObj.name:"",resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"zgs19_gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:"zgs19_gsUserPhoto",gs:"gsUserPhoto",src:zgssearch.gsspacer,pTitle:cTitle,cPhotoURL:callOutPhotoURL})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_width100 zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:pTime}).text(pTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(cAttachIcon).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:pTitle}).text(pTitle)))).append(_jQueryGS("<div>",{class:"zgs19_width100 zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",style:pulseFooterObj.auth}).append(_jQueryGS("<span>",{title:pAuthor}).text(pAuthor))).append(parInDiv).append(parSpan).append(apostrophe).append(wallTxt).append(_jQueryGS("<div>",{class:"zgs19_gsConnEventTime zgs19_gsOverflow zgs19_gsfr "+pEClass}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+pEIClass,title:pETime}))))));break;case GSConstant.DISCUSSIONS:var disAuth=resObj.auth||"",disName=resObj.dN||"",disDate=resObj.dT||"",discTopic=zgssearch.getDiscTopicTT(resObj.ty);resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+discTopic.image,title:discTopic.title,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:disDate}).text(disDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:disName}).text(disName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:disAuth}).text(disAuth)))));break;case GSConstant.WIKI:var wAuth=resObj.dN||"",wDate=resObj.dT||"",wName=zgssearch.replaceHTMLEntity(resObj.title);wName=resObj.title=zgssearch.replaceHTMLEntity(wName),null!=wAuth&&null!=wAuth&&""!=wAuth&&"null"!=wAuth||(wAuth=resObj.dN=resObj.auth);var servWikiImg=resObj.sImg,wikiTT=zgssearch.getDocResTT(servWikiImg),wAttachIcon="";1==resObj.ty&&(wAttachIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"})),resDiv=_jQueryGS("<div>",{id:id+"_"+i,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:i,service:service_name,acc_id:acc_id,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+servWikiImg,title:wikiTT,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(wDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(wAttachIcon).append(_jQueryGS("<span>",{gs:"zgs20_gsUserTitle",title:wName}).text(wName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(wAuth)))))}resDiv=zgssearch.setServiceResDivElemsWidth(resDiv,service_name,id),_jQueryGS("#"+("zgs20_dummy"+service_name+"Res")).remove();var targetId=zgssearch.getTargetElem(id);_jQueryGS(targetId).append(resDiv),zgssearch.gskeyboard.insertNewNode(service_name,id+"_"+i,i,acc_id),photoURL?zgssearch.updateUserPhoto(id+"_"+i,photoURL):isChatGroupIcon||zgssearch.loadResNoPhotoImg(id+"_"+i)}if(GSConstant.ALL===searchType){zgssearch.setShownResultCount(service_name,acc_id,toBeShowResCount),isWeightage||zgssearch.SetweightServices(service_name);var orderList=zgssearch.getOrderedServiceList();zgssearch.scrollSearch||service_name!=orderList[1]||(zgssearch.firstResultCallOutShown=!0)}else if(zgssearch.multiPageEnabled){zgssearch.resToBeShown=0,zgssearch.setShownResultCount(service_name,acc_id,toBeShowResCount);var mlist=zgssearch.getWidgetServiceList(service_name),accIdArr=zgssearch.getFilterInfo(service_name,mlist.key,"accIdArr");zgssearch.scrollSearch||service_name!=accIdArr[1]||(zgssearch.firstResultCallOutShown=!0)}else zgssearch.firstResultCallOutShown=!0,zgssearch.resToBeShown=toBeShowResCount,zgssearch.resToBeShown!==zgssearch.searchResultsLimit&&curfetchResCount%zgssearch.fetchResCount==0||(zgssearch.noMoreResults=!0);if(zgssearch.firstResultCallOutShown&&!zgssearch.curSelectedEle&&""==zgssearch.curSelectedEle){var firstResult=zgssearch.gskeyboard.getFirstDataNode();_jQueryGS("#"+firstResult).click()}}catch(ex){}},zgssearch.setServiceResDivElemsWidth=function(resDiv,service_name,id){switch(service_name){case GSConstant.CONNECT:resDiv=zgssearch.setConnectResDivElemsWidth(resDiv,service_name,id)}return resDiv},zgssearch.setConnectResDivElemsWidth=function(resDiv,service_name,resultAppendId){var dummyResDiv=_jQueryGS("<div>",{id:"zgs20_dummy"+service_name+"Res",class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(resDiv);_jQueryGS("#"+resultAppendId).append(dummyResDiv);var footers=_jQueryGS(dummyResDiv).find(".zgs19_width100")[1],footerElems=_jQueryGS(footers).children(),footerElemsWidth=_jQueryGS(footers).width();_jQueryGS(footerElems).each(function(index){var footerEle=footerElems[index];footerElemsWidth=_jQueryGS(footerEle).hasClass("zgs19_gsContactEmail")?footerElemsWidth:footerElemsWidth-_jQueryGS(footerEle).outerWidth(!0)});var emailFields=_jQueryGS(dummyResDiv).find(".zgs19_gsContactEmail"),email1=emailFields[0],email2=emailFields[1],balanceWidth=footerElemsWidth/2;return _jQueryGS(email1).css("max-width",balanceWidth),_jQueryGS(email2).css("max-width",balanceWidth),resDiv},zgssearch.updateUserPhoto=function(id,photoURL){try{var serviceImgDummy=new Image;serviceImgDummy.src=photoURL,serviceImgDummy.setAttribute("gs",id),serviceImgDummy.className="zgs19_gsDisplayNone";var prefix=document.addEventListener?"":"on",eventName=document.addEventListener?"addEventListener":"attachEvent";serviceImgDummy[eventName](prefix+"load",function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&(_jQueryGS(imgEle.gsUserPhoto).attr("src",this.src),_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsUserPhoto"))),zgssearch.removeEle(this)},!0),serviceImgDummy[eventName](prefix+"error",function(){zgssearch.loadResNoPhotoImg(this.getAttribute("gs"))},!0)}catch(ex){}},zgssearch.loadResNoPhotoImg=function(id){var imgEle=zgssearch.getTargetElem(id);if(imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto)){var userIcon="true"==_jQueryGS(imgEle.gsUserPhoto).attr("group")?"zgs19_gsChatGroupIcon":"zgs19_gsResNoUserPhoto";_jQueryGS(imgEle.gsUserPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons "+userIcon)}},zgssearch.getSupportResObj=function(resObj){var sresObj={};switch(resObj.module_id){case"1":sresObj.module="Request",sresObj.image="zgs19_gsSuppRequestIcon",sresObj.sTime=resObj.display_time||"",sresObj.sAuthor=resObj.CONTACTNAME||"",sresObj.sTitle=resObj.support_title||"";break;case"2":sresObj.module="FAQ",sresObj.image="zgs19_gsSuppSolutionIcon",sresObj.sTime=resObj.display_time||"",sresObj.sAuthor=resObj.TOPIC_NAME||"",sresObj.sTitle=resObj.support_title||"";break;case"3":sresObj.module="Contacts",sresObj.image="zgs19_gsSuppContactIcon",sresObj.sAuthor=resObj.EMAIL||"",sresObj.sTitle=resObj.support_title||"";break;case"4":sresObj.module="Accounts",sresObj.image="zgs19_gsSuppAccountIcon",sresObj.sAuthor=resObj.EMAIL||"",sresObj.sTitle=resObj.support_title||""}return sresObj},zgssearch.getFileExtn=function(file_extn){switch(file_extn){case"zwriter":return"zoho writer";case"zslides":return"zoho presentation";case"zsheet":return"zoho sheet"}return file_extn},zgssearch.getContactUserDetails=function(service_name,totalResWidth,col1,col2,col3,col4){var cell1="",cell2="";if(col3){var phIcon="";service_name!=GSConstant.SUPPORT&&(phIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})),cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(phIcon).append(_jQueryGS("<span>",{title:col3}).text(col3))}if(col2&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg zgs19_gsfl"})).append(_jQueryGS("<span>",{title:col2}).text(col2))),col4&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{title:col4}).text(col4))),col1&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:col1}).text(col1))),_jQueryGS(cell1).css("maxWidth",totalResWidth),cell2){var cellobj={};cellobj.cell1_width=_jQueryGS(cell1).text(),cellobj.cell2_width=_jQueryGS(cell2).text();var maxCellWidth=totalResWidth/2-25,dfooterWidth=zgssearch.getDynamicElemWidth(cellobj,totalResWidth,maxCellWidth);_jQueryGS(cell1).css("maxWidth",dfooterWidth.cell1_width+25),_jQueryGS(cell2).css("maxWidth",dfooterWidth.cell2_width+25),_jQueryGS(cell2).css("margin-left","8px")}return{cell1:cell1,cell2:cell2}},zgssearch.getMailImageStatus=function(statusCode){var mailResObj={};switch(statusCode){case 0:mailResObj.servImg=1,mailResObj.image="zgs19_gsMailUnReadIcon",mailResObj.toBeImage="zgs19_gsMailReadIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unread"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.read");break;case 1:mailResObj.servImg=0,mailResObj.image="zgs19_gsMailReadIcon",mailResObj.toBeImage="zgs19_gsMailUnReadIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.read"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unread");break;case 2:mailResObj.servImg=3,mailResObj.image="zgs19_gsMailUnReadReplyIcon",mailResObj.toBeImage="zgs19_gsMailReadReplyIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadreply"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.readreply");break;case 3:mailResObj.servImg=2,mailResObj.image="zgs19_gsMailReadReplyIcon",mailResObj.toBeImage="zgs19_gsMailUnReadReplyIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.readreply"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadreply");break;case 4:mailResObj.servImg=5,mailResObj.image="zgs19_gsMailUnReadForwardIcon",mailResObj.toBeImage="zgs19_gsMailReadForwardIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadforward"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.readforward");break;case 5:mailResObj.servImg=4,mailResObj.image="zgs19_gsMailReadForwardIcon",mailResObj.toBeImage="zgs19_gsMailUnReadForwardIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.readforward"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadforward")}return mailResObj},zgssearch.getDocResTT=function(servImg){return zgssearch.isSetTT||(zgssearch.isSetTT=!0,zgssearch.docsImgObj={zgs19_explorer:zgssearch.getI18NMsg("gs.search.result.document.explorer"),zgs19_writer:zgssearch.getI18NMsg("gs.search.result.document.writer"),zgs19_sheet:zgssearch.getI18NMsg("gs.search.result.document.sheet"),zgs19_show:zgssearch.getI18NMsg("gs.search.result.document.show"),zgs19_undefinedtype:zgssearch.getI18NMsg("gs.search.result.document.undefinedtype"),zgs19_pdf:zgssearch.getI18NMsg("gs.search.result.document.pdf"),zgs19_video:zgssearch.getI18NMsg("gs.search.result.document.video"),zgs19_image:zgssearch.getI18NMsg("gs.search.result.document.image"),zgs19_html:zgssearch.getI18NMsg("gs.search.result.document.html"),zgs19_music:zgssearch.getI18NMsg("gs.search.result.document.music"),zgs19_zip:zgssearch.getI18NMsg("gs.search.result.document.zip"),zgs19_folder:zgssearch.getI18NMsg("gs.search.result.document.folder"),zgs19_wiki:zgssearch.getI18NMsg("gs.search.result.document.wiki"),zgs19_word:zgssearch.getI18NMsg("gs.search.result.document.word"),zgs19_power:zgssearch.getI18NMsg("gs.search.result.document.powerpoint"),zgs19_xl:zgssearch.getI18NMsg("gs.search.result.document.xl"),zgs19_txt:zgssearch.getI18NMsg("gs.search.result.document.txt")}),zgssearch.docsImgObj[servImg]?zgssearch.docsImgObj[servImg]:""},zgssearch.getReportsResTT=function(type){var reportsImgObj={};switch(type){case"Dashboard":reportsImgObj.image="zgs19_dashboard",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.dashboard");break;case"Table":reportsImgObj.image="zgs19_table",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.table");break;case"AnalysisView":reportsImgObj.image="zgs19_analysisview",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.analysisview");break;case"QueryTable":reportsImgObj.image="zgs19_querytable",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.querytable");break;case"Report":reportsImgObj.image="zgs19_tableview",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.tableview");break;case"SummaryView":reportsImgObj.image="zgs19_summaryview",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.summaryview");break;case"Pivot":reportsImgObj.image="zgs19_pivot",reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.pivot")}return reportsImgObj},zgssearch.getCreatorResTT=function(type){var creatorImgObj={image:"",title:"",customimage:"",customtitle:""};switch(type){case"2":creatorImgObj.image="zgs19_sharedApp",creatorImgObj.title=zgssearch.getI18NMsg("gs.search.result.creator.shared_apps");break;case"3":creatorImgObj.image="zgs19_sharedToGrp",creatorImgObj.title=zgssearch.getI18NMsg("gs.search.result.creator.shared_to_group_apps");break;case"4":creatorImgObj.customimage="zgs19_sharedToOrgGrp",creatorImgObj.customtitle=zgssearch.getI18NMsg("gs.search.result.creator.custom_apps")}return creatorImgObj},zgssearch.getDocsImageStatus=function(servImg,file_extn){switch(servImg){case"zgs19_folder":return"Folder";case"zgs19_explorer":case"zgs19_undefinedtype":return"Unknown File"}switch(file_extn){case"zwriter":return"Writer";case"zsheet":return"Sheet";case"zslides":return"Presentation";default:return file_extn}},zgssearch.getPulseFooterElemsWidth=function(cAuthor,cName){_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<span>",{class:"zgs19_fontsize14 zgs19_gsDisplayNone",id:"zgs20_gsConnectTempSpan"})),_jQueryGS("#zgs20_gsConnectTempSpan").text("").text(cAuthor);var pulseAuthorWidth=_jQueryGS("#zgs20_gsConnectTempSpan").width()+10;_jQueryGS("#zgs20_gsConnectTempSpan").empty().append(cName);var pulseNameWidth=_jQueryGS("#zgs20_gsConnectTempSpan").width()+40;return _jQueryGS("#zgs20_gsConnectTempSpan").remove(),150<=pulseAuthorWidth&&pulseNameWidth<150?pulseAuthorWidth=150-pulseNameWidth+150:pulseAuthorWidth<150&&150<=pulseNameWidth?pulseNameWidth=150-pulseAuthorWidth+150:pulseAuthorWidth=pulseNameWidth=150,{auth:"max-width:"+pulseAuthorWidth+"px;",name:"max-width:"+pulseNameWidth+"px;"}},zgssearch.getConnectPartitionElem=function(resObj,className){var parName="",parZuid="",currentUserZuid=GSConstant.cuz||null,apostrophe="",wallTxt="";parZuid=resObj.hasOwnProperty("pname")?(parName=zgssearch.replaceHTMLEntity(resObj.pname),resObj.pzuid?resObj.pzuid:""):(parName=resObj.author?resObj.author:"",resObj.zuid?resObj.zuid:"");var authorName=_jQueryGS("<span>",{title:parName}).text(parName);return""!=parZuid&&"-1"!=parZuid&&(currentUserZuid==parZuid?parName=zgssearch.getI18NMsg("gs.search.service_connect.mywall"):(apostrophe=_jQueryGS("<span>",{class:className}).text(zgssearch.getI18NMsg("gs.search.service_connect.apostrophe")),wallTxt=_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.service_connect.wall")))),[authorName,apostrophe,wallTxt]},zgssearch.getDiscTopicTT=function(discTopic){var discResObj={};switch(discTopic){case"0":discResObj.image="zgs19_gsDiscDiscussions",discResObj.title=zgssearch.getI18NMsg("gs.search.result.discussions.topic.discussion");break;case"1":discResObj.image="zgs19_gsDiscAnnouncements",discResObj.title=zgssearch.getI18NMsg("gs.search.result.discussions.topic.announcement");break;case"2":discResObj.image="zgs19_gsDiscQuestions",discResObj.title=zgssearch.getI18NMsg("gs.search.result.discussions.topic.question");break;case"3":discResObj.image="zgs19_gsDiscIdeas",discResObj.title=zgssearch.getI18NMsg("gs.search.result.discussions.topic.idea");break;case"4":discResObj.image="zgs19_gsDiscProblems",discResObj.title=zgssearch.getI18NMsg("gs.search.result.discussions.topic.problem")}return discResObj},zgssearch.getUserStatus=function(uzuid,size){var name="",tip="",status="",isChatPaused=zgssearch.isWMSChatPaused();if(uzuid&&"-1"!==uzuid&&!isChatPaused){var cobj=zgssearch.getWMSUserContacts(),pname="big"==size?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus";if(cobj.hasOwnProperty(uzuid))0==(status=cobj[uzuid].STATUS)?(name=pname+" zgs19_gsWMSOffline",tip=zgssearch.getI18NMsg("gs.search.iam.offline")):1==status?(name=pname+" zgs19_gsWMSOnline",tip=zgssearch.getI18NMsg("gs.search.iam.online")):2==status?(name=pname+" zgs19_gsWMSInvisible",tip=zgssearch.getI18NMsg("gs.search.iam.invisible")):3==status?(name=pname+" zgs19_gsWMSBusy",tip=zgssearch.getI18NMsg("gs.search.iam.busy")):4==status&&(name=pname+" zgs19_gsWMSIdle",tip=zgssearch.getI18NMsg("gs.search.iam.idle"))}return{name:name,tip:tip,status:status}},zgssearch.renderGenericValuesForCRMModule=function(module,extraFieldsArr,resObj,actualModName){var extraFields=zgssearch.renderGenericValuesForCRM(module,extraFieldsArr,resObj,actualModName),extraFieldObj1=extraFields.field1,extraFieldObj2=extraFields.field2,extraSeperator=extraFields.seperator;return _jQueryGS("<div>",{class:""}).append(extraFieldObj1).append(extraSeperator).append(extraFieldObj2)},zgssearch.renderGenericValuesForCRM=function(module,extraFields,resObj,actualModName){var extraFieldObj={},rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",rFW90="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90";actualModName===GSConstant.CRM_ALL_MODULES&&(rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",rFW90="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70");var extraSeperator,extraField1="",extraField2="",finalObj={},phoneFieldObj=new Array,emailFieldObj=new Array,lookupFieldObj=new Array,ownerlookupFieldObj=new Array,picklistFieldObj=new Array,textFieldObj=new Array,currencyObj=new Array,autoNumberObj=new Array,dataObj=zgssearch.crmDataObj[GSConstant.CRM+"_"+module],dispObj=zgssearch.crmDispObj[GSConstant.CRM+"_"+module],mandatoryColName=zgssearch.crmMandName[GSConstant.CRM+"_"+module];for(var key in extraFields){var fieldName=extraFields[key];if("null"!==resObj[fieldName]){var dataType=dataObj[fieldName];mandatoryColName!==fieldName&&void 0!==dataType&&("phone"===dataType&&phoneFieldObj.push(fieldName),"email"===dataType&&emailFieldObj.push(fieldName),"picklist"===dataType&&picklistFieldObj.push(fieldName),"lookup"===dataType&&lookupFieldObj.push(fieldName),"ownerlookup"===dataType&&ownerlookupFieldObj.push(fieldName),"text"===dataType&&textFieldObj.push(fieldName),"currency"===dataType&&currencyObj.push(fieldName),"autonumber"===dataType&&autoNumberObj.push(fieldName))}}var phoneClass=emailClass=pickListFieldClass=lookupClass=ownerlookupClass=textFieldClass=currencyClass=auoNumberClass=rFW90,emailfieldVal=0<emailFieldObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,emailFieldObj[0]):"",phonefieldVal=0<phoneFieldObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,phoneFieldObj[0]):"",picklistfieldVal=0<picklistFieldObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,picklistFieldObj[0]):"",lookupfieldVal=0<lookupFieldObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,lookupFieldObj[0]):"",ownerlookupfieldVal=0<ownerlookupFieldObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,ownerlookupFieldObj[0]):"",textfieldVal=0<textFieldObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,textFieldObj[0]):"",currencyFieldVal=0<currencyObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,currencyObj[0]):"",autoNumberFieldVal=0<autoNumberObj.length?zgssearch.getProperValueFromDataTypeForCRM(resObj,autoNumberObj[0]):"";return""!==textfieldVal&&(finalObj.text=_jQueryGS("<div>",{class:textFieldClass}).append(_jQueryGS("<span>",{title:dispObj[textFieldObj[0]]+" : "+textfieldVal}).text(textfieldVal))),""!==currencyFieldVal&&(finalObj.currency=_jQueryGS("<div>",{class:currencyClass}).append(_jQueryGS("<span>",{title:dispObj[currencyObj[0]]+" : "+currencyFieldVal}).text(currencyFieldVal))),""!==autoNumberFieldVal&&(finalObj.autonumber=_jQueryGS("<div>",{class:auoNumberClass}).append(_jQueryGS("<span>",{title:dispObj[autoNumberObj[0]]+" : "+autoNumberFieldVal}).text(autoNumberFieldVal))),""!==picklistfieldVal&&(finalObj.picklist=_jQueryGS("<div>",{class:pickListFieldClass}).append(_jQueryGS("<span>",{title:dispObj[picklistFieldObj[0]]+" : "+picklistfieldVal}).text(picklistfieldVal))),""!==ownerlookupfieldVal&&(finalObj.owner=_jQueryGS("<div>",{class:ownerlookupClass}).append(_jQueryGS("<span>",{title:dispObj[ownerlookupFieldObj[0]]+" : "+ownerlookupfieldVal}).text(ownerlookupfieldVal))),""!==lookupfieldVal&&(finalObj.lookup=_jQueryGS("<div>",{class:lookupClass}).append(_jQueryGS("<span>",{title:dispObj[lookupFieldObj[0]]+" : "+lookupfieldVal}).text(lookupfieldVal))),""!==phonefieldVal&&(finalObj.phone=_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{title:dispObj[phoneFieldObj[0]]+" : "+phonefieldVal,gs:"contactPhone"}).text(phonefieldVal))),""!==emailfieldVal&&(finalObj.email=_jQueryGS("<div>",{class:emailClass}).append(_jQueryGS("<span>",{title:dispObj[emailFieldObj[0]]+" : "+emailfieldVal}).text(emailfieldVal))),finalObj.hasOwnProperty("email")&&(extraField1=finalObj.email),finalObj.hasOwnProperty("phone")&&(""===extraField1?extraField1=finalObj.phone:""===extraField2&&(extraField2=finalObj.phone)),finalObj.hasOwnProperty("lookup")&&(""===extraField1?extraField1=finalObj.lookup:""===extraField2&&(extraField2=finalObj.lookup)),finalObj.hasOwnProperty("owner")&&(""===extraField1?extraField1=finalObj.owner:""===extraField2&&(extraField2=finalObj.owner)),finalObj.hasOwnProperty("picklist")&&(""===extraField1?extraField1=finalObj.picklist:""===extraField2&&(extraField2=finalObj.picklist)),finalObj.hasOwnProperty("text")&&(""===extraField1?extraField1=finalObj.text:""===extraField2&&(extraField2=finalObj.text)),finalObj.hasOwnProperty("currency")&&(""===extraField1?extraField1=finalObj.currency:""===extraField2&&(extraField2=finalObj.currency)),finalObj.hasOwnProperty("autonumber")&&(""===extraField1?extraField1=finalObj.autonumber:""===extraField2&&(extraField2=finalObj.autonumber)),extraSeperator=""!==extraField1&&""!==extraField2?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",""!==extraField1&&""!==extraField2&&(_jQueryGS(extraField1).removeClass().addClass(rFW45),_jQueryGS(extraField2).removeClass().addClass(rFW45)),extraFieldObj.field1=extraField1,extraFieldObj.field2=extraField2,extraFieldObj.seperator=extraSeperator,extraFieldObj.mandColName=mandatoryColName,extraFieldObj},zgssearch.renderCRMHeader=function(resObj,module){var mandatoryColName=zgssearch.crmMandName[GSConstant.CRM+"_"+module];return zgssearch.checkUndefined(resObj[mandatoryColName])},zgssearch.addFooterFieldsToArray=function(field1,field2,field3,field4,field5){var fieldsArr=new Array;return void 0!==field1&&field1&&fieldsArr.push(field1),void 0!==field2&&field2&&fieldsArr.push(field2),void 0!==field3&&field3&&fieldsArr.push(field3),void 0!==field4&&field4&&fieldsArr.push(field4),void 0!==field5&&field5&&fieldsArr.push(field5),fieldsArr},zgssearch.getCRMFieldsArr=function(module,resObj){var extraFieldsArr=new Array,fieldsArr=new Array,crmResObj={},modFieldsArr=zgssearch.getCRMModuleFields(module);for(var fieldName in resObj)zgssearch.isArrayContain(fieldName,modFieldsArr)?fieldsArr.push(fieldName):"id"!==fieldName&&"mod"!==fieldName&&extraFieldsArr.push(fieldName);return crmResObj.obtainedFieldArr=fieldsArr,crmResObj.extraFieldsArr=extraFieldsArr,crmResObj},zgssearch.getCRMModuleFields=function(module){switch(module){case"Leads":return["Full_Name","Company","Email","Phone","Lead_Status"];case"Contacts":return["Full_Name","Account_Name","Email","Phone","Mobile"];case"Accounts":return["Account_Name","Account_Type","Website","Phone"];case"Potentials":return["Potential_Name","Potential_Owner","Account_Name","Stage"];case"Deals":return["Deal_Name","Deal_Owner","Account_Name","Stage","Amount"];case"Events":return["Event_Title","Start_DateTime","End_DateTime","Venue"];case"Calls":return["Subject","Call_Start_Time","Call_Type","Call_Purpose"];case"Tasks":return["Subject","Task_Owner","Status"];case"Cases":return["Subject","Type","Product_Name","Status"];case"Quotes":return["Subject","Quote_Owner","Quote_Stage"];case"PurchaseOrders":case"Purchase_Orders":return["Subject","Purchase_Order_Owner","Vendor_Name","Status"];case"SalesOrders":case"Sales_Orders":return["Subject","Sales_Order_Owner","Account_Name","Status"];case"PriceBooks":case"Price_Books":return["Price_Book_Name","Price_Book_Owner","Active"];case"Products":return["Product_Name","Product_Owner","Vendor_Name","Product_Active"];case"Vendors":return["Vendor_Name","Email","Website","Phone"];case"Campaigns":return["Campaign_Name","Status","Type","Start_Date","End_Date"];case"Solutions":return["Solution_Title","Solution_Owner","Status","Product_Name"];case"Invoices":return["Subject","Invoice_Owner","Status"];case"Notes":return["Note_Title","Note_Content"]}},zgssearch.removeStartsWithClass=function(ele,startsWithCls){if(void 0!==ele){for(var cl=_jQueryGS(ele).attr("class").split(" "),newcl=[],i=0;i<cl.length;i++)r=cl[i].search(startsWithCls),r&&(newcl[newcl.length]=cl[i]);_jQueryGS(ele).removeClass().addClass(newcl.join(" "))}return ele},zgssearch.getHeaderFooterElemsWidth=function(resultCell,module,customModule,resultAppendId,dummyResultCellId){var isCustMod=customModule,crmImgObj=zgssearch.getCRMModuleTT(module,isCustMod,""),resDiv=_jQueryGS("<div>",{id:dummyResultCellId,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(crmImgObj))).append(resultCell));_jQueryGS("#"+resultAppendId).append(resDiv);var cell2Elements=_jQueryGS("#"+dummyResultCellId+" div.zgs19_gsSearchResultCell2").children(),headerFooterDataAreaWidth=_jQueryGS("#"+dummyResultCellId+" div.zgs19_gsSearchResultCell2").width(),header=cell2Elements[0],footer=cell2Elements[1],allHeaderElemsWidth=headerFooterDataAreaWidth,allFooterElemsWidth=headerFooterDataAreaWidth;allHeaderElemsWidth-=void 0!==_jQueryGS(header).find(".zgs19_gs_ResultFooterSeperator")[0]?_jQueryGS(_jQueryGS(header).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0;var footerThirdField=_jQueryGS(footer).find(".zgs19_gsResultFolder1")[0];zgssearch.removeStartsWithClass(footerThirdField,"zgs19_gs_CRMw");var footerModuleWidth=void 0!==_jQueryGS(footer).find(".zgs19_gsResultFolder1")[0]?_jQueryGS(_jQueryGS(footer).find(".zgs19_gsResultFolder1")[0]).outerWidth(!0):0,footerModuleTxtWidth=_jQueryGS(_jQueryGS(_jQueryGS(footer).find(".zgs19_gsResultFolder1")[0]).find(".zgs19_hvr_underline_filter")).width()+20;allFooterElemsWidth-=footerModuleWidth+(void 0!==_jQueryGS(footer).find(".zgs19_gs_ResultFooterSeperator")[0]?_jQueryGS(_jQueryGS(footer).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0)+20;var maxFooterFieldWidth=Math.floor(.4*allFooterElemsWidth),maxFirstHeaderFieldWidth=Math.floor(.6*allHeaderElemsWidth),maxSecondHeaderFieldWidth=Math.floor(.3*allHeaderElemsWidth),headerElems=_jQueryGS(header).find(".zgs19_gsCRMResultTitle"),footerElems=_jQueryGS(footer).find(".zgs19_gsCRMResultField"),headerFirstField=zgssearch.removeStartsWithClass(_jQueryGS(headerElems)[0],"zgs19_gs_CRMw"),headerSecondField=zgssearch.removeStartsWithClass(_jQueryGS(headerElems)[1],"zgs19_gs_CRMw"),footerFirstField=zgssearch.removeStartsWithClass(_jQueryGS(footerElems)[0],"zgs19_gs_CRMw"),footerSecondField=zgssearch.removeStartsWithClass(_jQueryGS(footerElems)[1],"zgs19_gs_CRMw"),headerFirstFieldTxtWidth=void 0!==headerFirstField?_jQueryGS(headerFirstField).width():0,headerSecondFieldTxtWidth=void 0!==headerSecondField?_jQueryGS(headerSecondField).width():0,footerFirstFieldTxtWidth=void 0!==footerFirstField?_jQueryGS(footerFirstField).width():0,footerSecondFieldTxtWidth=void 0!==footerSecondField?_jQueryGS(footerSecondField).width():0;footerFirstFieldTxtWidth=1<_jQueryGS(footerFirstField).children().length?footerFirstFieldTxtWidth-_jQueryGS(_jQueryGS(footerFirstField).children()[0]).width():footerFirstFieldTxtWidth,footerSecondFieldTxtWidth=1<_jQueryGS(footerSecondField).children().length?footerSecondFieldTxtWidth-_jQueryGS(_jQueryGS(footerSecondField).children()[0]).width():footerSecondFieldTxtWidth;var finalHeaderFirstFieldTxtWidth=0,finalHeaderSecondFieldTxtWidth=0,finalFooterFirstFieldTxtWidth=0,finalFooterSecondFieldTxtWidth=0,excessHeaderSpace=0;if(headerFirstFieldTxtWidth<=maxFirstHeaderFieldWidth&&headerSecondFieldTxtWidth<=maxSecondHeaderFieldWidth||maxFirstHeaderFieldWidth<=headerFirstFieldTxtWidth&&maxSecondHeaderFieldWidth<=headerSecondFieldTxtWidth)excessHeaderSpace=maxFirstHeaderFieldWidth-headerFirstFieldTxtWidth+(maxSecondHeaderFieldWidth-headerSecondFieldTxtWidth),finalHeaderFirstFieldTxtWidth=maxFirstHeaderFieldWidth,finalHeaderSecondFieldTxtWidth=maxSecondHeaderFieldWidth;else if(headerFirstFieldTxtWidth<=maxFirstHeaderFieldWidth&&maxSecondHeaderFieldWidth<=headerSecondFieldTxtWidth){finalHeaderSecondFieldTxtWidth=allHeaderElemsWidth<(finalHeaderFirstFieldTxtWidth=headerFirstFieldTxtWidth)+(varyWidth=maxSecondHeaderFieldWidth+(excessHeaderSpace+=maxFirstHeaderFieldWidth-headerFirstFieldTxtWidth))?allHeaderElemsWidth-finalHeaderFirstFieldTxtWidth:varyWidth,excessHeaderSpace=0}else if(maxFirstHeaderFieldWidth<=headerFirstFieldTxtWidth&&headerSecondFieldTxtWidth<=maxSecondHeaderFieldWidth){var varyWidth;finalHeaderFirstFieldTxtWidth=allHeaderElemsWidth<(finalHeaderSecondFieldTxtWidth=headerSecondFieldTxtWidth)+(varyWidth=maxFirstHeaderFieldWidth+(excessHeaderSpace+=maxSecondHeaderFieldWidth-headerSecondFieldTxtWidth))?allHeaderElemsWidth-finalHeaderSecondFieldTxtWidth:varyWidth,excessHeaderSpace=0}var excessFooterSpace=0;if(footerFirstFieldTxtWidth<=maxFooterFieldWidth&&footerSecondFieldTxtWidth<=maxFooterFieldWidth||maxFooterFieldWidth<=footerFirstFieldTxtWidth&&maxFooterFieldWidth<=footerSecondFieldTxtWidth?(excessFooterSpace=maxFooterFieldWidth-footerFirstFieldTxtWidth+(maxFooterFieldWidth-footerSecondFieldTxtWidth),finalFooterSecondFieldTxtWidth=finalFooterFirstFieldTxtWidth=maxFooterFieldWidth):footerFirstFieldTxtWidth<=maxFooterFieldWidth&&maxFooterFieldWidth<=footerSecondFieldTxtWidth?finalFooterSecondFieldTxtWidth=maxFooterFieldWidth+(excessFooterSpace+=maxFooterFieldWidth-(finalFooterFirstFieldTxtWidth=footerFirstFieldTxtWidth)):maxFooterFieldWidth<=footerFirstFieldTxtWidth&&footerSecondFieldTxtWidth<=maxFooterFieldWidth&&(finalFooterFirstFieldTxtWidth=maxFooterFieldWidth+(excessFooterSpace+=maxFooterFieldWidth-(finalFooterSecondFieldTxtWidth=footerSecondFieldTxtWidth))),0<excessFooterSpace&&footerModuleWidth<footerModuleTxtWidth){var moduleWidth=footerModuleTxtWidth;footerThirdField=_jQueryGS(footer).find(".zgs19_gsResultFolder1")[0];_jQueryGS(footerThirdField).width(moduleWidth)}return _jQueryGS(headerFirstField).css("max-width",finalHeaderFirstFieldTxtWidth),_jQueryGS(headerSecondField).css("max-width",finalHeaderSecondFieldTxtWidth),_jQueryGS(footerFirstField).css("max-width",finalFooterFirstFieldTxtWidth),_jQueryGS(footerSecondField).css("max-width",finalFooterSecondFieldTxtWidth),resultCell},zgssearch.generateCRMSearchResults=function(resObj,resultAppendId){var resultCellObj={},customModule=!1,module=resObj.mod,dispObj=(zgssearch.crmDataObj[GSConstant.CRM+"_"+module],zgssearch.crmDispObj[GSConstant.CRM+"_"+module]),extraFields="",rTW20="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20 zgs19_crmAccColor",rTW70="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",rTW90="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",rFW25="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw25",rFW30="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw30",rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",rFW90="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",crmStatus="zgs19_gs_CRM_status",fW100="zgs19_width100 zgs19_gsfl",resultCellClass="zgs19_gsSearchResultCell2",gsMobileIcon="zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",resultCell="",extraSpaceEmail="",finalFooterValue="",extraSpace="",seperator1="",seperator2="",extraSeperator="",tempHeader=rTW90,moduleDispName=zgssearch.getFilterInfo(GSConstant.CRM,"modules","data")[module]||"",actualModName=zgssearch.getFilterInfo(GSConstant.CRM,"modules","current"),moduleNameObj="";if(actualModName===GSConstant.CRM_ALL_MODULES&&void 0!==moduleDispName&&"undefined"!==moduleDispName?(moduleNameObj=_jQueryGS("<div>",{class:"zgs19_gs_CRMw20 zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",title:zgssearch.getI18NMsg("gs.search.filter_through")+" "+moduleDispName,gs:"crmmod",mod:module}).text(moduleDispName))),rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",rFW90="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",rFW30="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw22"):moduleNameObj=_jQueryGS("<div>",{class:"zgs19_gs_CRMw20 zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",title:moduleDispName}).text(moduleDispName))),"Leads"===module){var extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,fullName=zgssearch.checkUndefined(resObj.Full_Name),company=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Company"),email=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Email"),phone=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Phone"),leadStatus=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Lead_Status"),phoneField="",isLeadEmail=""!==email,isLeadPhone=""!==phone,isLeadStatus=""!==leadStatus;""!==company&&(tempHeader=rTW70);var extraFieldLen=extraFeildsArr.length;!isLeadEmail&&!isLeadPhone&&!isLeadStatus&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));var emailClass=leadstatusClass=phoneClass=rFW90;isLeadEmail&&isLeadStatus&&(emailClass=leadstatusClass=rFW45),seperator1=(isLeadEmail||isLeadPhone)&&isLeadStatus?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",isLeadEmail&&isLeadStatus||!isLeadPhone||(emailClass=leadstatusClass=phoneClass=rFW45,phoneClass=isLeadEmail||isLeadStatus?rFW45:rFW90,extraSpace=isLeadEmail?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",phoneField=isLeadPhone?_jQueryGS("<span>",{class:"zgs19_gsCRMResultField  zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45"}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{title:dispObj.Phone+" : "+phone,gs:"contactPhone"}).text(phone)):"");var emailFieldObj=isLeadEmail?_jQueryGS("<span>",{class:emailClass,title:dispObj.Email+" : "+email}).text(email):"",leadStatusObj=isLeadStatus?_jQueryGS("<span>",{class:leadstatusClass+" "+crmStatus,title:dispObj.Lead_Status+" : "+leadStatus}).text(leadStatus):"",fullNameObj=_jQueryGS("<div>",{class:tempHeader,title:dispObj.Full_Name+" : "+fullName}).text(fullName),compObj=""!==company?_jQueryGS("<span>",{class:rTW20,title:dispObj.Company+" : "+company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj).append(sepeatorhypen).append(compObj)).append(_jQueryGS("<div>",{class:fW100}).append(emailFieldObj).append(extraSpace).append(phoneField).append(seperator1).append(leadStatusObj).append(extraFields).append(moduleNameObj))}else if("Accounts"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var accName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Account_Name"),accOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),accType=(phone=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Phone"),zgssearch.getProperValueFromDataTypeForCRM(resObj,"Account_Type")),ownerClass="",accTypeClass="",phoneClass="";ownerClass=phoneClass=accTypeClass=rFW90;var isAccountPhone=""!==phone,isAccountOwner=""!==accOwner,isAccountType=""!==accType;!isAccountPhone&&!isAccountOwner&&!isAccountType&&0<extraFeildsArr.length&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName)),(isAccountPhone&&isAccountOwner||isAccountType&&isAccountOwner||isAccountPhone&&isAccountType)&&(ownerClass=phoneClass=accTypeClass=rFW45),seperator1=""===(extraSpace=isAccountPhone&&isAccountOwner?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"")&&(isAccountPhone||isAccountOwner)&&isAccountType?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var ownerObj=isAccountOwner?_jQueryGS("<div>",{class:ownerClass}).append(_jQueryGS("<span>",{title:dispObj.Owner+" : "+accOwner}).text(accOwner)):"",accTypeObj=(phoneField=isAccountPhone?_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{title:dispObj.Phone+" : "+phone,gs:"contactPhone"}).text(phone)):"",!isAccountType||isAccountOwner&&isAccountPhone?"":_jQueryGS("<span>",{class:accTypeClass,title:dispObj.Account_Type+" : "+accType}).text(accType)),accNameObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Account_Name+" : "+accName}).text(accName);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(accNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(extraSpace).append(phoneField).append(seperator1).append(accTypeObj).append(extraFields).append(moduleNameObj))}else if("Contacts"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,fullName=zgssearch.checkUndefined(resObj.Full_Name);var contactOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),mobile=(company=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Account_Name"),phone=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Phone"),zgssearch.getProperValueFromDataTypeForCRM(resObj,"Mobile")),phoneFieldObj="",leadstatusClass=(emailClass="","");phoneClass="";""!==company&&(tempHeader="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw75");var isContactOwner=""!==contactOwner,isContactCompany=""!==company,isContactPhone=""!==phone,isContactMobile=""!==mobile;extraFieldLen=extraFeildsArr.length;if(isContactOwner||isContactCompany||isContactPhone||isContactMobile||!(0<extraFieldLen)||(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName)),emailClass=leadstatusClass=phoneClass=rFW90,isContactOwner&&(isContactPhone||isContactMobile)&&(emailClass=leadstatusClass=phoneClass=rFW45,extraSpace=_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"})),isContactPhone||isContactMobile){var phoneType=isContactPhone?phone:mobile,phoneTypeTitle=isContactPhone?dispObj.Phone:dispObj.Mobile,mobileimgicon=isContactPhone?"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg":gsMobileIcon;phoneFieldObj=_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:mobileimgicon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{title:phoneTypeTitle+" : "+phoneType,gs:"contactPhone"}).text(phoneType))}ownerObj=isContactOwner?_jQueryGS("<div>",{class:emailClass}).append(_jQueryGS("<span>",{title:dispObj.Owner+" : "+contactOwner}).text(contactOwner)):"",fullNameObj=_jQueryGS("<div>",{class:tempHeader,title:dispObj.Full_Name+" : "+fullName}).text(fullName),compObj=""!==company?_jQueryGS("<span>",{class:rTW20,title:dispObj.Account_Name+" : "+company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj).append(sepeatorhypen).append(compObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(extraSpace).append(phoneFieldObj).append(extraFields).append(moduleNameObj))}else if("Deals"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var dealName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Deal_Name"),potOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),closingDate=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Closing_Date"),stage=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Stage"),closingDateClass=(ownerClass="",""),stageClass="";ownerClass=closingDateClass=stageClass=rFW90,""!==potOwner&&""!==stage&&(ownerClass=closingDateClass=stageClass=rFW45);extraFieldLen=extraFeildsArr.length;""===potOwner&&""===stage&&""===closingDate&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName)),seperator2=""===stage||""===closingDate&&""===potOwner?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;");var closingDateObj=""!==closingDate&&""===potOwner?_jQueryGS("<span>",{class:closingDateClass,title:dispObj.Closing_Date+" : "+closingDate}).text(closingDate):"",stageObj=""!==stage?_jQueryGS("<span>",{class:stageClass+" "+crmStatus,title:dispObj.Stage+" : "+stage}).text(stage):"",potOwnerObj=""!==potOwner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+potOwner}).text(potOwner):"",potentialNameObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Deal_Name+" : "+dealName}).text(dealName);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(potentialNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(potOwnerObj).append(seperator1).append(closingDateObj).append(seperator2).append(stageObj).append(extraFields).append(moduleNameObj))}else if("Tasks"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject"),status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status"),owner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),statusClass="";ownerClass="";statusClass=ownerClass=rFW90,""!==status&&""!==owner&&(statusClass=ownerClass=rFW45);extraFieldLen=extraFeildsArr.length;""===status&&""===owner&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName)),extraSpaceEmail=""!==status&&""!==owner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var statusObj=""!==status?_jQueryGS("<span>",{title:dispObj.Status+" : "+status,class:statusClass+" "+crmStatus}).text(status):"",subObj=(ownerObj=""!==owner?_jQueryGS("<span>",{title:dispObj.Owner+" : "+owner,class:ownerClass}).text(owner):"",_jQueryGS("<span>",{title:dispObj.Subject+" : "+subject,class:tempHeader}).text(subject));resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(extraSpaceEmail).append(statusObj).append(extraFields).append(moduleNameObj))}else if("Events"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var eventTitle=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Event_Title"),startDate=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Start_DateTime"),endDate=zgssearch.getProperValueFromDataTypeForCRM(resObj,"End_DateTime"),location=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Venue"),locationImg="",locationStr="";""!==location&&(locationImg=_jQueryGS("<span>",{class:"zgs19_crmModule zgs19_gsResultsUniIcons zgs19_crm_location",src:zgssearch.spacerURL}),locationStr=_jQueryGS("<span>",{class:rFW30,title:dispObj.Venue+" : "+location}).text(location)),extraSpaceEmail=""===location||""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;");extraFieldLen=extraFeildsArr.length;""===startDate&&""===endDate&&""===location&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));var dateClass=""!==location?"zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw28":rFW45;actualModName===GSConstant.CRM_ALL_MODULES&&""!==location&&(dateClass="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20");var startDateObj=""!==startDate?_jQueryGS("<div>",{class:dateClass}).append(_jQueryGS("<span>",{title:dispObj.Start_DateTime+" : "+startDate}).text(startDate)):"",endDateObj=""!==endDate?_jQueryGS("<div>",{class:dateClass}).append(_jQueryGS("<span>",{title:dispObj.End_DateTime+" : "+endDate}).text(endDate)):"",toObj=""!==startDate?_jQueryGS("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",eventObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Event_Title+" : "+eventTitle}).text(eventTitle);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(eventObj)).append(_jQueryGS("<div>",{class:fW100}).append(locationImg).append(locationStr).append(extraSpaceEmail).append(startDateObj).append(toObj).append(endDateObj).append(extraFields).append(moduleNameObj))}else if("Calls"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject");var startTime=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Call_Start_Time"),startTimeClass=(extraSpace=""!==(owner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"))&&""!==startTime?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"","");ownerClass="";startTimeClass=ownerClass=rFW90,""!==owner&&""!==startTime&&(startTimeClass=ownerClass=rFW45);extraFieldLen=extraFeildsArr.length;""===startTime&&""===owner&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+owner}).text(owner):"";var startTimeObj=""!==startTime?_jQueryGS("<span>",{class:startTimeClass,title:dispObj.Call_Start_Time+" : "+startTime}).text(startTime):"",SubjObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Subject+" : "+subject}).text(subject);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(SubjObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(extraSpace).append(startTimeObj).append(extraFields).append(moduleNameObj))}else if("Campaigns"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var campaignName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Campaign_Name");owner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status"),startDate=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Start_Date"),endDate=zgssearch.getProperValueFromDataTypeForCRM(resObj,"End_Date");seperator1=""===owner||""===status&&""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;");var startDateClass="",endDateClass="";statusClass="",ownerClass="";startDateClass=endDateClass=statusClass=ownerClass=rFW90,startDateClass=endDateClass=ownerClass=""!==startDate&&""!==endDate&&""!==owner?rFW30:rFW45;var iStatusFieldNeedtoShow=!1;""===owner?(iStatusFieldNeedtoShow=!0,statusClass=""===(seperator2=""===status||""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"))?rFW45:rFW30):iStatusFieldNeedtoShow=""===startDate&&""===endDate;statusObj="";""!==status&&iStatusFieldNeedtoShow&&(statusObj=_jQueryGS("<span>",{class:statusClass+" "+crmStatus,title:dispObj.Status+" : "+status}).text(status));extraFieldLen=extraFeildsArr.length;""===owner&&""===status&&""===endDate&&""===startDate&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+owner}).text(owner):"",startDateObj=""!==startDate?_jQueryGS("<div>",{class:startDateClass}).append(_jQueryGS("<span>",{title:dispObj.Start_Date+" : "+startDate}).text(startDate)):"",toObj=""!==endDate&&""!==startDate?_jQueryGS("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",endDateObj=""!==endDate?_jQueryGS("<div>",{class:endDateClass}).append(_jQueryGS("<span>",{title:dispObj.End_Date+" : "+endDate}).text(endDate)):"";var campaignObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Campaign_Name+" : "+campaignName}).text(campaignName);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(campaignObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(seperator1).append(startDateObj).append(toObj).append(endDateObj).append(seperator2).append(statusObj).append(extraFields).append(moduleNameObj))}else if("Cases"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject");var productName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Product_Name");status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status"),statusClass="",ownerClass="";statusClass=ownerClass=rFW90,""!==(owner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"))&&""!==status&&(statusClass=ownerClass=rFW45);extraFieldLen=extraFeildsArr.length;""===owner&&""===status&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+owner}).text(owner):"",statusObj=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{title:dispObj.Status+" : "+status}).text(status)):"";seperator1=""!==ownerObj&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";subObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Subject+" : "+subject}).text(subject);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(seperator1).append(statusObj).append(extraFields).append(moduleNameObj))}else if("Solutions"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var solTitle=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Solution_Title"),prodClass=(status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status"),statusClass="","");statusClass=prodClass=rFW90,""!==(productName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Product_Name"))&&""!==status&&(statusClass=prodClass=rFW45);extraFieldLen=extraFeildsArr.length;""===productName&&""===status&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));var prodObj=""!==productName?_jQueryGS("<span>",{class:prodClass,title:dispObj.Product_Name+" : "+productName}).text(productName):"";statusObj=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{title:dispObj.Status+" : "+status}).text(status)):"";seperator1=""!==productName&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var solObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Solution_Title+" : "+solTitle}).text(solTitle);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(solObj)).append(_jQueryGS("<div>",{class:fW100}).append(prodObj).append(seperator1).append(statusObj).append(extraFields).append(moduleNameObj))}else if("Products"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var prodName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Product_Name"),vendName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Vendor_Name");owner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),extraFieldLen=extraFeildsArr.length,ownerClass="",prodClass="";ownerClass=prodClass=rFW90,""!==owner&&""!==vendName&&(ownerClass=prodClass=rFW45),""===vendName&&""===owner&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+owner}).text(owner):"";var vendorNameObj=""!==vendName?_jQueryGS("<span>",{class:prodClass,title:dispObj.Vendor_Name+" : "+vendName}).text(vendName):"";seperator1=""!==owner&&""!==vendName?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var prodNameObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Product_Name+" : "+prodName}).text(prodName);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(prodNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(seperator1).append(vendorNameObj).append(extraFields).append(moduleNameObj))}else if("Vendors"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,vendName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Vendor_Name"),phone=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Phone"),email=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Email"),phoneClass=emailClass=rFW90;""!==phone&&""!==email&&(phoneClass=emailClass=rFW45),extraSpace=""!==email&&""!==phone?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"";extraFieldLen=extraFeildsArr.length;""===phone&&""===email&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));var emailObj=""!==email?_jQueryGS("<span>",{class:emailClass,title:dispObj.Email+" : "+email}).text(email):"",phoneObj=""!==phone?_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{title:dispObj.Phone+" : "+phone,gs:"contactPhone"}).text(phone)):"",vendNameObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Vendor_Name+" : "+vendName}).text(vendName);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(vendNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(emailObj).append(extraSpace).append(phoneObj).append(extraFields).append(moduleNameObj))}else if("PriceBooks"===module||"Price_Books"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var priceBookName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Price_Book_Name"),priceBookOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),active=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Active"),activeObj="",activeClass=ownerClass=rFW90;""!==active&&""!==priceBookOwner&&(ownerClass=rFW45,activeClass=rFW25),""!==active&&(activeObj="true"===active?"Active":"InActive",finalFooterValue=_jQueryGS("<span>",{class:activeClass,title:dispObj.Active+" : "+activeObj}).text(activeObj));extraFieldLen=extraFeildsArr.length;""===active&&""===priceBookOwner&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName)),seperator1=""!==priceBookOwner&&""!==active?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var priceBookOwnerObj=""!==priceBookOwner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+priceBookOwner}).text(priceBookOwner):"",priceBookObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Price_Book_Name+" : "+priceBookName}).text(priceBookName);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(priceBookObj)).append(_jQueryGS("<div>",{class:fW100}).append(priceBookOwnerObj).append(seperator1).append(finalFooterValue).append(extraFields).append(moduleNameObj))}else if("Quotes"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var quoteOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),quoteStage=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Quote_Stage");subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject"),extraFieldLen=extraFeildsArr.length,stageClass=ownerClass=rFW90;""!==quoteStage&&""!==quoteOwner&&(ownerClass=stageClass=rFW45),""===quoteOwner&&""===quoteStage&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName)),seperator1=""!==quoteOwner&&""!==quoteStage?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var quoteOwnerObj=""!==quoteOwner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+quoteOwner}).text(quoteOwner):"",quoteStageObj=""!==quoteStage?_jQueryGS("<span>",{class:stageClass+" "+crmStatus,title:dispObj.Quote_Stage+" : "+quoteStage}).text(quoteStage):"";subObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Subject+" : "+subject}).text(subject);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(quoteOwnerObj).append(seperator1).append(quoteStageObj).append(extraFields).append(moduleNameObj))}else if("SalesOrders"===module||"Sales_Orders"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject");var saleOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner");accName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Account_Name"),status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status"),ownerClass="",statusClass="";ownerClass=statusClass=rFW90,""!==saleOwner&&""!==status&&(ownerClass=statusClass=rFW45),""!==accName&&(tempHeader=rTW70);extraFieldLen=extraFeildsArr.length;""===subject&&""===accName&&""===saleOwner&&""===stage&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));var saleOwnerObj=""!==saleOwner?_jQueryGS("<span>",{class:ownerClass,title:dispObj.Owner+" : "+saleOwner}).text(saleOwner):"";statusObj=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{title:dispObj.Status+" : "+status}).text(status)):"";seperator2=""!==status&&""!==saleOwner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";subObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Subject+" : "+subject}).text(subject);var accObj=""!==accName?_jQueryGS("<span>",{class:rFW25,title:dispObj.Account_Name+" : "+accName}).text(accName):"";sepeatorhypen=""!==accName?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj).append(sepeatorhypen).append(accObj)).append(_jQueryGS("<div>",{class:fW100}).append(saleOwnerObj).append(seperator2).append(statusObj).append(extraFields).append(moduleNameObj))}else if("PurchaseOrders"===module||"Purchase_Orders"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject"),status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status");var vendorName=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Vendor_Name"),venNameClass=(ownerClass="","");statusClass="";ownerClass=venNameClass=statusClass=""!==vendorName&&""!==status?rFW30:rFW45;extraFieldLen=extraFeildsArr.length;""===subject&&""===status&&""===vendorName&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));var venObj=""!==vendorName?_jQueryGS("<span>",{class:venNameClass,title:dispObj.Vendor_Name+" : "+vendorName}).text(vendorName):"";statusObj=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{title:dispObj.Status+" : "+status}).text(status)):"";seperator1=""!==vendorName&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";subObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Subject+" : "+subject}).text(subject);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(venObj).append(seperator1).append(statusObj).append(extraFields).append(moduleNameObj))}else if("Invoices"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr,company=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Account_Name");var invoiceOnwer=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner");subject=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Subject"),status=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Status");""!==company&&(tempHeader=rTW70);ownerClass=statusClass=rFW90;""!==invoiceOnwer&&""!==status&&(ownerClass=statusClass=rFW45,seperator1=_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"));extraFieldLen=extraFeildsArr.length;""===invoiceOnwer&&""===status&&0<extraFieldLen&&(extraFields=zgssearch.renderGenericValuesForCRMModule(module,extraFeildsArr,resObj,actualModName));statusObj=""!==status?_jQueryGS("<span>",{title:dispObj.Status+" : "+status,class:statusClass+" "+crmStatus}).text(status):"";var invoiceOnwerObj=""!==invoiceOnwer?_jQueryGS("<span>",{title:dispObj.Owner+" : "+invoiceOnwer,class:ownerClass}).text(invoiceOnwer):"";subObj=_jQueryGS("<span>",{title:dispObj.Subject+" : "+subject,class:tempHeader}).text(subject),compObj=""!==company?_jQueryGS("<span>",{class:rTW20,title:dispObj.Company+" : "+company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj).append(sepeatorhypen).append(compObj)).append(_jQueryGS("<div>",{class:fW100}).append(invoiceOnwerObj).append(seperator1).append(statusObj).append(extraFields).append(moduleNameObj))}else if("Notes"===module){extraFeildsArr=zgssearch.getCRMFieldsArr(module,resObj).extraFieldsArr;var noteTitle=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Note_Title"),noteContent=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Note_Content"),noteOwner=zgssearch.getProperValueFromDataTypeForCRM(resObj,"Owner"),footerObj="",footerClass=rFW90;""!==noteContent?footerObj=_jQueryGS("<span>",{title:dispObj.Note_Content+" : "+noteContent,class:footerClass+" "+crmStatus}).text(noteContent):""!==noteOwner&&(footerObj=_jQueryGS("<span>",{title:dispObj.Owner+" : "+noteOwner,class:footerClass}).text(noteOwner)),noteTitle=""===noteTitle?" --- No Title --- ":noteTitle,resObj.Note_Title=noteTitle;var titleObj=_jQueryGS("<span>",{class:tempHeader,title:dispObj.Note_Title+" : "+noteTitle}).text(noteTitle);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(footerObj).append(moduleNameObj))}else{customModule=!0;extraFeildsArr=Object.keys(resObj);zgssearch.crmCustomMod[GSConstant.CRM+"_"+module]=customModule;var extraFieldObj1=(extraFields=zgssearch.renderGenericValuesForCRM(module,extraFeildsArr,resObj,actualModName)).field1,extraFieldObj2=extraFields.field2;extraSeperator=extraFields.seperator;var mandatoryColName=extraFields.mandColName,mandColValue=resObj[mandatoryColName];fullNameObj=_jQueryGS("<div>",{class:rTW90,title:dispObj[mandatoryColName]+" : "+mandColValue}).text(mandColValue);resultCell=_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(extraFieldObj1).append(extraSeperator).append(extraFieldObj2).append(moduleNameObj))}return resultCell=zgssearch.getHeaderFooterElemsWidth(resultCell,module,customModule,resultAppendId,"zgs20_dummyCRMRes"),resultCellObj.resultCell=resultCell,resultCellObj.customModule=customModule,resultCellObj},zgssearch.getCRMModuleTT=function(module,isCustomModule,moduleDispName){var imgObj="";if(isCustomModule){var contName=module.charAt(0).toUpperCase();imgObj=_jQueryGS("<span>",{class:"zgs19_circleText zgs19_gsfl",title:moduleDispName,gs:"resultMenuItem"}).text(contName)}else if(""!==module){var modLower=module.toLowerCase();imgObj=_jQueryGS("<span>",{class:"zgs19_crmModule zgs19_gsResultsUniIcons zgs19_crm_"+modLower,title:moduleDispName,gs:"resultMenuItem"})}return imgObj},zgssearch.getCreatorImg=function(title){var acronym=title.match(/\b(\w)/g).join("").slice(0,2).toUpperCase();return _jQueryGS("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",title:title,gs:"resultMenuItem"}).text(acronym)}}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS;zgssearch.sseHolder=[],zgssearch.total_no_of_results=0;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.iWeightage=zgssearch.iWeightage||{},zgssearch.fWeightage=zgssearch.fWeightage||{},zgssearch.resultCount=zgssearch.resultCount||{},zgssearch.resultObject=zgssearch.resultObject||{},zgssearch.weightServices=zgssearch.weightServices||[],zgssearch.docIdsVsEncryptedIds=zgssearch.docIdsVsEncryptedIds||{},GSConstant.timeoutSSE=GSConstant.timeoutSSE?zgssearch.jsonParse(GSConstant.timeoutSSE):150,zgssearch.crmDataObj={},zgssearch.crmDispObj={},zgssearch.crmMandName={},zgssearch.crmCustomMod={},zgssearch.discussionsURL=zgssearch.discussionsURL||{},zgssearch.pulseNetworkId=zgssearch.pulseNetworkId||{},zgssearch.pulseNetworkURL=zgssearch.pulseNetworkURL||{},zgssearch.multiStartSet=zgssearch.multiStartSet||0,zgssearch.multiResCount=zgssearch.multiResCount||0,zgssearch.multiResulList=zgssearch.multiResulList||[],zgssearch.multiResultObj=zgssearch.multiResultObj||{},zgssearch.multiPageEnabled=zgssearch.multiPageEnabled||!1,zgssearch.widgetServiceList={},zgssearch.widgetServiceList[GSConstant.MAILS]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.CONNECT]={label:zgssearch.getI18NMsg("gs.search.multi.network"),key:"networks"},zgssearch.widgetServiceList[GSConstant.CRM]={label:zgssearch.getI18NMsg("gs.search.multi.modules"),key:"modules"},zgssearch.widgetServiceList[GSConstant.SUPPORT]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"portals"},zgssearch.widgetServiceList[GSConstant.REPORTS]={label:zgssearch.getI18NMsg("gs.search.multi.database"),key:"databases"},zgssearch.widgetServiceList[GSConstant.DISCUSSIONS]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"portals"},zgssearch.widgetServiceList[GSConstant.WIKI]={label:zgssearch.getI18NMsg("gs.search.multi.wiki"),key:"portals"},zgssearch.getWidgetServiceList=function(service){return zgssearch.widgetServiceList[service]||{}},zgssearch.onSuccessFunction=function(key,data){var resultObject=zgssearch.jsonParse(data);switch(key){case"IWEIGHT":zgssearch.initialWeightage(resultObject);break;case"WEIGHT":zgssearch.finalWeightage(resultObject);break;case"RESULT":zgssearch.hasSearchResults(resultObject),zgssearch.handleSSESearchResult(resultObject);break;case"NONSSE":zgssearch.hasSearchResultsNonSSE(resultObject),zgssearch.handleNonSSESearchResult(resultObject),zgssearch.closeMsg="CLOSE",zgssearch.closeConnection();break;case"VERSION":zgssearch.gsversion.handleVersionChanges(resultObject);break;case"CLOSE":case"ERROR":zgssearch.closeSSEAction(key)}},zgssearch.closeSSEAction=function(key){zgssearch.isVersionChanged||(zgssearch.closeMsg=key,zgssearch.removeEventSource(),zgssearch.multiPageEnabled||GSConstant.ALL===zgssearch.getSearchType()?zgssearch.handleSSESearchResult({closeSSEAction:!0}):zgssearch.closeConnection())},zgssearch.hasSearchResults=function(obj){zgssearch.multiPageEnabled||zgssearch.scrollSearch?zgssearch.total_no_of_results+=obj.no_of_results||0:zgssearch.total_no_of_results=obj.no_of_results||0},zgssearch.hasSearchResultsNonSSE=function(obj){for(var service_name in obj)"weightage"!==service_name&&zgssearch.hasSearchResults(obj[service_name])},zgssearch.closeConnection=function(){zgssearch.renderMultiResults(),zgssearch.removeScrollLoader(),zgssearch.hideSearchPageLoader();var searchType=zgssearch.getSearchType(),page=GSConstant.ALL===searchType?"zgs20_gsAllSearchResultPage":"zgs20_gsModuleSearchResultPage";if(zgssearch.multiPageEnabled&&(page="zgs20_gsMultiSearchResultPage"),0===zgssearch.total_no_of_results?(zgssearch.noMoreResults=!0,zgssearch.scrollSearch?"ERROR"==zgssearch.closeMsg&&zgssearch.errorResultPage("zgs20_gs"+searchType+"Template"):(zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),GSConstant.ALL!==searchType&&(zgssearch.displayModuleResultPage(),zgssearch.renderServiceFilterList(searchType),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0)),"CLOSE"===zgssearch.closeMsg?zgssearch.zeroResultsPage(page):zgssearch.errorResultPage(page))):zgssearch.scrollSearch||zgssearch.openFirstResultCallout(),zgssearch.scrollSearch=!1,zgssearch.multiPageEnabled||GSConstant.ALL===searchType){var mresObj=zgssearch.multiResultObj||{};zgssearch.multiPageEnabled&&zgssearch.renderMultiMorePageOption(mresObj,searchType)}},zgssearch.openFirstResultCallout=function(){if(!zgssearch.scrollSearch&&!zgssearch.firstResultCallOutShown&&!zgssearch.curSelectedEle&&""==zgssearch.curSelectedEle){var firstResult=zgssearch.gskeyboard.getFirstDataNode();_jQueryGS("#"+firstResult).click()}},zgssearch.zeroResultsPage=function(page){var service_name=zgssearch.getSearchType(),errMsg=zgssearch.getI18NMsg("gs.search.error.no_result_match_for_search"),sugg=zgssearch.getI18NMsg("gs.search.error.no_result_match_for_search_try_different"),className=zgssearch.isServiceHasFilter(service_name)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";_jQueryGS("#"+page).append(_jQueryGS("<div>",{class:className+" zgs19_gsOverflowAuto"}).append(_jQueryGS("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(errMsg))).append(_jQueryGS("<div>",{class:"zgs19_gsTryDifferent zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(sugg))))},zgssearch.errorResultPage=function(page){var service_name=zgssearch.getSearchType(),excep=zgssearch.getI18NMsg("gs.search.error.generic_error_messege"),className=zgssearch.isServiceHasFilter(service_name)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";_jQueryGS("#"+page).append(_jQueryGS("<div>",{class:className+" zgs19_gsOverflowAuto"}).append(_jQueryGS("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(excep))))},zgssearch.clearOldSelectedEle=function(){var elem=zgssearch.curSelectedEle;elem&&_jQueryGS(elem).css("background-color","#fff")},zgssearch.changeBGClass=function(elem,colorout,colorin){elem&&_jQueryGS(elem).removeClass(colorout).addClass(colorin)},zgssearch.initialWeightage=function(obj){zgssearch.iWeightage=obj,zgssearch.weightServices=[]},zgssearch.finalWeightage=function(obj){zgssearch.fWeightage=obj,zgssearch.fillEmptySlots()},zgssearch.SetweightServices=function(service){zgssearch.weightServices.push(service),zgssearch.fillEmptySlots()},zgssearch.fillEmptySlots=function(){for(var wObj=zgssearch.fWeightage||{},sObj=zgssearch.getServiceList()||[],searchType=zgssearch.getSearchType(),len=zgssearch.weightServices.length,wi=0;wi<len;wi++){var service=zgssearch.weightServices[wi];if(wObj.hasOwnProperty(service)&&zgssearch.isArrayContain(service,sObj)&&GSConstant.ALL==searchType){var target=zgssearch.getTargetElem("zgs20_gs"+service+"Template"),acc_id=_jQueryGS(target).attr("acc_id"),rlength=zgssearch.getShownResultCount(service,acc_id);zgssearch.weightServices[wi]="",wObj[service]>rlength&&(zgssearch.renderSearchResults(service,!0),zgssearch.handleMoreOptionforWeightage(service,acc_id,target))}}},zgssearch.handleMoreOptionforWeightage=function(service,acc_id,target){var sList=zgssearch.getServiceList();zgssearch.isArrayContain(service,sList)&&(zgssearch.getServiceResultCount(service,acc_id)<=zgssearch.getShownResultCount(service,acc_id)&&zgssearch.hideResMoreOption(target,service))},zgssearch.handleSSESearchResult=function(obj){if(GSConstant.ALL===zgssearch.getSearchType())zgssearch.startResultTimer(),zgssearch.handleSearchResult(obj);else if(zgssearch.multiPageEnabled){var mobj=zgssearch.multiResultObj||{};_jQueryGS.isEmptyObject(mobj)&&(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage()),zgssearch.scrollSearch?zgssearch.removeScrollLoader():zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0),zgssearch.generateSearchResult(obj)}else zgssearch.scrollSearch?(zgssearch.removeScrollLoader(),zgssearch.generateSearchResult(obj)):(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.generateSearchResult(obj),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0))},zgssearch.startResultTimer=function(){zgssearch.isBrowserSupportSSE&&(zgssearch.timerEnabled||(zgssearch.timerEnabled=!0,zgssearch.sseWaitingTime=!0,setTimeout(function(){zgssearch.sseWaitingTime=!1,zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),zgssearch.loadSSEHolderSearchResults()},GSConstant.timeoutSSE)))},zgssearch.loadSSEHolderSearchResults=function(){var length=zgssearch.sseHolder.length;if(0<length){for(var sh=0;sh<length;sh++){var obj=zgssearch.sseHolder[sh];zgssearch.generateSearchResult(obj)}zgssearch.sseHolder=[]}},zgssearch.handleSearchResult=function(obj){zgssearch.sseWaitingTime?zgssearch.sseHolder.push(obj):zgssearch.generateSearchResult(obj)},zgssearch.handleNonSSESearchResult=function(resultObject){zgssearch.gsversion.isVersionChanged(resultObject)?zgssearch.gsversion.handleVersionChanges(resultObject):zgssearch.toggleSearchResultsForNonSSE(resultObject)},zgssearch.toggleSearchResultsForNonSSE=function(obj){var search_type=zgssearch.getSearchType();if(GSConstant.ALL===search_type)for(var service_name in zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),obj.hasOwnProperty("weightage")&&zgssearch.finalWeightage(obj.weightage),obj)"weightage"!==service_name&&zgssearch.generateSearchResult(obj[service_name]);else if(zgssearch.scrollSearch)for(var service_name in obj)zgssearch.removeScrollLoader(),zgssearch.generateSearchResult(obj[service_name]);else for(var service_name in obj)zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.generateSearchResult(obj[service_name]),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0)},zgssearch.displayResultPage=function(){zgssearch.hideWelcomePage(),zgssearch.hideCalloutHolder(),zgssearch.gsusersettings.hideSavedSearchesPage(),zgssearch.gsusersettings.hideServiceReorderPage(),_jQueryGS(".zgs19_gsSearchResultAreaChild").hide(),_jQueryGS("#zgs20_gsSearchResultMiddle").show(),_jQueryGS("#zgs20_gsSearchResultRight").show(),_jQueryGS("#zgs20_gsResultsHolder").show()},zgssearch.displayAllResultPage=function(){_jQueryGS("#zgs20_gsModuleSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsMultiSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsAllSearchResultPage").empty().show(),zgssearch.setScrollTop("#zgs20_gsAllSearchResultPage",0)},zgssearch.displayModuleResultPage=function(){_jQueryGS("#zgs20_gsAllSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsMultiSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsModuleSearchResultPage").empty().hide(),zgssearch.multiPageEnabled?_jQueryGS("#zgs20_gsMultiSearchResultPage").empty().show():_jQueryGS("#zgs20_gsModuleSearchResultPage").empty().show()},zgssearch.setScrollTop=function(elem,value){_jQueryGS(elem).scrollTop(value)},zgssearch.updateSpecificAccountDetails=function(resObject){var serviceName=resObject.service_name;resObject.hasOwnProperty("result_objects")&&serviceName===GSConstant.SUPPORT&&(zgssearch.docIdsVsEncryptedIds[resObject.account_id]=resObject.docIdsVsEncryptedIds)},zgssearch.updateCurrentAccountDetails=function(resObject){zgssearch.updateSpecificAccountDetails(resObject);var serviceName=resObject.service_name;if(zgssearch.isWidgetService(serviceName)&&resObject.hasOwnProperty("result_objects"))if(serviceName===GSConstant.SUPPORT){if(resObject.hasOwnProperty("account_id")&&resObject.hasOwnProperty("department_id")){zgssearch.updateFilterInfo(serviceName,"portals","current",resObject.account_id),zgssearch.updateFilterInfo(serviceName,"departments","current",resObject.department_id);var portalName=zgssearch.getFilterData(serviceName,"portals","data",resObject.account_id),deptName=zgssearch.getFilterData(serviceName,"departments","data",resObject.department_id);zgssearch.updateFilterInfo(serviceName,"portals","dispname",portalName),zgssearch.updateFilterInfo(serviceName,"departments","dispname",deptName)}}else if(serviceName===GSConstant.CRM){zgssearch.assignCRMMetaDetails(resObject);var modulesObj=zgssearch.getFilterInfo(serviceName,"modules","data");modulesObj&&""!=modulesObj&&modulesObj.hasOwnProperty(resObject.account_name)&&(zgssearch.updateFilterInfo(serviceName,"modules","current",resObject.account_name),zgssearch.updateFilterInfo(serviceName,"modules","dispname",modulesObj[resObject.account_name]))}else{var mlist=zgssearch.getWidgetServiceList(serviceName);zgssearch.updateFilterInfo(serviceName,mlist.key,"dispname",resObject.account_name),zgssearch.updateFilterInfo(serviceName,mlist.key,"current",resObject.account_id)}},zgssearch.iterResultObjData=function(resObject){var accId=resObject.account_id,serviceName=resObject.service_name;serviceName===GSConstant.CONNECT?(zgssearch.pulseNetworkId[accId]=resObject.networkId,zgssearch.pulseNetworkURL[accId]=resObject.networkURL):serviceName===GSConstant.DISCUSSIONS&&(zgssearch.discussionsURL[accId]=resObject.sURL)},zgssearch.storeResultObject=function(obj){var index=0,resultObject={},acc_id=obj.account_id,service_name=obj.service_name,no_of_results=obj.no_of_results,resultArray=obj.result_objects;if(zgssearch.isArrayContain(service_name,zgssearch.serviceList)||zgssearch.serviceList.push(service_name),zgssearch.isServiceHasMultiPortals(service_name)){var mresObj=zgssearch.resultObject[service_name]||{},mcountObj=zgssearch.resultCount[service_name]||{};zgssearch.scrollSearch&&mcountObj.hasOwnProperty(acc_id)&&mresObj.hasOwnProperty(acc_id)&&(index=mcountObj[acc_id],resultObject=mresObj[acc_id]);for(var i=0;i<no_of_results;i++,index++)resultObject[service_name+index]=resultArray[i];mcountObj[acc_id]=index,mresObj[acc_id]=resultObject,zgssearch.resultCount[service_name]=mcountObj,zgssearch.resultObject[service_name]=mresObj}else{zgssearch.scrollSearch&&(index=zgssearch.resultCount[service_name],resultObject=zgssearch.resultObject[service_name]);for(i=0;i<no_of_results;i++,index++)resultObject[service_name+index]=resultArray[i];zgssearch.resultCount[service_name]=index,zgssearch.resultObject[service_name]=resultObject}},zgssearch.assignCRMMetaDetails=function(obj){var fullObj=obj.all_search;for(var key in fullObj){var fobj=fullObj[key];zgssearch.crmDataObj[GSConstant.CRM+"_"+key]=fobj.search_data_type_columns,zgssearch.crmDispObj[GSConstant.CRM+"_"+key]=fobj.search_display_columns,zgssearch.crmMandName[GSConstant.CRM+"_"+key]=fobj.mand_col}},zgssearch.getProperValueFromDataTypeForCRM=function(resObj,key){var finalVal=resObj[key];return""!==zgssearch.checkUndefined(finalVal)?finalVal:""},zgssearch.checkUndefined=function(str){return void 0===str||"undefined"===str||"null"===str?"":str},zgssearch.generateSearchResult=function(obj){if(obj.closeSSEAction)zgssearch.closeConnection();else{var service_name=obj.service_name,no_of_results=obj.no_of_results,sObj=zgssearch.getServiceList()||[],serviceType=zgssearch.getSearchType();if(0<no_of_results&&zgssearch.isArrayContain(service_name,sObj))if(zgssearch.storeResultObject(obj),zgssearch.iterResultObjData(obj),zgssearch.multiPageEnabled||serviceType==GSConstant.ALL&&zgssearch.isServiceHasMultiPortals(service_name)){var isDefault=zgssearch.isMultiDefaultAccount(service_name,obj),mresArr=zgssearch.multiResultObj[service_name]||[];isDefault?mresArr.unshift(obj):mresArr.push(obj),zgssearch.updateSpecificAccountDetails(obj),zgssearch.multiResultObj[service_name]=mresArr,isDefault&&zgssearch.renderSingleMultiResults(service_name,obj)}else zgssearch.scrollSearch||(zgssearch.updateCurrentAccountDetails(obj),zgssearch.createServiceTemplate(service_name)),zgssearch.renderSearchResults(service_name),zgssearch.jqueryMouseEvent();else zgssearch.scrollSearch&&(zgssearch.noMoreResults=!0)}},zgssearch.renderMultiResults=function(){var searchType=zgssearch.getSearchType(),mresObj=zgssearch.multiResultObj||{};if(GSConstant.ALL==searchType)for(var ser in mresObj)zgssearch.renderInnerMultiResults(mresObj,ser,1);else zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)&&zgssearch.renderInnerMultiResults(mresObj,searchType)},zgssearch.renderInnerMultiResults=function(mresObj,service,limit){var tempResArr=mresObj[service]||[],trlen=tempResArr.length;limit=limit||trlen;for(var i=0;i<trlen&&i<limit;i++)zgssearch.renderSingleMultiResults(service,tempResArr[i]);zgssearch.openFirstResultCallout()},zgssearch.renderSingleMultiResults=function(service,trobj){zgssearch.isArrayContain(trobj.account_id,zgssearch.multiResulList)||(zgssearch.multiResCount++,zgssearch.multiResulList.push(trobj.account_id),zgssearch.createServiceTemplate(service,trobj),zgssearch.renderSearchResults(service,!1,!1,trobj),zgssearch.jqueryMouseEvent())},zgssearch.handleResizeForMultiPortalPage=function(){if(zgssearch.multiPageEnabled){zgssearch.setServiceResPaneHeight("zgs20_gsMultiSearchResultPage","zgs20_MultiSearchPageHolder");var searchType=zgssearch.getSearchType(),mresObj=zgssearch.multiResultObj||{};zgssearch.renderMultiMorePageOption(mresObj,searchType)}},zgssearch.hasVerticalScrollBar=function(id){var hasScroll=!1,target=zgssearch.getTargetElem(id);return target&&(hasScroll=target.scrollHeight>target.clientHeight),hasScroll},zgssearch.renderMultiMorePageOption=function(mresObj,service){if(!zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder")){var tempResArr=mresObj[service]||[],mlist=zgssearch.getWidgetServiceList(service),accIdArr=zgssearch.getFilterInfo(service,mlist.key,"accIdArr"),ailen=accIdArr.length-1,index=zgssearch.getSearchedMultiPageIndex(tempResArr,accIdArr);if(0<index&&index<ailen&&0<zgssearch.multiResCount){var sset=(index+index%2)/2;zgssearch.multiStartSet!=sset?zgssearch.handleMultiPageScroll(service,sset):zgssearch.weightageForMultiPage(service,tempResArr)}else zgssearch.weightageForMultiPage(service,tempResArr)}},zgssearch.getSearchedMultiPageIndex=function(tempResArr,accIdArr){for(var index=-1,trlen=tempResArr.length,i=0;i<trlen;i++){var trobj=tempResArr[i],trIndex=accIdArr.indexOf(trobj.account_id);index=trIndex<index?index:trIndex}return index},zgssearch.weightageForMultiPage=function(service,resArr){if(zgssearch.multiPageEnabled)for(var flag=!0;flag;){var isMore=!1;if(!zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var trlen=resArr.length,i=0;i<trlen;i++){var trobj=resArr[i],account_id=trobj.account_id||"",no_of_results=trobj.no_of_results||0;if(zgssearch.getShownResultCount(service,account_id)<no_of_results){isMore=!0,zgssearch.renderSearchResults(service,!0,!1,trobj);var target=zgssearch.getTargetElem("zgs20_gs"+account_id+"Template");zgssearch.handleMoreOptionforWeightage(service,account_id,target)}}flag=isMore}},zgssearch.getResObjByAccId=function(service,acc_id){for(var trobj={},tempResArr=(zgssearch.multiResultObj||{})[service]||[],trlen=tempResArr.length,i=0;i<trlen;i++){var tempobj=tempResArr[i];if(tempobj.account_id==acc_id){trobj=tempobj;break}}return trobj},zgssearch.loadSearchResults=function(service_name,acc_id){if(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.updateSearchType(service_name),zgssearch.multiPageEnabled){zgssearch.renderMultiResults();var mresObj=zgssearch.multiResultObj||{};zgssearch.renderMultiMorePageOption(mresObj,service_name)}else{var mlist=zgssearch.getWidgetServiceList(service_name),trobj=zgssearch.getResObjByAccId(service_name,acc_id);zgssearch.updateCurrentAccountDetails(trobj),zgssearch.updateChildFilterInfo(service_name,mlist.key,acc_id),zgssearch.createServiceTemplate(service_name),zgssearch.renderSearchResults(service_name)}zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0),zgssearch.jqueryMouseEvent()},zgssearch.setGSTagElems=function(resDiv){_jQueryGS(resDiv).find("*").each(function(){var gsName=_jQueryGS(this).attr("gs");gsName&&(resDiv[gsName]=this)})},zgssearch.getResultObject=function(service,index,accId){if(zgssearch.isArrayContain(service,zgssearch.serviceList)){var serviceObj=zgssearch.getServiceResultObject(service,accId);if(serviceObj){var key=service+index;if(serviceObj.hasOwnProperty(key))return serviceObj[key]}}return{}},zgssearch.getCookie=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){var c=ca[i].trim();if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""},zgssearch.findPosY=function(obj,target){var curtop=0;if(obj)if(obj.offsetParent){for(;obj.offsetParent!=target;)curtop+=obj.offsetTop,obj=obj.offsetParent;0==curtop&&(curtop+=obj.offsetTop)}else obj.y?curtop+=obj.y:curtop+=obj.offsetTop;return curtop},zgssearch.findPosX=function(obj,target){var curleft=0;if(obj)if(obj.offsetParent){for(;obj.offsetParent!=target;)curleft+=obj.offsetLeft,obj=obj.offsetParent;0==curleft&&(curleft+=obj.offsetLeft)}else obj.x?curleft+=obj.x:curleft+=obj.offsetLeft;return curleft},zgssearch.endsWith=function(str,delim){return str.match(delim+"$")==delim},zgssearch.hasOwnProperty("onSuccessFunction")&&zgssearch.hasOwnProperty("serviceList")&&zgssearch.loadResultsFromHolder(),zgssearch.showBiggerSearch=function(){_jQueryGS("#zgs20_globalsearch").show(),zgssearch.focus("zgs20_gsQueryBox"),_jQueryGS("#zgs20_zohosearchLoader").hide()},zgssearch.setGSElemSize=function(){var height=_jQueryGS(window).height()-28,width=_jQueryGS(window).width(),leftServicePaneW=_jQueryGS("#zgs20_gsSearchResultLeft").width(),middleMW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px","")),rightMw=width-(leftServicePaneW+middleMW);_jQueryGS("#zgs20_gsSearchResultRight").css("width",rightMw+"px"),_jQueryGS("#zgs20_zohosearch").css("height",height+"px"),_jQueryGS("#zgs20_zohosearch").css("width",width+"px"),height=_jQueryGS("#zgs20_zohosearch").outerHeight(!0)-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),_jQueryGS("#zgs20_globalsearch").css("height",height+"px"),_jQueryGS("#zgs20_globalsearch").css("width",width+"px"),_jQueryGS("#zgs20_zohosearchLoader").css("height",height+"px"),_jQueryGS("#zgs20_zohosearchLoader").css("width",width+"px"),width=_jQueryGS("#zgs20_gsResultsHolder").width()-leftServicePaneW;var middlePercentageW=Math.floor(.4*width),middleWidth=middlePercentageW<=middleMW?middlePercentageW:middleMW,rightWidth=width-middleWidth,maxPrev=width,minPrev=rightWidth;width=_jQueryGS("#zgs20_gsQueryBoxHolder").outerWidth(!0)-(_jQueryGS("div#zgs20_gsQueryBoxHolder > .zgs19_gsSearchIconOuter").width()+_jQueryGS("div#zgs20_gsQueryBoxHolder > .zgs19_searchbtnOuter").outerWidth(!0)),_jQueryGS("div#zgs20_gsQueryBoxHolder > .zgs19_gsqryinnerdiv").css("width",width+"px");var seaBoxWidth=width-_jQueryGS("#zgs20_gsQueryCloseBox").outerWidth(!0);_jQueryGS("#zgs20_gsQueryBox").css("width",seaBoxWidth),_jQueryGS("#zgs20_gsQueryDiv").css("width",seaBoxWidth),height=_jQueryGS("#zgs20_gsSearchBottomHolder").height()-_jQueryGS("#zgs20_gsSearchBox").outerHeight(!0),_jQueryGS("#zgs20_gsSearchResultsArea").css("height",height+"px"),zgssearch.isMaxCalloutOpen||_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",middleWidth+"px"),zgssearch.isMaxCalloutOpen||_jQueryGS("#zgs20_gsSearchResultRight").css("width",rightWidth+"px");var welcomePageTop=(height-_jQueryGS("#zgs20_gsWelcomePage").height())/2,marginTop=0<welcomePageTop?welcomePageTop:0;zgssearch.isZohoSearch||_jQueryGS("#zgs20_gsWelcomePage").css("marginTop",marginTop+"px"),zgssearch.setResultPreviewWidth(maxPrev,minPrev),zgssearch.handleResizeForMultiPortalPage()},zgssearch.setResultPreviewWidth=function(maxPrev,minPrev){zgssearch.maxPrevPane=null!=typeof zgssearch.maxPrevPane?maxPrev:zgssearch.maxPrevPane,zgssearch.minPrevPane=null!=typeof zgssearch.minPrevPane?minPrev:zgssearch.minPrevPane},zgssearch.setAllServiceEleSize=function(){var service_name=_jQueryGS(zgssearch.curSelectedEle).attr("service"),parentHeightHolder=_jQueryGS("#zgs20_gsSearchResultMiddle").height(),curResEleId="zgs20_gsAllSearchResultPage",searchType=zgssearch.getSearchType(),curResPageHeight=0;searchType!==GSConstant.ALL?(curResEleId="zgs20_gs"+searchType+"Template",zgssearch.multiPageEnabled&&(curResEleId="zgs20_MultiSearchPageHolder"),curResPageHeight=parentHeightHolder-(_jQueryGS("#zgs20_gsModuleFilterList").height()||0)):curResPageHeight=parentHeightHolder;if(service_name){var scallout=zgssearch.mappedServiceList[service_name].callout;switch(service_name){case GSConstant.MAILS:case GSConstant.REPORTS:case GSConstant.CREATOR:case GSConstant.CRM:case GSConstant.DOCUMENTS:case GSConstant.CHAT:case GSConstant.SUPPORT:case GSConstant.CONNECT:case GSConstant.DISCUSSIONS:case GSConstant.WIKI:zgssearch[scallout].setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.PEOPLE:case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:zgssearch.gscontacts.setServiceEleSize(curResEleId,curResPageHeight)}}},zgssearch.callingAttachEvent=function(event){document.getElementById("zgs20_globalsearch").setAttribute("data-disableShortcuts",!0),document.getElementById("zgs20_gsSearchResultsArea").setAttribute("data-disableShortcuts",!0),null!==document.getElementById("zgs20_gsMenuOptionHolder")&&document.getElementById("zgs20_gsMenuOptionHolder").setAttribute("data-disableShortcuts",!0)},zgssearch.callingDeattachEvent=function(event){document.getElementById("zgs20_globalsearch").removeAttribute("data-disableShortcuts"),document.getElementById("zgs20_gsSearchResultsArea").removeAttribute("data-disableShortcuts"),null!==document.getElementById("zgs20_gsMenuOptionHolder")&&document.getElementById("zgs20_gsMenuOptionHolder").removeAttribute("data-disableShortcuts")},zgssearch.isZohoSearch&&(zgssearch.setGSElemSize(),zgssearch.showBiggerSearch(),zgssearch.gszohosearch.triggerBiggerZOSUI())}(zgssearch,window),function(zgssearch,window){var gskeyboard,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gskeyboard=(gskeyboard=void 0,(gskeyboard=zgssearch.gskeyboard||{}).count=gskeyboard.count||0,gskeyboard.head=gskeyboard.head||null,gskeyboard.tail=gskeyboard.tail||null,gskeyboard.initialize=function(){gskeyboard.count=0,gskeyboard.index={},gskeyboard.head=null,gskeyboard.tail=null},gskeyboard.newNode=function(service,data,index,accId){return gskeyboard.count++,{data:data,prev:null,next:null,index:index,service:service,accId:accId}},gskeyboard.getFirstDataNode=function(){return gskeyboard.head?gskeyboard.head.data:null},gskeyboard.findDataNode=function(service,index,accId){for(var tempHead=gskeyboard.head;null!==tempHead;){var tservice=tempHead.service,taccId=tempHead.accId,tindex=tempHead.index;if(service==tservice&&index==tindex&&accId==taccId)return tempHead;tempHead=tempHead.next}return null},gskeyboard.findPrevDataNodeForMultiPage=function(service,index,accId){var sindex,taccId,tindex,accIdArr,dataNode=null,tempHead=gskeyboard.head,mlist=zgssearch.getWidgetServiceList(service);for(sindex=(accIdArr=zgssearch.getFilterInfo(service,mlist.key,"accIdArr")).indexOf(accId);null!==tempHead;)taccId=tempHead.accId,tindex=tempHead.index,0===index?accIdArr.indexOf(taccId)<sindex&&(dataNode=tempHead):accId===taccId&&index-1===tindex&&(dataNode=tempHead),tempHead=tempHead.next;return dataNode},gskeyboard.findPrevDataNode=function(service,index,accId){var dataNode=null;if(zgssearch.multiPageEnabled)dataNode=gskeyboard.findPrevDataNodeForMultiPage(service,index,accId);else{var tservice,sindex,tindex,tempHead=gskeyboard.head,olist=zgssearch.getOrderedServiceList();for(sindex=olist.indexOf(service);null!==tempHead;)tservice=tempHead.service,tindex=tempHead.index,0===index?olist.indexOf(tservice)<sindex&&(dataNode=tempHead):service===tservice&&index-1===tindex&&(dataNode=tempHead),tempHead=tempHead.next}return dataNode},gskeyboard.insertNewNode=function(service,id,index,accId){var tempNode=gskeyboard.newNode(service,id,index,accId);if(null===gskeyboard.head&&null===gskeyboard.tail)gskeyboard.head=gskeyboard.tail=tempNode;else{var pDataNode=gskeyboard.findPrevDataNode(service,index,accId);null===pDataNode?(tempNode.next=gskeyboard.head,gskeyboard.head.prev=tempNode,gskeyboard.head=tempNode):(tempNode.next=pDataNode.next,null!==pDataNode.next&&(pDataNode.next.prev=tempNode),(pDataNode.next=tempNode).prev=pDataNode)}gskeyboard.setIndex()},gskeyboard.setIndex=function(){var i=0;gskeyboard.index={};for(var temp=gskeyboard.head;null!==temp;)gskeyboard.index[temp.data]=i++,temp=temp.next},gskeyboard.keyUpAndDownAction=function(code){var node=null,link=38===code?"prev":"next";if(zgssearch.curSelectedEle){var accId=_jQueryGS(zgssearch.curSelectedEle).attr("acc_id")||"",service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),index=_jQueryGS(zgssearch.curSelectedEle).attr("index"),curnode=zgssearch.gskeyboard.findDataNode(service,index,accId);curnode&&("prev"===link?curnode.prev&&(node=curnode.prev.data):curnode.next&&(node=curnode.next.data))}else node=zgssearch.gskeyboard.getFirstDataNode();zgssearch.highlightRes(node,link)},zgssearch.highlightRes=function(node,link){if(node){var tarElem=zgssearch.getTargetElem(node);zgssearch.hideAllDropdownList(tarElem),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.changeBGClass(tarElem,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem"),zgssearch.calloutEventHanlder(tarElem);var searchType=zgssearch.getSearchType(),filterHeight=0,curResPage="zgs20_gsAllSearchResultPage";searchType!=GSConstant.ALL&&(curResPage="zgs20_gs"+searchType+"Template",zgssearch.multiPageEnabled&&(curResPage="zgs20_MultiSearchPageHolder"),filterHeight=_jQueryGS("#zgs20_gsModuleFilterList").height()||0);var resPageEle=zgssearch.getTargetElem(curResPage),parentHolder=zgssearch.getTargetElem("zgs20_gsSearchResultMiddle"),eletop=zgssearch.findPosY(tarElem,parentHolder),eleheight=_jQueryGS(tarElem).outerHeight(),pageHeight=_jQueryGS(resPageEle).height(),viewport_top=_jQueryGS(resPageEle).scrollTop();viewport_top<=eletop&&eletop+eleheight<=viewport_top+pageHeight||("prev"===link?_jQueryGS("#"+curResPage).scrollTop(eletop-filterHeight):tarElem.scrollIntoView(!1));var mservice=_jQueryGS(tarElem).attr("service");zgssearch.setCalloutSearchType(mservice);var acc_id=_jQueryGS(tarElem).attr("acc_id");mservice=zgssearch.multiPageEnabled?acc_id:mservice,searchType===GSConstant.ALL&&zgssearch.curMoreService!==mservice&&zgssearch.hideResMoreOption(tarElem,zgssearch.curMoreService),zgssearch.showResMoreOption(tarElem);var finalEleIndex=gskeyboard.index[node];resPageEle=zgssearch.getTargetElem(curResPage),0===finalEleIndex?_jQueryGS(resPageEle).scrollTop(0):finalEleIndex===gskeyboard.count-1&&_jQueryGS(resPageEle).scrollTop(resPageEle.scrollHeight);var cwidth=_jQueryGS("#zgs20_gsSearchResultRight").width();zgssearch.minPrevPane!=cwidth&&zgssearch.minCalloutPreviewChange()}},gskeyboard.isCurElementInViewPort=function(curEle,scrollPage){var resPageEle=zgssearch.getTargetElem(scrollPage),viewport_top=_jQueryGS(resPageEle).scrollTop(),viewport_bottom=_jQueryGS(resPageEle).scrollTop()+_jQueryGS(resPageEle).height(),parentHolder=zgssearch.getTargetElem("zgs20_globalsearch"),curElement_top=parseInt(zgssearch.findPosY(curEle,parentHolder))-_jQueryGS("#zgs20_gsSearchBoxHolder").outerHeight();return curElement_top+_jQueryGS(curEle).outerHeight()<=viewport_bottom&&viewport_top<=curElement_top},gskeyboard.keyboardNavgForAutoSugg=function(keycode){var index,elem=zgssearch.gsautocomplete.currselecelem,qrySelector=document.querySelectorAll(".zgs19_gsAutoSuggChild"),qryLen=qrySelector.length,relem=qrySelector[index=elem?(index=Array.prototype.indexOf.call(qrySelector,elem),keycode==zgssearch.specialkeys.UP?(index-=1)<0?qryLen-1:index:qryLen<=(index+=1)?0:index):keycode==zgssearch.specialkeys.UP?qryLen-1:0];zgssearch.gsautocomplete.currselecelem=relem,zgssearch.gsautocomplete.updatesuggtext(),relem.scrollIntoView(!1),_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")},gskeyboard.keyboardNavgForFilters=function(keycode,oldElem){var elem=zgssearch.currFilterSelectedElem||"",index=elem?_jQueryGS(elem).attr("index"):"-1",tcount=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter .zgs19_gsFilterQuerySelection").length,tindex=_jQueryGS(".zgs19_gsFilterQuerySelection:first").attr("index");index=parseInt(index),tcount=(tindex=parseInt(tindex))+parseInt(tcount);var tarelem="zgs20_gsFilterQuerySelection"+(index=-1==index?keycode==zgssearch.specialkeys.UP?tcount-1:tindex:keycode==zgssearch.specialkeys.UP?(index-=1)<tindex?tcount-1:index:tcount<=(index+=1)?tindex:index),relem=zgssearch.getTargetElem(tarelem);relem&&(zgssearch.currFilterSelectedElem=relem,"none"==_jQueryGS(relem).css("display")?oldElem!=relem&&(oldElem=oldElem||relem,gskeyboard.keyboardNavgForFilters(keycode,oldElem)):(relem.scrollIntoView(!1),_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn")))},gskeyboard.keyboardNavgForEditFields=function(keycode){var elem=zgssearch.currEditFieldselecelem||"",index=elem?_jQueryGS(elem).attr("index"):"-1",tcount=_jQueryGS("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").length,tindex=_jQueryGS(".zgs19_gsEditFieldsChild:first").attr("index");index=parseInt(index),tcount=(tindex=parseInt(tindex))+parseInt(tcount);var tarelem="zgs20_gsEditFieldsChild"+(index=-1==index?keycode==zgssearch.specialkeys.UP?tcount-1:tindex:keycode==zgssearch.specialkeys.UP?(index-=1)<tindex?tcount-1:index:tcount<=(index+=1)?tindex:index),relem=zgssearch.getTargetElem(tarelem);relem&&(relem.scrollIntoView(!1),zgssearch.currEditFieldselecelem=relem,_jQueryGS(".zgs19_gsEditFieldsRadio").prop("checked",!1),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"))},gskeyboard)}(zgssearch,window),function(zgssearch,window){var navigator=window.navigator,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.GET="GET",zgssearch.POST="POST",zgssearch.currcurpos=zgssearch.currcurpos||0,zgssearch.nextScrollValue=zgssearch.nextScrollValue||0,zgssearch.searchResultsLimit=zgssearch.searchResLimit||500,zgssearch.mousewheelevt=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",zgssearch.isCalloutActionListOpened=!1,zgssearch.currHoverRes="",zgssearch.handleToggleGSAction=function(event){zgssearch.setWMSZIndex(),zgssearch.isGSOpened?(zgssearch.callingAttachEvent(event),zgssearch.handleEmptySearchBox()):zgssearch.callingDeattachEvent(event)},zgssearch.closeBiggerZOSPopup=function(event,isFocusCheck){if(void 0!==zgssearch.gszohosearch&&zgssearch.gszohosearch.isFeedbackOpened){if(isFocusCheck)return void zgssearch.stopEvent(event);zgssearch.gszohosearch.toggleFeedback()}else void 0!==zgssearch.gstopband&&zgssearch.gstopband.isAllappsOpened?zgssearch.gstopband.toggleHamburger():void 0!==zgssearch.gstopband&&zgssearch.gstopband.isUserDetailsOpened&&zgssearch.gstopband.toggleUserDetails()},zgssearch.handleKeydownAction=function(event){var keycode=event.keyCode?event.keyCode:event.which,query=zgssearch.getValue("zgs20_gsQueryBox"),search_type=zgssearch.getSearchType(),isWMSPopUpDisplay=zgssearch.isWMSPopUPOpened();if(keycode==zgssearch.specialkeys.ENTER){if(zgssearch.isFilterListDisplay)(fTarget=zgssearch.currFilterSelectedElem)&&zgssearch.clickActionForWidgetList(fTarget);else if(zgssearch.isMoreInnerFilterListDisplay){var fTarget;(fTarget=zgssearch.currFilterSelectedElem)&&(zgssearch.clickActionForMoreInnerList(fTarget),zgssearch.hideMoreInnerFilterList())}else if(zgssearch.isQueryFocused){var target=zgssearch.gsautocomplete.currselecelem;if(zgssearch.gsautocomplete.isAutoSuggDisplay&&target)zgssearch.gsautocomplete.updateautosuggest(target);else{zgssearch.removeQuerySugg(),zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users");var nsearch_type=zgssearch.addserviceFilters(search_type);if(query=zgssearch.gsautocomplete.getautosearchQuery(query),zgssearch.isValidSearchQuery(query,nsearch_type))zgssearch.handleUserSearchQuery(query,nsearch_type);else if(search_type!=nsearch_type){var mlist=zgssearch.getWidgetServiceList(nsearch_type);zgssearch.updateMultiPageFlag(nsearch_type,mlist.key),zgssearch.updateSearchType(nsearch_type),zgssearch.updateCurrentPage(nsearch_type)}}zgssearch.stopEvent(event)}}else if(keycode==zgssearch.specialkeys.ESC){var gsopenkeyup=!0;zgssearch.isDatePickerDisplay?zgssearch.hideDatePicker():zgssearch.isFilterListDisplay?zgssearch.hideFilterList():zgssearch.isMoreInnerFilterListDisplay?(zgssearch.hideMoreInnerFilterList(),zgssearch.focus("zgs20_gsHolder")):zgssearch.isMoreFilterListDisplay?(zgssearch.hideMoreFilterList(),zgssearch.hideMoreInnerFilterList()):zgssearch.isCalloutActionListOpened?zgssearch.hideCalloutActionList():zgssearch.isEditFieldsDisplay?zgssearch.hideEditFieldsList():zgssearch.gsautocomplete.isAutoSuggDisplay?zgssearch.removeQuerySugg():zgssearch.isZohoSearch?zgssearch.closeBiggerZOSPopup(event):isWMSPopUpDisplay?gsopenkeyup=!1:zgssearch.toggleGlobalsearch(event),isWMSPopUpDisplay||zgssearch.stopEvent(event),zgssearch.isGSOpenedKeyUp=gsopenkeyup}else if(keycode==zgssearch.specialkeys.TAB){if(zgssearch.gsautocomplete.isAutoSuggDisplay){if(!(target=zgssearch.gsautocomplete.currselecelem)){var tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id");target=zgssearch.getTargetElem(tid)}zgssearch.gsautocomplete.updateautosuggest(target),zgssearch.stopEvent(event)}}else if(keycode==zgssearch.specialkeys.RIGHT){if(zgssearch.getCursorPos()==(query=zgssearch.getValue("zgs20_gsQueryBox")).length&&zgssearch.gsautocomplete.isAutoSuggDisplay){if(!(target=zgssearch.gsautocomplete.currselecelem)){tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id");target=zgssearch.getTargetElem(tid)}zgssearch.gsautocomplete.updateautosuggest(target),zgssearch.stopEvent(event)}}else keycode!=zgssearch.specialkeys.UP&&keycode!=zgssearch.specialkeys.DOWN||(zgssearch.isFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay?zgssearch.gskeyboard.keyboardNavgForFilters(keycode):zgssearch.isEditFieldsDisplay?zgssearch.gskeyboard.keyboardNavgForEditFields(keycode):zgssearch.gsautocomplete.isAutoSuggDisplay?zgssearch.gskeyboard.keyboardNavgForAutoSugg(keycode):isWMSPopUpDisplay||zgssearch.isFeedbackFieldsFocused||zgssearch.gskeyboard.keyUpAndDownAction(keycode),zgssearch.isZohoSearch&&zgssearch.closeBiggerZOSPopup(event,!0),isWMSPopUpDisplay||zgssearch.stopEvent(event))},zgssearch.searchViewport.removeEventListener("keyup",zgssearch.gscommonKeyup,!0),window.removeEventListener("keyup",zgssearch.handleKeyUpAction,!0),zgssearch.handleKeyUpAction=function(event){(event.keyCode?event.keyCode:event.which)==zgssearch.specialkeys.ESC&&zgssearch.isGSOpenedKeyUp&&(zgssearch.isGSOpenedKeyUp=!1,zgssearch.stopEvent(event))},window.addEventListener("keyup",zgssearch.handleKeyUpAction,!0),zgssearch.isWMSPopUPOpened=function(){var isWMSPopUp=!1,zindex=_jQueryGS("#zgs20_globalsearch").css("z-index");if(!isNaN(zindex)){zindex=parseInt(zindex);var wmsContactId="wms_contactdetails",wmsImgpreviewId="wms-imgpreviewcontainer";!!WebMessanger.isCliqDomain&&WebMessanger.isCliqDomain()&&(wmsContactId="hover",wmsImgpreviewId="imgviewer");var customPopUp=_jQueryGS("#custommsg").css("display"),wmsUserProfilePopUp=_jQueryGS("#"+wmsContactId).css("display"),imgPreviewPopUp=_jQueryGS("#"+wmsImgpreviewId).css("display");if(customPopUp&&"none"!=customPopUp){var zcustomPopUp=_jQueryGS("#custommsg").css("z-index");isNaN(zcustomPopUp)||zindex<=(zcustomPopUp=parseInt(zcustomPopUp))&&(isWMSPopUp=!0)}else if(wmsUserProfilePopUp&&"none"!=wmsUserProfilePopUp){var zuserProfilePopUp=_jQueryGS("#"+wmsContactId).css("z-index");isNaN(zuserProfilePopUp)||zindex<=(zuserProfilePopUp=parseInt(zuserProfilePopUp))&&(isWMSPopUp=!0)}else if(imgPreviewPopUp&&"none"!=imgPreviewPopUp){var zimgPreviewPopUp=_jQueryGS("#"+wmsImgpreviewId).css("z-index");isNaN(zimgPreviewPopUp)||zindex<=(zimgPreviewPopUp=parseInt(zimgPreviewPopUp))&&(isWMSPopUp=!0)}else{var fileforwLen=_jQueryGS("#fileforwardwin").length,zcwindowsZIndex=_jQueryGS("#zcwindows").css("z-index");0<fileforwLen&&(isNaN(zcwindowsZIndex)||zindex<=(zcwindowsZIndex=parseInt(zcwindowsZIndex))&&(isWMSPopUp=!0))}}return isWMSPopUp},zgssearch.moreSearchResultPage=function(target,service_name){zgssearch.removeEventSource();var query=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(query),msquery=zgssearch.gsautocomplete.getautosearchQuery(zgssearch.searchedQuery);zgssearch.gsautocomplete.checkQueryFilterExists("services",service_name),zgssearch.gsautocomplete.checkQueryFilterExists("users"),zgssearch.focus("zgs20_gsQueryBox");var cquery=zgssearch.getValue("zgs20_gsQueryBox");if(zgssearch.searchedQuery=cquery,zgssearch.isQueryValid(mquery)&&msquery!=mquery)zgssearch.handleUserSearchQuery(mquery,service_name);else{zgssearch.clearPrevSearchAction();var searchType=zgssearch.getSearchType(),gsAttr=_jQueryGS(target).attr("gs"),acc_id=_jQueryGS(target).attr("acc_id");GSConstant.ALL==searchType&&zgssearch.isServiceHasMultiPortals(service_name)&&"serviceWidgetBand"!=gsAttr&&(zgssearch.multiPageEnabled=!0),zgssearch.loadSearchResults(service_name,acc_id)}},zgssearch.toggleCalloutActionList=function(target){if(zgssearch.isCalloutActionListOpened)_jQueryGS(target).removeClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsCalloutActionList").hide(),zgssearch.isCalloutActionListOpened=!1;else{var width=_jQueryGS(target).width(),height=_jQueryGS(target).height(),postion=_jQueryGS(target).position(),lwidth=_jQueryGS("#zgs20_gsCalloutActionList").width(),top=postion.top+height,left=postion.left+width-lwidth;_jQueryGS("#zgs20_gsCalloutActionList").css("top",top),_jQueryGS("#zgs20_gsCalloutActionList").css("left",left),_jQueryGS(target).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsCalloutActionList").show(),zgssearch.isCalloutActionListOpened=!0}},zgssearch.toggleBacktoTop=function(id){0<_jQueryGS("#"+id).scrollTop()?zgssearch.showScrollTopIcon():zgssearch.hideScrollTopIcon()},zgssearch.setWMSZIndex=function(){if(zgssearch.isGSOpened||zgssearch.isZohoSearch){var zindex=2147483646,zindex_wms=WebMessanger.getZIndex?WebMessanger.getZIndex():"";if(zindex_wms){if(zgssearch.wmsZIndex||(zgssearch.wmsZIndex=zindex_wms),!zgssearch.wmsContactsZIndex){var wmsContactsZIndex=_jQueryGS("#wms_contactdetails").css("z-index");wmsContactsZIndex&&(zgssearch.wmsContactsZIndex=wmsContactsZIndex)}if(!zgssearch.wmstoolbarZIndex){var wmstoolbarZIndex=_jQueryGS("#wmstoolbar").css("z-index");isNaN(wmstoolbarZIndex)||zindex<(wmstoolbarZIndex=parseInt(wmstoolbarZIndex))&&(zgssearch.wmstoolbarZIndex=wmstoolbarZIndex)}isNaN(zindex_wms)||(zindex_wms=parseInt(zindex_wms),(zgssearch.isZohoSearch||zgssearch.isGSOpened)&&(zindex=zindex<zindex_wms?zindex:zindex_wms))}WebMessanger.setZIndex(zindex),_jQueryGS("#zgs20_feedbackDialog").css("z-index",zindex),_jQueryGS("#zgs20_globalsearch").css("z-index",zindex),_jQueryGS("#wms_contactdetails").css("z-index",zindex+1),_jQueryGS("#wmstoolbar").css("z-index",zindex-2),zgssearch.isZohoSearch&&_jQueryGS("#zgs20_gsSearchTopBandHolder").css("z-index",zindex+1),WebMessanger.closeOpenPopup&&WebMessanger.closeOpenPopup()}else zgssearch.wmsZIndex&&(WebMessanger.setZIndex(zgssearch.wmsZIndex),_jQueryGS("#wmstoolbar").css("z-index",zgssearch.wmsZIndex)),zgssearch.wmsContactsZIndex&&_jQueryGS("#wms_contactdetails").css("z-index",zgssearch.wmsContactsZIndex),zgssearch.wmstoolbarZIndex&&_jQueryGS("#wmstoolbar").css("z-index",zgssearch.wmstoolbarZIndex)},zgssearch.showScrollTopIcon=function(){_jQueryGS("#zgs20_gsBackToTop").show()},zgssearch.hideScrollTopIcon=function(){_jQueryGS("#zgs20_gsBackToTop").hide()},zgssearch.multiPageScrollEvent=function(id,event){if(zgssearch.isBottomReached(id)){var service=zgssearch.getSearchType(),tempResArr=(zgssearch.multiResultObj||{})[service]||[],mlist=zgssearch.getWidgetServiceList(service),accIdArr=zgssearch.getFilterInfo(service,mlist.key,"accIdArr"),ailen=accIdArr.length-1,index=zgssearch.getSearchedMultiPageIndex(tempResArr,accIdArr);if(0<index&&index<ailen&&0<zgssearch.multiResCount){var sset=(index+index%2)/2;zgssearch.multiStartSet!=sset&&zgssearch.handleMultiPageScroll(service,sset)}}zgssearch.stopEvent(event)},zgssearch.modulePageScrollEvent=function(id,event){var nextStartValue=parseInt(zgssearch.nextScrollValue);if(nextStartValue<parseInt(zgssearch.searchResultsLimit)){var search_type=zgssearch.getSearchType(),query=zgssearch.getValue("zgs20_gsQueryBox"),isCrmAllSearchLimit=!1;if(search_type===GSConstant.CRM&&"true"==GSConstant.CRM_FETCH_ALL_RECORDS){var soid=zgssearch.getFilterInfo(search_type,"modules","current");soid&&soid===GSConstant.CRM_ALL_MODULES&&(isCrmAllSearchLimit=!0)}if(zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),search_type=zgssearch.addserviceFilters(search_type),query=zgssearch.gsautocomplete.getautosearchQuery(query),(zgssearch.isQueryValid(query)||zgssearch.isQueryHasFilters())&&zgssearch.isBottomReached(id))if(zgssearch.isValidSearchQuery(query,search_type))zgssearch.handleUserSearchQuery(query,search_type);else if(isCrmAllSearchLimit){var len=zgssearch.resultCount.crm;zgssearch.nextScrollValue<len&&zgssearch.renderSearchResults(search_type,!1,!0)}else if(!zgssearch.noMoreResults){var searchQuery=encodeURIComponent(query);nextStartValue+=zgssearch.fetchResCount;var url=zgssearch.domainURL+zgssearch.getServiceSpecificURL(search_type);url+="&query="+searchQuery+"&search_type="+search_type+"&start="+nextStartValue+"&is_scroll=true&no_of_results="+zgssearch.fetchResCount+zgssearch.addqueryFilters(),zgssearch.scrollSearch||(zgssearch.scrollSearch=!0,zgssearch.nextScrollValue=nextStartValue,zgssearch.hideSearchPageLoader(),zgssearch.addScrollLoader(id),zgssearch.getSearchResults(url))}}zgssearch.stopEvent(event)},zgssearch.isBottomReached=function(id){var object=zgssearch.getTargetElem(id);if(object){var actualLocation=object.scrollTop+object.offsetHeight,scrollHeight=object.scrollHeight;if(scrollHeight-actualLocation<300||actualLocation===scrollHeight)return!0}return!1},zgssearch.addScrollLoader=function(id){zgssearch.removeScrollLoader();var fourDotLoader=zgssearch.getFourDotLoader("zgs20_gsScrollLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader");_jQueryGS("#"+id).append(fourDotLoader)},zgssearch.removeScrollLoader=function(){0<_jQueryGS("#zgs20_gsScrollLoader").length&&_jQueryGS("#zgs20_gsScrollLoader").remove()},zgssearch.handleUserSearchQuery=function(query,search_type){zgssearch.clearOldSearchData(search_type);var searchQuery=encodeURIComponent(query),url=zgssearch.domainURL+zgssearch.getServiceSpecificURL(search_type);url+="&query="+searchQuery+"&search_type="+search_type+"&is_scroll=false&no_of_results="+zgssearch.fetchResCount+zgssearch.addqueryFilters(),zgssearch.ismultiConfigEnabled&&!zgssearch.isZOSConfUpdated&&(GSConstant.ALL==search_type||zgssearch.multiPageEnabled)&&(url+="&startSet="+zgssearch.multiStartSet);var cquery=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.searchedQuery=cquery,zgssearch.updateLastSearchQuery("query",query),zgssearch.gsautocomplete.storeRecentSearch(),zgssearch.updateSearchType(search_type),zgssearch.displayDefaultPage(),zgssearch.showSearchPageLoader(),zgssearch.getSearchResults(url)},zgssearch.lastSearchQuery=zgssearch.lastSearchQuery||{},zgssearch.updateLastSearchQuery=function(key,value){zgssearch.lastSearchQuery[key]=value},zgssearch.getLastSearchedQuery=function(){return _jQueryGS.isEmptyObject(zgssearch.lastSearchQuery)?{}:JSON.stringify(zgssearch.lastSearchQuery)},zgssearch.addqueryFilters=function(){var fparam="",muObj=zgssearch.gsautocomplete.queryFilters;return _jQueryGS.isEmptyObject(muObj)||muObj.hasOwnProperty("users")&&(fparam="&mentionedids="+muObj.users,zgssearch.updateLastSearchQuery("mentionedids",muObj.users)),fparam},zgssearch.addserviceFilters=function(service){var msObj=zgssearch.gsautocomplete.queryFilters;return!_jQueryGS.isEmptyObject(msObj)&&msObj.hasOwnProperty("services")?msObj.services:service},zgssearch.clearPrevSearchAction=function(){zgssearch.closeMsg="",zgssearch.nonsearchcall="",zgssearch.curSelectedEle="",zgssearch.nextScrollValue=0,zgssearch.multiResCount=0,zgssearch.multiStartSet=0,zgssearch.multiResulList=[],zgssearch.multiPageEnabled=!1,zgssearch.scrollSearch=!1,zgssearch.timerEnabled=!1,zgssearch.noMoreResults=!1,zgssearch.isMaxCalloutOpen=!1,zgssearch.firstResultCallOutShown=!1,zgssearch.hideHomeIcon(),zgssearch.hideWelcomePage(),zgssearch.removeIframeHolder(),zgssearch.hideCalloutLoader(),zgssearch.hideScrollTopIcon(),zgssearch.removeScrollLoader(),zgssearch.hideSearchPageLoader(),zgssearch.gskeyboard.initialize()},zgssearch.removeIframeHolder=function(){_jQueryGS("#zgs20_gsDocsPreviewHolder").empty(),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("visibility","hidden");var cwidth=_jQueryGS("#zgs20_gsSearchResultRight").width();zgssearch.minPrevPane!=cwidth&&zgssearch.minCalloutPreviewChange()},zgssearch.clearOldSearchData=function(search_type){zgssearch.clearPrevSearchAction(),zgssearch.total_no_of_results=0,zgssearch.searchedQuery="",zgssearch.multiResultObj={},zgssearch.docIdsVsEncryptedIds={},GSConstant.ALL===search_type?(zgssearch.resultCount={},zgssearch.resultObject={},zgssearch.iWeightage={},zgssearch.fWeightage={},zgssearch.resultToBeShown={}):(zgssearch.resultCount[search_type]=0,zgssearch.resultObject[search_type]={},zgssearch.iWeightage[search_type]=0,zgssearch.fWeightage[search_type]=0,zgssearch.resultToBeShown[search_type]=0)},zgssearch.isValidSearchQuery=function(query,service,soid){var valid=!1;if(zgssearch.isArrayContain(service,zgssearch.serviceList)&&(valid=zgssearch.isValidSearchForWidgetService(service,soid)),zgssearch.isQueryValid(query)||zgssearch.isQueryHasFilters()){var cquery=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.searchedQuery===cquery&&zgssearch.getSearchType()===service||(valid=!0)}else valid=!1;return valid},zgssearch.isQueryHasFiltersSelected=function(){var muObj=zgssearch.gsautocomplete.queryFilters;return!_jQueryGS.isEmptyObject(muObj)},zgssearch.isQueryHasFilters=function(){var muObj=zgssearch.gsautocomplete.queryFilters;return!(_jQueryGS.isEmptyObject(muObj)||!muObj.hasOwnProperty("users"))},zgssearch.updateSearchType=function(search_type){var oldServiceType=zgssearch.getSearchType();zgssearch.updateServiceFilters(oldServiceType,search_type),_jQueryGS("#"+("zgs20_gsServicePanelList"+oldServiceType)).removeClass("zgs19_gsSelectedServicepanelNew zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel");var newId="zgs20_gsServicePanelList"+search_type;_jQueryGS("#"+newId).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanelNew");var target=zgssearch.getTargetElem(newId);target&&!zgssearch.gskeyboard.isCurElementInViewPort(target,"zgs20_gsServListHolder")&&target.scrollIntoView(!1),zgssearch.hideWelcomePage(),zgssearch.setSearchType(search_type),zgssearch.setSearchBoxPlaceHolder(),zgssearch.handleSearchCloseIcon()},zgssearch.setSearchBtnAndVal=function(){_jQueryGS("#zgs20_gsSearchBtn").val(zgssearch.getI18NMsg("gs.search.service")),_jQueryGS("#zgs20_gsSearchBtn").show()},zgssearch.setSearchBoxPlaceHolder=function(){var pholder=zgssearch.getI18NMsg("gs.search");GSConstant.ALL==zgssearch.getSearchType()&&(pholder=zgssearch.getI18NMsg("gs.search_across_zoho"),navigator&&!zgssearch.isZohoSearch&&(pholder+=0<=navigator.platform.toUpperCase().indexOf("MAC")?" ( "+zgssearch.getI18NMsg("gs.search_across_zoho_cmd")+" + / )":" ( "+zgssearch.getI18NMsg("gs.search_across_zoho_ctrl")+" + / )"));_jQueryGS("#zgs20_gsQueryBox").attr("placeholder",pholder),zgssearch.handleEmptySearchBox()},zgssearch.setPosForToList=function(target,type){if("tolink"==type)_jQueryGS("#zgs20_gsDropdownToList").css("top",59),_jQueryGS("#zgs20_gsDropdownToList").css("left",68);else if("moreBlogCategory"==type){var parentNode=zgssearch.getTargetElem("zgs20_gsConnectCallout"),cleft=zgssearch.findPosX(target,parentNode)+_jQueryGS(target).width();cleft-=_jQueryGS("#zgs20_gsBlogCategoryList").width(),_jQueryGS("#zgs20_gsBlogCategoryList").css("top",54),_jQueryGS("#zgs20_gsBlogCategoryList").css("left",cleft)}},zgssearch.hideAllDropdownList=function(target){var action=_jQueryGS(target).attr("gs");"advFilter"!==action&&_jQueryGS("#zgs20_gsMenuOption").hide(),"actionlist"!==action&&zgssearch.hideCalloutActionList();var aparNote=zgssearch.getParentNode(target,"tolink"),parNote=zgssearch.getParentNode(target,"toDDList");if(aparNote||parNote||(_jQueryGS("#zgs20_gsDropdownToList").hide(),_jQueryGS("#zgs20_gsCalloutDDList1").removeClass("zgs19_gsBorderCCC")),aparNote=zgssearch.getParentNode(target,"moreBlogCategory"),parNote=zgssearch.getParentNode(target,"blogCategoryList"),aparNote||parNote||(_jQueryGS("#zgs20_gsBlogCategoryList").hide(),_jQueryGS("#zgs20_gsBlogCategoryMore").removeClass("zgs19_gsBorderCCC")),zgssearch.isDatePickerDisplay){var dateParNote=zgssearch.getParentNode(target,"gsDateRangePickerElem"),dueParnote=zgssearch.getNoteByAttr(target,"datatype","dueDateChange");dateParNote||dueParnote||zgssearch.hideDatePicker()}else if(zgssearch.isFilterListDisplay){parNote=zgssearch.getParentNode(target,"mFilterWidget");var filterBox=zgssearch.getParentNode(target,"gsFilterWidgetHeader");"mFilterWidgetHeader"===action||parNote||filterBox||zgssearch.hideFilterList()}else if(zgssearch.isMoreFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay){parNote=zgssearch.getParentNode(target,"more_filters");filterBox=zgssearch.getParentNode(target,"moreFilterHolder");var filterBox2=zgssearch.getParentNode(target,"moreInnerFilterHolder");parNote||filterBox||filterBox2||zgssearch.hideMoreFilterList(),parNote=zgssearch.getParentNode(target,"moreFilterList");filterBox=zgssearch.getParentNode(target,"moreInnerFilterHolder");"moduleInnerFilterChild"!=action&&(parNote||filterBox)||zgssearch.hideMoreInnerFilterList()}else zgssearch.isEditFieldsDisplay&&(aparNote=zgssearch.getParentNode(target,"CalloutEditFields"),parNote=zgssearch.getParentNode(target,"editFieldsList"),filterBox=zgssearch.getParentNode(target,"editFieldsHeader"),aparNote||parNote||filterBox||zgssearch.hideEditFieldsList())},zgssearch.getNoteByAttr=function(target,attrName,attrValue){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(attrValue===_jQueryGS(parNode).attr(attrName))return parNode;parNode=parNode.parentNode}return null},zgssearch.getParentNode=function(target,gsName){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(gsName===_jQueryGS(parNode).attr("gs"))return parNode;parNode=parNode.parentNode}return null},zgssearch.showResMoreOption=function(target){_jQueryGS(".zgs19_gsMoreOption").hide();var acc_id=_jQueryGS(target).attr("acc_id"),service=_jQueryGS(target).attr("service");zgssearch.isServiceHasMoreResults(service,acc_id)&&(zgssearch.multiPageEnabled?(zgssearch.curMoreService=acc_id,_jQueryGS("#zgs20_gs"+acc_id+"More").show()):(zgssearch.curMoreService=service,_jQueryGS("#zgs20_gs"+service+"More").show()))},zgssearch.isServiceHasMoreResults=function(service,acc_id){var flag=!1,sList=zgssearch.getServiceList();if(zgssearch.isArrayContain(service,sList)){var searchType=zgssearch.getSearchType();if(GSConstant.ALL==searchType&&zgssearch.isServiceHasMultiPortals(service))2<=(zgssearch.multiResultObj[service]||[]).length&&(flag=!0);if(!flag){var no_of_results=zgssearch.getServiceResultCount(service,acc_id);zgssearch.getShownResultCount(service,acc_id)<no_of_results&&(flag=!0)}}return flag},zgssearch.hideResMoreOption=function(target,oldservice){var service=_jQueryGS(target).attr("service"),tarId=oldservice||service;zgssearch.multiPageEnabled&&(tarId=_jQueryGS(target).attr("acc_id")),zgssearch.curMoreService="",_jQueryGS("#zgs20_gs"+tarId+"More").hide()},zgssearch.clearSearchresults=function(){if(""==zgssearch.getValue("zgs20_gsQueryBox")&&(0<zgssearch.total_no_of_results||zgssearch.noMoreResults)){var search_type=zgssearch.getSearchType();zgssearch.clearOldSearchData(search_type);var mlist=zgssearch.getWidgetServiceList(search_type);0==zgssearch.getFilterInfo(search_type,mlist.key,"current")&&(zgssearch.multiPageEnabled=!0),zgssearch.updateCurrentPage(search_type)}},zgssearch.handleSearchCloseIcon=function(){var closeicon="block";""==zgssearch.getValue("zgs20_gsQueryBox")&&(closeicon="none"),_jQueryGS("#zgs20_gsQueryCloseBox").css("display",closeicon)},zgssearch.removeQuerySugg=function(){_jQueryGS(".zgs19_gssuggtext").remove(),_jQueryGS("#zgs20_gsQuerySugg").hide().empty(),zgssearch.gsautocomplete.currselecelem="",zgssearch.gsautocomplete.showLoadingIcon=!1,zgssearch.gsautocomplete.isAutoSuggDisplay=!1},zgssearch.getCursorPos=function(){return _jQueryGS("#zgs20_gsQueryBox").get(0).selectionStart},zgssearch.getCursorEndPos=function(){return _jQueryGS("#zgs20_gsQueryBox").get(0).selectionEnd},zgssearch.setCursorPos=function(pos){var qelem=_jQueryGS("#zgs20_gsQueryBox").get(0);qelem.selectionEnd=pos,qelem.selectionStart=pos},zgssearch.getQueryScrollLeft=function(inputElement){if(zgssearch.isBrowserSupportSSE)return _jQueryGS(inputElement).scrollLeft();if(inputElement.hasOwnProperty("createTextRange")){var range=inputElement.createTextRange(),inputStyle=window.getComputedStyle(inputElement,void 0),paddingLeft=parseFloat(inputStyle.paddingLeft),rangeRect=range.getBoundingClientRect();return inputElement.getBoundingClientRect().left+inputElement.clientLeft+paddingLeft-rangeRect.left}},zgssearch.updateQueryDiv=function(){var query=zgssearch.getValue("zgs20_gsQueryBox");_jQueryGS("#zgs20_gsQueryDiv").empty().text(query),zgssearch.removeQuerySugg(),zgssearch.gsautocomplete.updateSearchBox(query),zgssearch.gsautocomplete.parseQueryDiv(),zgssearch.gsautocomplete.updatesuggtext(),zgssearch.gsautocomplete.storeIndexOfSugg()},zgssearch.mouseEnterEvent=function(elem,action){try{if(zgssearch.isGSOpened||zgssearch.isZohoSearch)switch(action){case"ServiceTemplate":zgssearch.showResMoreOption(elem)}}catch(ex){}},zgssearch.mouseLeaveEvent=function(elem,action){try{if(zgssearch.isGSOpened||zgssearch.isZohoSearch)switch(action){case"ServiceTemplate":zgssearch.hideResMoreOption(elem)}}catch(ex){}},zgssearch.appendFilterIcon=function(elem){var currHoveredRes=zgssearch.currHoverRes;switch(_jQueryGS(currHoveredRes).attr("service")){case GSConstant.CRM:case GSConstant.MAILS:case GSConstant.SUPPORT:zgssearch.setGSTagElems(currHoveredRes);var filterCls="deptName"===_jQueryGS(elem).attr("gsfilter")?-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs19_gsModuleFilterIcon3":"zgs19_gsModuleFilterIcon2":"zgs19_gsModuleFilterIcon1",folderIcon=_jQueryGS("<span>",{id:"zgs20_gsHoverFilter",class:"zgs19_gsResultsUniIcons "+filterCls});_jQueryGS(folderIcon).insertBefore(elem)}},zgssearch.removeFilterIcon=function(elem){_jQueryGS(elem).css("max-width",""),_jQueryGS("#zgs20_gsHoverFilter").remove()},zgssearch.setCurrentHoveredRes=function(ele){zgssearch.currHoverRes=ele},zgssearch.removeCurrentHoveredRes=function(){zgssearch.currHoverRes=""},zgssearch.jqueryMouseEvent=function(){_jQueryGS(".zgs19_gsSearchResultTable").off().on({mouseenter:function(){zgssearch.setCurrentHoveredRes(this)},mouseleave:function(){zgssearch.removeCurrentHoveredRes()}}),_jQueryGS(".zgs19_hvr_underline").off().on({mouseenter:function(){zgssearch.appendFilterIcon(this)},mouseleave:function(){zgssearch.removeFilterIcon(this)}}),_jQueryGS(".zgs19_gsServiceTemplate").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"ServiceTemplate")}}),_jQueryGS("#zgs20_gsSearchResultLeft").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"serviceLeftPanel")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"serviceLeftPanel")}}),_jQueryGS(".zgs19_gsServiceMenu").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"serviceLeftPanelMenu")}}),_jQueryGS("#zgs20_gsQuerySugg").off().on({mouseleave:function(){var tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id");_jQueryGS("#"+tid+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}}),_jQueryGS(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){if(zgssearch.handleMouseMoveEvent(),zgssearch.gsautocomplete.currselecelem!=this){zgssearch.gsautocomplete.currselecelem=this,zgssearch.gsautocomplete.updatesuggtext(),_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold");var elemId=_jQueryGS(this).attr("id");_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}},mouseleave:function(){if(!zgssearch.isMouseStopped){var elemId=_jQueryGS(this).attr("id");_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),zgssearch.gsautocomplete.currselecelem="",zgssearch.gsautocomplete.updatesuggtext()}},mousedown:function(){zgssearch.gsautocomplete.mousedown=!0,zgssearch.gsautocomplete.contextmenu=!1},contextmenu:function(){zgssearch.gsautocomplete.contextmenu=!0},click:function(){zgssearch.focus("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu?zgssearch.gsautocomplete.contextmenu=!1:zgssearch.gsautocomplete.updateautosuggest(this)}}),_jQueryGS(".zgs19_gsAutoSuggShowMore").off().on({mousedown:function(){zgssearch.gsautocomplete.mousedown=!0,zgssearch.gsautocomplete.contextmenu=!1},contextmenu:function(){zgssearch.gsautocomplete.contextmenu=!0},click:function(){zgssearch.focus("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu?zgssearch.gsautocomplete.contextmenu=!1:zgssearch.gsautocomplete.showMoreAutoSugges(this)}})},zgssearch.jqueryMouseEvent(),zgssearch.addEventForSearchBox=function(){_jQueryGS("#zgs20_gsQueryBox").off().on({focus:function(event){zgssearch.isQueryFocused=!0,zgssearch.hideAllDropdownList(""),zgssearch.gsmousewheelevent(event)},blur:function(event){zgssearch.isQueryFocused=!1,zgssearch.gsmousewheelevent(event),zgssearch.gsautocomplete.mousedown?(zgssearch.stopEvent(event),zgssearch.focus("zgs20_gsQueryBox"),zgssearch.gsautocomplete.mousedown=!1):zgssearch.gsautocomplete.isAutoSuggDisplay&&zgssearch.removeQuerySugg()},input:function(event){zgssearch.clearSearchresults(),zgssearch.triggerAutoSuggestCall(event)},keydown:function(event){var keycode=event.keyCode?event.keyCode:event.which;(keycode==zgssearch.specialkeys.BACKSPACE||keycode==zgssearch.specialkeys.DELETE||(event.ctrlKey||event.metaKey)&&keycode==zgssearch.specialkeys.CUT)&&zgssearch.gsautocomplete.removeFullSugg(event)},click:function(event){zgssearch.checkCurrCurPos(event)},keyup:function(event){zgssearch.checkCurrCurPos(event)}},!0),_jQueryGS("#zgs20_gsQueryCloseBox").off().on({click:function(){zgssearch.clearSearchQueryBox(),zgssearch.handleSearchCloseIcon()}})},zgssearch.addEventForSearchBox(),zgssearch.clearSearchQueryBox=function(){_jQueryGS("#zgs20_gsQueryBox").val(""),_jQueryGS("#zgs20_gsQueryDiv").text(""),zgssearch.focus("zgs20_gsQueryBox"),zgssearch.clearSearchresults(),zgssearch.handleEmptySearchBox()},zgssearch.hideFilterList=function(){zgssearch.currFilterSelectedElem="",zgssearch.isFilterListDisplay=!1,_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),_jQueryGS(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),zgssearch.hideFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideMoreFilterList=function(){zgssearch.curMoreFiltersList={},zgssearch.curMoreDateFiltersList={},zgssearch.isMoreFilterListDisplay=!1,_jQueryGS("#zgs20_gsMoreFilterWidgetList").remove(),zgssearch.hideMoreFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideMoreInnerFilterList=function(){zgssearch.isMoreInnerFilterListDisplay=!1,_jQueryGS("#zgs20_gsMoreFilterInnerList").remove(),_jQueryGS(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"),zgssearch.hideMoreFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideCalloutActionList=function(){zgssearch.isCalloutActionListOpened=!1,_jQueryGS("#zgs20_gsCalloutActionList").hide(),_jQueryGS(".zgs19_gsCalloutActionMenu").removeClass("zgs19_gsBorderCCC")},zgssearch.hideEditFieldsList=function(){zgssearch.currEditFieldselecelem="",zgssearch.isEditFieldsDisplay=!1,_jQueryGS("#zgs20_gsEditFieldsHolder").remove(),_jQueryGS(".zgs19_gsEditFieldsNameHolder").removeClass("zgs19_gsboxholder zgs19_gsboxholderbot")},zgssearch.hideFormsViewsFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),fkey=_jQueryGS("#zgs20_gsFormViewsFilterWidgetList").attr("fkey");!zgssearch.isCreatorListDisplay||zgssearch.isCreatorListDisplay&&ekey!=fkey?_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden"):zgssearch.oldFilterElemIcon=elem},zgssearch.hideFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),fkey=_jQueryGS("#zgs20_gsModuleFilterWidgetList").attr("fkey");if(!zgssearch.isFilterListDisplay||zgssearch.isFilterListDisplay&&ekey!=fkey){var ckey=_jQueryGS(zgssearch.curDatePickerElem).attr("fkey");(!zgssearch.isDatePickerDisplay||zgssearch.isDatePickerDisplay&&ekey!=ckey)&&_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}else zgssearch.oldFilterElemIcon=elem},zgssearch.hideMoreFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),fkey=_jQueryGS("#zgs20_gsMoreFilterInnerList").attr("fkey");if(!zgssearch.isMoreInnerFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay&&ekey!=fkey){var ckey=_jQueryGS(zgssearch.curDatePickerElem).attr("fkey");(!zgssearch.isDatePickerDisplay||zgssearch.isDatePickerDisplay&&ekey!=ckey)&&_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}else zgssearch.oldFilterElemIcon=elem},zgssearch.handleMouseMoveEvent=function(){zgssearch.isMouseStopped=!1,clearTimeout(zgssearch.setMouseTimer),zgssearch.setMouseTimer=setTimeout(function(){zgssearch.isMouseStopped=!0,clearTimeout(zgssearch.setMouseTimer)},100)},zgssearch.addEventForFilterElem=function(){_jQueryGS("#zgs20_gsModuleFilterList .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){_jQueryGS(this).attr("soid")&&_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){_jQueryGS(this).attr("soid")&&zgssearch.hideFilterElemIcon(this)}})},zgssearch.addEventFormsViewsFilterElem=function(){_jQueryGS("#zgs20_gsFormViewsFilterDataHolder .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){zgssearch.hideFormsViewsFilterElemIcon(this)}})},zgssearch.addEventForFormsViewsListBox=function(targetId){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currCreatorFilterSelectedElem!=this&&(zgssearch.currCreatorFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currCreatorFilterSelectedElem="")},mousedown:function(){zgssearch.currCreatorFilterClickelem=this,zgssearch.isCurrCreatorFilterClickelem=!0}})},zgssearch.addMoreEventForFilterElem=function(){_jQueryGS("#zgs20_gsMoreFilterWidgetList .zgs19_gsModuleMoreFilterElemHolder").off().on({mousemove:function(){_jQueryGS(this).attr("soid")&&_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){_jQueryGS(this).attr("soid")&&zgssearch.hideMoreFilterElemIcon(this)}})},zgssearch.addEventForEditFieldsQueryBox=function(){_jQueryGS("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){zgssearch.isMouseStopped||_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){zgssearch.currEditFieldselecelem=this,_jQueryGS(".zgs19_gsEditFieldsRadio").prop("checked",!1),_jQueryGS(this).find(".zgs19_gsEditFieldsRadio").prop("checked",!0)}}),_jQueryGS("#zgs20_gsEditFieldsQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){zgssearch.searchForEditFields()}}),_jQueryGS("#zgs20_gsEditFieldsQrybox").focus()},zgssearch.addEventForMoreFilterQueryBox=function(targetId){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currFilterSelectedElem!=this&&(zgssearch.currFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currFilterSelectedElem="")},mousedown:function(){zgssearch.currMoreFilterClickelem=this,zgssearch.isCurrMoreFilterClickelem=!0}}),zgssearch.filterSearchQueryAction()},zgssearch.moreFilterCheckBoxAction=function(target,tarElem){var fkey=_jQueryGS(tarElem).attr("fkey"),isChecked=_jQueryGS(tarElem).find("input").prop("checked");isChecked=target&&"INPUT"==target.tagName?isChecked:!isChecked,_jQueryGS(tarElem).find("input").prop("checked",isChecked),zgssearch.curMoreFiltersList[fkey]=isChecked},zgssearch.addEventForFilterQueryBox=function(targetId){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currFilterSelectedElem!=this&&(zgssearch.currFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currFilterSelectedElem="")},mousedown:function(){zgssearch.currFilterClickelem=this,zgssearch.isCurrFilterClickelem=!0}}),zgssearch.filterSearchQueryAction()},zgssearch.checkCurrCurPos=function(event){var ccurpos=zgssearch.currcurpos,scurpos=zgssearch.getCursorPos(),ecurpos=zgssearch.getCursorEndPos(),query=zgssearch.getValue("zgs20_gsQueryBox"),keycode=event.keyCode?event.keyCode:event.which;scurpos==ecurpos?("click"!=event.type||zgssearch.isQueryValid(query)||zgssearch.gsautocomplete.isAutoSuggDisplay)&&("keyup"!=event.type||scurpos==ccurpos||zgssearch.specialkeys.LEFT!=keycode&&zgssearch.specialkeys.RIGHT!=keycode)||zgssearch.triggerAutoSuggestCall(event):zgssearch.removeQuerySugg()},zgssearch.triggerAutoSuggestCall=function(event){zgssearch.handleSearchCloseIcon(),zgssearch.currcurpos=zgssearch.getCursorPos(),zgssearch.hasOwnProperty("gsautocomplete")&&(zgssearch.updateQueryDiv(),event&&zgssearch.gsmousewheelevent(event)),zgssearch.hasOwnProperty("gsusercontacts")&&zgssearch.gsusercontacts.checkOrgThresholdLimit()},zgssearch.handleEmptySearchBox=function(){var service=zgssearch.getSearchType(),query=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.focus("zgs20_gsQueryBox"),zgssearch.isQueryValid(query)||GSConstant.ALL!=service||zgssearch.triggerAutoSuggestCall()},zgssearch.globalClickEventForOverlay=function(event){zgssearch.isZohoSearch||(zgssearch.isGSOpenedKeyUp=!1,zgssearch.toggleGlobalsearch(event))},zgssearch.savedSearchClickEventForOverlay=function(event){zgssearch.isZohoSearch||zgssearch.gsusersettings.hideSavedSearchDialog()},window.removeEventListener("resize",zgssearch.gsresizepage,!1),zgssearch.gsresizepage=function(event){var resizeTimeout;(zgssearch.hideDatePicker(),zgssearch.isZohoSearch)&&(zgssearch.hidetooltip(),resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,zgssearch.setGSElemSize(),zgssearch.setAllServiceEleSize(),zgssearch.setServicesFilterWidth()},70)))},window.addEventListener("resize",zgssearch.gsresizepage,!1),window.removeEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,!0),zgssearch.gsmousewheelevent=function(event){if(zgssearch.isGSOpened||zgssearch.isZohoSearch)switch(zgssearch.hidetooltip(),_jQueryGS(event.target).attr("gs")){case"gsQueryBox":setTimeout(function(){var sl=zgssearch.getQueryScrollLeft(event.target);_jQueryGS("#zgs20_gsQueryDiv").css("left",-Math.abs(sl))},10)}},window.addEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,!0),window.removeEventListener("message",zgssearch.receiveMessage,!0),zgssearch.receiveMessage=function(event){if((event.origin||event.originalEvent.origin)===GSConstant.GS_MAIL_URL){var data=event.data;if(data&&data.hasOwnProperty("close")&&1==data.close){_jQueryGS("#zgs20_gsMailActionHolder").empty().hide(),zgssearch.focus("zgs20_gsQueryBox");var service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),sid=zgssearch.mappedServiceList[service].id;_jQueryGS("#"+sid).show()}}},window.addEventListener("message",zgssearch.receiveMessage,!0),window.removeEventListener("click",zgssearch.globalClickEvent,!0),zgssearch.globalClickEvent=function(event){try{var ccode=event.which||"";if((zgssearch.isGSOpened||zgssearch.isZohoSearch)&&1==ccode){var target=event.target;switch(zgssearch.hideAllDropdownList(target),_jQueryGS(target).attr("gs")){case"feedback":zgssearch.gszohosearch.toggleFeedback();break;default:if(!zgssearch.getParentNode(target,"feedbackData")&&zgssearch.gszohosearch.isFeedbackOpened)return void zgssearch.gszohosearch.toggleFeedback()}}}catch(ex){}},window.addEventListener("click",zgssearch.globalClickEvent,!0),zgssearch.searchViewport.removeEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.scrollEvent=function(event){try{if(zgssearch.isGSOpened||zgssearch.isZohoSearch)switch(zgssearch.hidetooltip(),_jQueryGS(event.target).attr("gs")){case"serviceSpecificPage":var service_name=_jQueryGS(event.target).attr("service");zgssearch.toggleBacktoTop("zgs20_gs"+service_name+"Template"),zgssearch.modulePageScrollEvent("zgs20_gs"+service_name+"Template",event),zgssearch.stopEvent(event);break;case"multiPageHolder":service_name=_jQueryGS(event.target).attr("service");zgssearch.toggleBacktoTop("zgs20_MultiSearchPageHolder"),zgssearch.multiPageScrollEvent("zgs20_MultiSearchPageHolder",event),zgssearch.stopEvent(event);break;case"calloutFooter":var menuEl=zgssearch.getTargetElem("zgs20_gsMailCallout");menuEl&&(zgssearch.setGSTagElems(menuEl),zgssearch.setPosForToList(menuEl.tolink,"tolink"),zgssearch.stopEvent(event));break;default:var tarElem=zgssearch.getParentNode(event.target,"servListHolder");if(tarElem){var sdisplay=zgssearch.getTargetElem("zgs20_gsServListHolder").scrollHeight<=_jQueryGS(tarElem).scrollTop()+_jQueryGS(tarElem).height()?"none":"block";_jQueryGS("#zgs20_gsSerPanelShadow").css("display",sdisplay),zgssearch.stopEvent(event)}}}catch(ex){}},zgssearch.searchViewport.addEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.searchViewport.removeEventListener("click",zgssearch.clickEvent,!0),zgssearch.clickEvent=function(event){try{var url="",ccode=event.which||"";if((zgssearch.isGSOpened||zgssearch.isZohoSearch)&&1==ccode){var target=event.target;zgssearch.hideAllDropdownList(target);var resObj=zgssearch.getCurrentResObj(),action=_jQueryGS(target).attr("gs");switch(action){case"sendFeedback":zgssearch.gszohosearch.sendFeedbackValidation();break;case"myaccounts":zgssearch.gstopband.openAccount();break;case"userDetails":zgssearch.gstopband.toggleUserDetails();break;case"hamburger":zgssearch.gstopband.toggleHamburger();break;case"gsoverlay":zgssearch.globalClickEventForOverlay(event);break;case"gsssoverlay":zgssearch.savedSearchClickEventForOverlay(event);break;case"moveToAttachArea":var service=_jQueryGS(target).attr("service"),scallout=zgssearch.mappedServiceList[service].callout;zgssearch[scallout].moveToViewPort();break;case"ctitle":case"creatorApp":zgssearch.clickActionForCalloutTitle(target,event);break;case"actionlist":zgssearch.toggleCalloutActionList(target);break;case"mailsActionList":zgssearch.mailActionListOptions(target,resObj,event);break;case"docsActionList":zgssearch.docsActionListOptions(target,resObj,event);break;case"crmActionList":case"crmEditaction":zgssearch.crmActionListOptions(target,resObj,event);break;case"reportsActionList":zgssearch.reportsActionListOptions(target,event);break;case"contactsActionList":case"chatActionList":case"supportActionList":case"connectActionList":case"discActionList":case"wikiActionList":case"creatorActionList":zgssearch.actionListOptions(target,resObj,event);break;case"attachtitle":service=_jQueryGS(target).attr("service"),scallout=zgssearch.mappedServiceList[service].callout;zgssearch[scallout].downloadAttachment(target);break;case"maxpreview":service=_jQueryGS(target).attr("service");zgssearch.maxCalloutPreview(service,resObj);break;case"minpreview":service=_jQueryGS(target).attr("service");zgssearch.minCalloutPreview(service,resObj);break;case"docsdownload":zgssearch.gsdocs.downloadDocument(resObj);break;case"wikidownload":zgssearch.gswiki.openWikiResult(resObj,!0);break;case"backToTop":var searchType=zgssearch.getSearchType(),bttId=zgssearch.multiPageEnabled?"zgs20_MultiSearchPageHolder":"zgs20_gs"+searchType+"Template";_jQueryGS("#"+bttId).stop(!0).animate({scrollTop:0},250);break;case"serviceBand":case"serviceWidgetBand":service=_jQueryGS(target).attr("service");zgssearch.isArrayContain(service,zgssearch.serviceList)&&zgssearch.moreSearchResultPage(target,service);break;case"moreBand":var acc_id=_jQueryGS(target).attr("acc_id");service=_jQueryGS(target).attr("service");zgssearch.isServiceHasMoreResults(service,acc_id)&&zgssearch.moreSearchResultPage(target,service);break;case"contactsMore":service=_jQueryGS(target).attr("service"),scallout=zgssearch.mappedServiceList[service].callout;zgssearch[scallout].getContactsMoreInfo(resObj);break;case"contactsurl":url=_jQueryGS(target).attr("url"),window.open(url),zgssearch.stopEvent(event);break;case"continuechat":case"connectcontinuechat":zgssearch.chatAction(target,"continue",event);break;case"sendMail":zgssearch.startComposeMail(target,"email"),zgssearch.stopEvent(event);break;case"peopleprofile":url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(resObj.pkid||""),window.open(url);break;case"peopledept":url=GSConstant.GS_PEOPLE_URL+"/hr#organization/department/searchdepts-deptId:"+(resObj.deptid||""),window.open(url);break;case"people_reportingto":url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(resObj.reportpkid||""),window.open(url);break;case"advFilter":zgssearch.gsusersettings.displayMenuOption();break;case"savethissearch":zgssearch.gsusersettings.displaySavedSearchDialog();break;case"savedsearches":case"servicereorder":case"settingsfields":zgssearch.gsusersettings.renderSettingsPage(action,target);break;case"serviceOrderFields":case"savesearchFields":zgssearch.gsusersettings.userSettingsActions(target);case"searchSavedData":zgssearch.gsusersettings.peformSavedSearchedData(target);break;case"menuoption":zgssearch.clickActionForMenuOption(target);break;case"ext_img_text":zgssearch.gsmails.loadExtImg();break;case"gswmschat":zgssearch.chatAction(target,"chat",event);break;case"gswmsaudio":case"gswmsvideo":zgssearch.startAudioVideoCall(resObj,action,event);break;case"gswmsinvite":case"gswmsinvitezoho":zgssearch.chatAction(target,action,event);break;case"backToHome":zgssearch.showWelcomePage(),zgssearch.displayDefaultPage();break;case"crmmod":var module=_jQueryGS(target).attr("mod");zgssearch.filterThroughOptions(zgssearch.GSConstant.CRM,module,"modules","1",target);break;case"mailfolder":var folderId=_jQueryGS(target).attr("fId");zgssearch.filterThroughOptions(zgssearch.GSConstant.MAILS,folderId,"folders","4",target);break;case"deskModules":var moduleId=_jQueryGS(target).attr("fId");zgssearch.updateDepartmentInfoforDesk(zgssearch.GSConstant.SUPPORT,target),zgssearch.filterThroughOptions(zgssearch.GSConstant.SUPPORT,moduleId,"modules","3",target);break;case"deskDept":var depId=_jQueryGS(target).attr("fId");zgssearch.filterThroughOptions(zgssearch.GSConstant.SUPPORT,depId,"departments","3",target);break;default:if(zgssearch.isZohoSearch){tarElem=zgssearch.getParentNode(target,"hamburger");var childTarElem=zgssearch.getParentNode(target,"hamburgerData");(tarElem||!childTarElem&&zgssearch.gstopband.isAllappsOpened)&&zgssearch.gstopband.toggleHamburger(),tarElem=zgssearch.getParentNode(target,"userDetails"),childTarElem=zgssearch.getParentNode(target,"userData"),(tarElem||!childTarElem&&zgssearch.gstopband.isUserDetailsOpened)&&zgssearch.gstopband.toggleUserDetails()}var tarElem=zgssearch.getParentNode(target,"searchResultTable");if(tarElem&&tarElem!==zgssearch.curSelectedEle)return void zgssearch.highlightRes(tarElem.id);if(tarElem=zgssearch.getParentNode(target,"serviceLeftPanelMenu")){service=_jQueryGS(tarElem).attr("service");return void zgssearch.clickActionForServiceList(service)}if(tarElem=zgssearch.getParentNode(target,"defsearchicon"))return void zgssearch.handleDefaultSearch();if(tarElem=zgssearch.getParentNode(target,"tolink"))"none"===_jQueryGS("#zgs20_gsDropdownToList").css("display")?(zgssearch.setPosForToList(target,"tolink"),_jQueryGS("#zgs20_gsDropdownToList").show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsDropdownToList").scrollTop(0),_jQueryGS("#zgs20_gsDropdownToList").scrollLeft(0)):(_jQueryGS("#zgs20_gsDropdownToList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"));if(tarElem=zgssearch.getParentNode(target,"moreBlogCategory"))"none"===_jQueryGS("#zgs20_gsBlogCategoryList").css("display")?(zgssearch.setPosForToList(target,"moreBlogCategory"),_jQueryGS("#zgs20_gsBlogCategoryList").show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsBlogCategoryList").scrollTop(0),_jQueryGS("#zgs20_gsBlogCategoryList").scrollLeft(0)):(_jQueryGS("#zgs20_gsBlogCategoryList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"));if(tarElem=zgssearch.getParentNode(target,"mFilterWidget"))return void zgssearch.renderModuleFilterWidgetList(tarElem);if((tarElem=zgssearch.getParentNode(target,"more_filters"))&&zgssearch.renderMoreFilterWidgetList(tarElem),(tarElem=zgssearch.getParentNode(target,"moreFilterList"))&&zgssearch.renderMoreFilterInnerList(tarElem),tarElem=zgssearch.getParentNode(target,"moreFilterEditFields"))return void zgssearch.filterEditFieldsAction(tarElem);if(tarElem=zgssearch.getParentNode(target,"moreFiltercheckbox"))return void zgssearch.moreFilterCheckBoxAction(target,tarElem);if(tarElem=(tarElem=zgssearch.getParentNode(target,"CalloutEditFields"))||zgssearch.getParentNode(target,"ticketAction"))return void zgssearch.calloutEditFieldsAction(tarElem);if("A"==(tarElem=target.nodeName)){var ahref=_jQueryGS(target).attr("href");if(0==ahref.indexOf("mailto:"))return zgssearch.startComposeMail(target,"href"),void zgssearch.stopEvent(event);if(0==ahref.indexOf("http")){var windowopen=window.open();return windowopen.opener=null,windowopen.location=ahref,void zgssearch.stopEvent(event)}}if(zgssearch.isCurrFilterClickelem)return zgssearch.isCurrFilterClickelem=!1,void zgssearch.clickActionForWidgetList(zgssearch.currFilterClickelem);if(zgssearch.isCurrMoreFilterClickelem)return zgssearch.isCurrMoreFilterClickelem=!1,void zgssearch.clickActionForMoreInnerList(zgssearch.currMoreFilterClickelem)}}}catch(ex){}},zgssearch.searchViewport.addEventListener("click",zgssearch.clickEvent,!0),zgssearch.handleDefaultSearch=function(){zgssearch.focus("zgs20_gsQueryBox"),zgssearch.handleEmptySearchBox();var service_name=zgssearch.getSearchType(),query=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(query);if(zgssearch.isQueryValid(mquery)||zgssearch.isQueryHasFilters()){var nsearch_type=zgssearch.addserviceFilters(service_name);zgssearch.handleUserSearchQuery(mquery,nsearch_type)}else zgssearch.renderServiceFilterList(service_name)},zgssearch.updateDepartmentInfoforDesk=function(service,target){if("0"==zgssearch.getFilterInfo(service,"portals","current")){var gfObj=zgssearch.getFilterObj(service),accId=_jQueryGS(target).attr("acc_id"),mlist=zgssearch.getWidgetServiceList(service);accId||(accId=zgssearch.getFilterInfo(service,mlist.key,"current"));var departmentsData=gfObj.departments.data;if(departmentsData.hasOwnProperty(accId)){var departments=departmentsData[accId],soid="0";departments.hasOwnProperty("0")||(soid=_jQueryGS(target).attr("depId")),zgssearch.updateFilterInfo(service,"departments","current",soid),zgssearch.updateFilterInfo(service,"departments","dispname",departments[soid])}}},zgssearch.filterThroughOptions=function(service,key,fkey,ftype,target){_jQueryGS(target).attr("key",key),_jQueryGS(target).attr("fkey",fkey),_jQueryGS(target).attr("ftype",ftype);var oldServiceType=zgssearch.getSearchType();_jQueryGS("#"+("zgs20_gsServicePanelList"+oldServiceType)).removeClass("zgs19_gsSelectedServicepanelNew zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel"),zgssearch.setSearchType(service),zgssearch.clickActionForWidgetList(target)},zgssearch.getServiceName=function(service){var serviceURL="";return"writer"===service?serviceURL=GSConstant.GS_WRITER_URL:"sheet"===service?serviceURL=GSConstant.GS_SHEET_URL:"show"===service?serviceURL=GSConstant.GS_SHOW_URL:"explorer"===service&&(serviceURL=GSConstant.GS_EXPLORER_URL),serviceURL},zgssearch.isSupportedOpenFormat=function(fileType){return"image"===fileType||"docs"===fileType||"spreadsheet"===fileType||"presentation"===fileType},zgssearch.clickActionForCalloutTitle=function(target,event){var url="",resObj=zgssearch.getCurrentResObj();switch(_jQueryGS(target).attr("service")){case GSConstant.MAILS:var accountId=resObj.account_id,messageId=resObj.message_id;if("object"==typeof zmList&&zmList.hasOwnProperty("getMailData"))try{return zmList.getMailData({msgId:messageId,opentype:2,type:"lt",src:"external"}),void zgssearch.toggleGlobalsearch(event)}catch(ex){}url=GSConstant.GS_MAIL_URL+"/zm/popMail.do?accId="+accountId+"&msgId="+messageId;break;case GSConstant.DOCUMENTS:var docId=resObj.docid,shared=resObj.shared,fileType=resObj.doc_type,serviceName=resObj.service,isResourceId=""+resObj.is_resource_id,serviceURL=zgssearch.getServiceName(serviceName);if("true"===isResourceId)"show"===serviceName||"writer"===serviceName?url="/"+serviceName+"/open/"+docId:"explorer"===serviceName?url="folder"===fileType?"/"+fileType+"/"+docId:"/file/"+docId:"sheet"===serviceName&&(url="/"+serviceName+"/ropen.do?rid="+docId),serviceURL=zgssearch.getServiceName("explorer");else if("writer"===serviceName)url="/index.do?docId="+docId;else if("show"===serviceName)url="/Edit.do?P_ID="+docId;else if("sheet"===serviceName)url="/open.do?docid="+docId;else if("explorer"===serviceName){var fileName=resObj.doc_name,authorZUID=resObj.zuid;url=zgssearch.isSupportedOpenFormat(fileType)?"false"==shared?"/viewuploadeddoc.do?docId="+docId+"&ftype="+fileType+"&filename="+fileName+"&view=view":"/viewshareduploadeddoc.do?docId="+docId+"&ftype="+fileType+"&filename="+fileName+"&authorId="+authorZUID:"folder"===fileType?"/"+fileType+"/"+docId:"/file/"+docId}url=serviceURL+url;break;case GSConstant.PEOPLE:url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(resObj.pkid||"");break;case GSConstant.CHAT:zgssearch.chatAction(target,"continue",event);break;case GSConstant.SUPPORT:var moduleId=resObj.module_id,accId=zgssearch.getResultAccountId(),moduleName=zgssearch.gssupport.getUrlModuleName(moduleId),encryptedId="2"==moduleId?resObj.doc_id:resObj.encryptedId,portalObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"portals","data"),portalName=portalObj.hasOwnProperty(accId)?portalObj[accId]:"";url=GSConstant.GS_SUPPORT_URL+"/support/"+encodeURIComponent(portalName)+"/ShowHomePage.do#"+moduleName+"/dv/"+encryptedId;break;case GSConstant.CONNECT:url=resObj.url;break;case GSConstant.DISCUSSIONS:accId=zgssearch.getResultAccountId();url=zgssearch.discussionsURL[accId]+"?ftid="+resObj.fTId;break;case GSConstant.WIKI:zgssearch.gswiki.openWikiResult(resObj,!1);break;case GSConstant.CRM:url=zgssearch.crmRecordOpen(resObj);break;case GSConstant.REPORTS:url=zgssearch.gsreports.openReportsResult(resObj);break;case GSConstant.CREATOR:url=zgssearch.gscreator.openCreatorResult(resObj)}if(url){var windowopen=window.open();windowopen.opener=null,windowopen.location=url}},zgssearch.crmRecordOpen=function(resObj){var module=resObj.mod,entityId=resObj.id,fullModData=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules");if("Notes"===module){var relatedRec=zgssearch.gscrm.crmImpFieldsData.related_record;for(var mod in relatedRec)entityId=relatedRec[mod],module=mod}var moduleforURL=fullModData[module+"_url"];return GSConstant.GS_CRM_URL+"/crm/EntityInfo.do?module="+moduleforURL+"&id="+entityId},zgssearch.mailActionListOptions=function(target,resObj,event){var accountId=resObj.account_id,messageId=resObj.message_id,curRe=zgssearch.curSelectedEle;zgssearch.setGSTagElems(curRe);var value=_jQueryGS(target).attr("value");switch(value){case"open":zgssearch.clickActionForCalloutTitle(target,event);break;case"reply":case"replyall":case"fwdi":zgssearch.gsmails.mailReplyActionHandler(accountId,messageId,value);break;case"read":zgssearch.gsmails.toggleMailStatus(curRe,resObj,"markAsRead",target);break;case"unread":zgssearch.gsmails.toggleMailStatus(curRe,resObj,"markAsUnread",target)}},zgssearch.docsActionListOptions=function(target,resObj,event){var curRe=zgssearch.curSelectedEle;switch(zgssearch.setGSTagElems(curRe),_jQueryGS(target).attr("value")){case"open":zgssearch.clickActionForCalloutTitle(target,event);break;case"download":zgssearch.gsdocs.downloadDocument(resObj)}},zgssearch.crmActionListOptions=function(target,resObj,event){var curRe=zgssearch.curSelectedEle;switch(zgssearch.setGSTagElems(curRe),_jQueryGS(target).attr("value")){case"open":zgssearch.clickActionForCalloutTitle(target,event);break;case"edit":zgssearch.gscrm.EditCRMRecord(resObj)}},zgssearch.reportsActionListOptions=function(target,event){var curRe=zgssearch.curSelectedEle;switch(zgssearch.setGSTagElems(curRe),_jQueryGS(target).attr("value")){case"open":zgssearch.clickActionForCalloutTitle(target,event)}},zgssearch.actionListOptions=function(target,resObj,event){var value=_jQueryGS(target).attr("value");switch(value){case"open":zgssearch.clickActionForCalloutTitle(target,event);break;case"continue":zgssearch.chatAction(target,"continue",event);break;case"pcontinue":zgssearch.chatAction(target,"chat",event);break;case"download":zgssearch.gswiki.openWikiResult(resObj,!0);break;case"sendMail":zgssearch.startComposeMail(target,"email");break;case"audio":case"video":zgssearch.startAudioVideoCall(resObj,value,event)}},zgssearch.startComposeMail=function(target,key){var emailId=_jQueryGS(target).attr(key),serviceList=zgssearch.getServiceList();if(zgssearch.isArrayContain(GSConstant.MAILS,serviceList)){0==emailId.indexOf("mailto:")&&(emailId=emailId.substr("mailto:".length));var iframeSrc=GSConstant.GS_MAIL_URL+"/zm/comp.do?mode=compose&to="+emailId+"&frameorigin="+window.location.origin;zgssearch.gsmails.loadMailCalloutIframe(iframeSrc)}else{0!=emailId.indexOf("mailto:")&&(emailId="mailto:"+emailId);var windowopen=window.open();windowopen.opener=null,windowopen.location=emailId}},zgssearch.startAudioVideoCall=function(resObj,value,event){var czuid=resObj.zuid,isChatPaused=zgssearch.isWMSChatPaused(),hasWebMessanger="undefined"!=typeof WebMessanger;!isChatPaused&&hasWebMessanger&&czuid&&"-1"!=czuid?(zgssearch.toggleGlobalsearch(event),"audio"==value||"gswmsaudio"==value?WebMessanger.startAudioCall(czuid):WebMessanger.startVideoCall(czuid)):zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")})},zgssearch.chatAction=function(target,key,event){var chatid=_jQueryGS(target).attr("chatid"),isChatPaused=zgssearch.isWMSChatPaused(),menuEl=zgssearch.getTargetElem("zgs20_gsContactsCallout");if(zgssearch.setGSTagElems(menuEl),"continue"==key)if(isChatPaused)zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")});else{var chatId=zgssearch.getCurrentResObj().chat_id;zgssearch.toggleGlobalsearch(event),Chat.isExists(chatId)?WMSUI.handleChatExist(chatId):WebMessanger.continueChat(chatId)}else if("chat"==key)isChatPaused?zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")}):(zgssearch.toggleGlobalsearch(event),WebMessanger.chat(chatid));else if("gswmsinvite"==key||"gswmsinvitezoho"==key){var curlogid=GSConstant.cuz,curRes=zgssearch.getCurrentResObj();if(curRes.hasOwnProperty("contact_id")){var url="/zgssearch/api/v1/accounts/"+curlogid+"/contacts/"+curRes.contact_id+"/invite";zgssearch.uri(zgssearch.POST,url,"","",function(data){200==zgssearch.jsonParse(data).status_code&&("gswmsinvitezoho"==key?(curRes.status="-11",_jQueryGS(menuEl.gswmsinvitezoho).hide(),_jQueryGS(menuEl.gswmspendzoho).show()):(curRes.status="-1",_jQueryGS(menuEl.gswmsinvite).hide(),_jQueryGS(menuEl.gswmspend).show()))})}else if(isChatPaused)zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")});else{curlogid=GSConstant.cuz;WmsContacts.add("zoho",chatid,curlogid),_jQueryGS(menuEl.gswmsinvitezoho).hide(),_jQueryGS(menuEl.gswmsinvite).hide(),_jQueryGS(menuEl.gswmspend).show()}}},zgssearch.handleMultiPageScroll=function(search_type,set){var query=zgssearch.getValue("zgs20_gsQueryBox");if(zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),search_type=zgssearch.addserviceFilters(search_type),query=zgssearch.gsautocomplete.getautosearchQuery(query),zgssearch.isValidSearchQuery(query,search_type))zgssearch.handleUserSearchQuery(query,search_type);else{zgssearch.multiStartSet=parseInt(set);var searchQuery=encodeURIComponent(query),url=zgssearch.domainURL+zgssearch.getServiceSpecificURL(search_type);url+="&query="+searchQuery+"&search_type="+search_type+"&startSet="+set+"&is_scroll=true&no_of_results="+zgssearch.fetchResCount+zgssearch.addqueryFilters(),zgssearch.scrollSearch||(zgssearch.addScrollLoader("zgs20_MultiSearchPageHolder"),zgssearch.multiResCount=0,zgssearch.scrollSearch=!0,zgssearch.hideSearchPageLoader(),zgssearch.getSearchResults(url))}},zgssearch.setSearchBoxPlaceHolder(),zgssearch.setSearchBtnAndVal(),zgssearch.isZohoSearch&&zgssearch.setWMSZIndex()}(zgssearch,window),function(zgssearch,window){var gsautocomplete,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsautocomplete=(gsautocomplete=void 0,(gsautocomplete=zgssearch.gsautocomplete||{}).modifiers=gsautocomplete.modifiers||{},gsautocomplete.queryFilters=gsautocomplete.queryFilters||{},gsautocomplete.queryFiltersMap=gsautocomplete.queryFiltersMap||{},gsautocomplete.queryFiltersIndex=gsautocomplete.queryFiltersIndex||{},gsautocomplete.recentSearchesHolder=gsautocomplete.recentSearchesHolder||[],gsautocomplete.lastSavedIndex=gsautocomplete.lastSavedIndex||-1,gsautocomplete.suggestindex=gsautocomplete.suggestindex||-1,gsautocomplete.querymodifiers=["services","users","recentsearch"],gsautocomplete.modifiers.services={symbol:"#",icon:"zgs19_gsHeaderApps",msg:"gs.search.sugg.service"},gsautocomplete.modifiers.users={symbol:"@",icon:"zgs19_gsHeaderContacts",msg:"gs.search.sugg.user"},gsautocomplete.modifiers.recentsearch={symbol:" ",icon:"zgs19_gsHeaderRecSearch",msg:"gs.search.sugg.recent"},gsautocomplete.encode_suggestion={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},gsautocomplete.decode_suggestion={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"},gsautocomplete.encode_sugg_regex=/[<>&"']/g,gsautocomplete.decode_sugg_regex=/&lt;|&gt;|&amp;|&quot;|&#39;/g,gsautocomplete.regex_replacer=/[!@#$%^&*()+=\-[\]\\';,./{}|":<>?~_]/gi,gsautocomplete.asMin=gsautocomplete.asMin||3,gsautocomplete.asMax=gsautocomplete.asMax||10,gsautocomplete.asLimit=gsautocomplete.asLimit||100,gsautocomplete.asMatchedObj=gsautocomplete.asMatchedObj||[],gsautocomplete.add=function(key,arr){gsautocomplete[key]=arr},gsautocomplete.get=function(key){return gsautocomplete[key]||[]},gsautocomplete.setQryFilters=function(key,id){gsautocomplete.queryFilters[key]=id},gsautocomplete.setQryFiltersMap=function(key,value){gsautocomplete.queryFiltersMap[key]=value},gsautocomplete.initServiceList=function(){if(zgssearch.hasOwnProperty("getServiceList")){for(var aobj={},slist=zgssearch.getServiceList()||[],mlist=zgssearch.getMappedServiceList()||{},oList=zgssearch.getOrderedServiceList()||{},i=0;i<oList.length;i++){var sname=oList[i];zgssearch.isArrayContain(sname,slist)&&mlist.hasOwnProperty(sname)&&(aobj[sname]=mlist[sname].displayName)}if(gsautocomplete.add("services",aobj),GSConstant.cun||GSConstant.cue){var userObj={};userObj[GSConstant.cuz]={USERID:GSConstant.cuz,DNAME:GSConstant.cun||"",EMAILID:GSConstant.cue||"",UC:0},gsautocomplete.add("users",userObj)}zgssearch.handleEmptySearchBox()}},gsautocomplete.findMatchedData=function(type,pquery){return"users"==type?gsautocomplete.contactssearch(type,pquery):"recentsearch"==type?gsautocomplete.recentSearchMatches(type):gsautocomplete.defaultsearch(type,pquery)},gsautocomplete.recentSearchMatches=function(type){var matches=[],tstart=0,tObj=gsautocomplete.get(type),curPos=zgssearch.getCursorPos(),query=zgssearch.getValue("zgs20_gsQueryBox");if(tObj instanceof Object&&!zgssearch.isQueryHasFiltersSelected()&&query.length==curPos)for(var dn=query.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),index=0;index<tObj.length;index++){var oriMat=tObj[index].search(myReg);if(-1<oriMat&&gsautocomplete.asLimit>tstart&&(tstart++,matches.push([index,oriMat])),gsautocomplete.asLimit==tstart)break}return matches},gsautocomplete.defaultsearch=function(type,query){var matches={},tstart=0,tObj=gsautocomplete.get(type);if(query==gsautocomplete.modifiers.services.symbol)return gsautocomplete.defaultservicelist(tObj);var dn=query.substr(1,query.length).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");for(var sname in tObj){var mat=tObj[sname].search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[sname]=mat),gsautocomplete.asLimit==tstart)break}return gsautocomplete.getSortedMatches(matches)},gsautocomplete.contactssearch=function(type,query){var maxLength=gsautocomplete.asLimit,luserObj=gsautocomplete.get(type),mquery=query.substr(1,query.length),wuserObj=zgssearch.gsusercontacts.getUserContacts(),userObj=_jQueryGS.extend({},wuserObj,luserObj),finalArray=gsautocomplete.usersearch(mquery,userObj,{},maxLength),nLength=finalArray.length;if(nLength<maxLength){var remainLength=maxLength-nLength,orgContacts=zgssearch.gsusercontacts.getOrgContactsList(),matchedOrgArr=gsautocomplete.usersearch(mquery,orgContacts,userObj,remainLength);finalArray=[].concat(finalArray,matchedOrgArr)}var flength=finalArray.length;return flength=maxLength<flength?maxLength:flength,0<(finalArray=finalArray.slice(0,flength)).length&&finalArray.length<10&&2<mquery.length&&zgssearch.gsusercontacts.fetchFromServer(mquery),finalArray},gsautocomplete.usersearch=function(mquery,userObj,personalObj,maxLength){var nameArr=[],emailArr=[];if(!_jQueryGS.isEmptyObject(userObj))for(var userList=gsautocomplete.getSortedByUsgaeCount(userObj),ui=0;ui<userList.length;ui++){var uid=userList[ui][0];if(!isNaN(uid)&&!personalObj.hasOwnProperty(uid)){var uobj=userObj[uid];if(uobj.DNAME&&uobj.EMAILID){var dname=zgssearch.replaceHTMLEntity(uobj.DNAME),email=zgssearch.replaceHTMLEntity(uobj.EMAILID),dn=mquery.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),mat=dname.search(myReg);if(-1<mat)nameArr.push([uid,mat]);else{var emailReg=new RegExp(dn,"i");-1<(mat=email.search(emailReg))&&emailArr.push([uid,mat])}if(nameArr.length==maxLength)break}}}return[].concat(nameArr,emailArr)},gsautocomplete.getSortedMatches=function(matches){var sortmatches=[];if(!_jQueryGS.isEmptyObject(matches)){for(var rn in matches)sortmatches.push([rn,matches[rn]]);sortmatches.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortmatches},gsautocomplete.getSortedByUsgaeCount=function(object){var sortmatches=[];if(!_jQueryGS.isEmptyObject(object)){for(var rn in object){var uc=object[rn].UC||"0";sortmatches.push([rn,parseInt(uc)])}sortmatches.sort(function(a,b){return b[1]>a[1]?1:b[1]<a[1]?-1:0})}return sortmatches},gsautocomplete.defaultservicelist=function(tObj){var sortmatches=[];for(var sname in tObj)sortmatches.push([sname,0]);return sortmatches},gsautocomplete.gethighlighttext=function(miname,pquery,isEmail,startIndex){var hobj={prefix:miname,isMatched:!1},qlen=pquery.length,index=null!=startIndex?startIndex:1,query=pquery.substr(index,qlen);if(0<qlen){var dn=query.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=isEmail?new RegExp(dn,"i"):new RegExp("(^"+dn+"|\\s"+dn+")","i"),mind=miname.search(myReg);-1<mind&&miname.replace(myReg,function(macth){hobj.isMatched=!0,hobj.prefix=miname.substr(0,mind),hobj.match=miname.substr(mind,macth.length),hobj.suffix=miname.substr(mind+macth.length,miname.length)})}return hobj},gsautocomplete.renderDefaultHeader=function(){var query=zgssearch.getValue("zgs20_gsQueryBox"),dhl=zgssearch.getI18NMsg("gs.search.service_search_for"),dhe=zgssearch.getI18NMsg("gs.search.service_search_enter");_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{class:"zgs19_gsDefaultHeader zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultLabel zgs19_gsfl zgs19_gsOverflow",title:dhl}).text(dhl)).append(_jQueryGS("<span>",{class:"zgs19_gsfl",style:"font-weight:bold"}).text('"')).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultQuery zgs19_gsfl zgs19_gsOverflow",title:query}).text(query)).append(_jQueryGS("<span>",{class:"zgs19_gsfl",style:"font-weight:bold"}).text('"')).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultEnter zgs19_gsfr zgs19_gsOverflow",title:dhe}).text(dhe)))},gsautocomplete.renderSectionHeader=function(key){var sicon=gsautocomplete.modifiers[key].icon,stitle=gsautocomplete.modifiers[key].msg,htitle=zgssearch.getI18NMsg(stitle);_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{class:"zgs19_gsSectionHeaderNew"}).append(_jQueryGS("<span>",{class:"zgs19_gsSecHeaderKey zgs19_gsResultsUniIcons zgs19_gsfl "+sicon})).append(_jQueryGS("<span>",{class:"zgs19_gsSecHeaderVal zgs19_gsFtWeightBold zgs19_gsfl",title:htitle}).text(htitle)))},gsautocomplete.renderAutoSuggList=function(obj){"users"==obj.key?(gsautocomplete.renderSectionHeader(obj.key),gsautocomplete.renderUsersuggestList(obj)):(gsautocomplete.renderSectionHeader(obj.key),gsautocomplete.rendersuggestList(obj)),gsautocomplete.locateAutoSuggList(obj.squery,obj.key)},gsautocomplete.rendersuggestList=function(matchObj){var i=matchObj.start,rindex=i+matchObj.max,key=matchObj.key,hold=matchObj.value,matches=matchObj.matches,length=matchObj.length,pquery=matchObj.pquery;"recentsearch"==key&&(pquery=hold+zgssearch.getValue("zgs20_gsQueryBox"));var tObj=gsautocomplete.get(key);for(_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{id:"zgs20_gsQuerySugg_"+key}));i<length&&i<rindex;i++){var mi0=matches[i][0];if(tObj.hasOwnProperty(mi0)){var rname=tObj[mi0],ii=gsautocomplete.getSuggestIndex(),hobj=gsautocomplete.gethighlighttext(rname,pquery,!1),unhigh=hobj.suffix?hobj.suffix:"",highclass=0==i?"zgs19_gsFtWeightBold":"";_jQueryGS("#zgs20_gsQuerySugg_"+key).append(_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChild"+ii,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySuggch zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsCurPointer",index:ii,key:key,hold:hold,unhigh:unhigh,value:mi0}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildName"+ii,class:"zgs19_gsAutoSuggChildName "+highclass,title:rname})));var docFragment=zgssearch.gssecurity.getHighlightTextNode(hobj.prefix,hobj.match,hobj.suffix,{class:"zgs19_gshighlight"});zgssearch.getTargetElem("zgs20_gsAutoSuggChildName"+ii).appendChild(docFragment)}}if(rindex<length){var showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore");_jQueryGS("#zgs20_gsQuerySugg_"+key).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:i}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",title:showMore}).text(showMore)))}},gsautocomplete.renderLoadingIcon=function(selectext){gsautocomplete.showLoadingIcon=!0;var loadericon=zgssearch.getFourDotLoader("zgs20_gsAutoSuggestLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsQuerySugg").empty().append(loadericon),gsautocomplete.locateAutoSuggList(selectext)},gsautocomplete.renderUsersuggestList=function(matchObj){var j=matchObj.start,rindex=j+matchObj.max,key=matchObj.key,hold=matchObj.value,matches=matchObj.matches,pquery=matchObj.pquery,length=matchObj.length,luserObj=gsautocomplete.get("users"),wuserObj=zgssearch.gsusercontacts.getUserContacts(),orgContacts=zgssearch.gsusercontacts.getOrgContactsList(),userObj=_jQueryGS.extend({},orgContacts,wuserObj,luserObj);for(_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{id:"zgs20_gsQuerySugg_"+key}));j<length&&j<rindex;j++){var uid=matches[j][0],i=gsautocomplete.getSuggestIndex();if(userObj.hasOwnProperty(uid)){var name=zgssearch.replaceHTMLEntity(userObj[uid].DNAME),email=zgssearch.replaceHTMLEntity(userObj[uid].EMAILID),nobj=gsautocomplete.gethighlighttext(name,pquery,!1),unhigh=nobj.suffix?nobj.suffix:"",serCount=_jQueryGS(".zgs19_gsAutoSuggChild").length,highclass=0==j&&serCount<=0?"zgs19_gsFtWeightBold":"",chelem=_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChild"+i,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:i,key:key,hold:hold,unhigh:unhigh,value:uid}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildName"+i,class:"zgs19_gsAutoSuggChildName "+highclass,title:name}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildEmail"+i,title:email})))));_jQueryGS("#zgs20_gsQuerySugg_"+key).append(chelem);var attr={class:"zgs19_gshighlight"},nameFragment=zgssearch.gssecurity.getHighlightTextNode(nobj.prefix,nobj.match,nobj.suffix,attr);zgssearch.getTargetElem("zgs20_gsAutoSuggChildName"+i).appendChild(nameFragment);var eobj=0==nobj.isMatched?gsautocomplete.gethighlighttext(email,pquery,!0):{prefix:email},emailFragment=zgssearch.gssecurity.getHighlightTextNode(eobj.prefix,eobj.match,eobj.suffix,attr);zgssearch.getTargetElem("zgs20_gsAutoSuggChildEmail"+i).appendChild(emailFragment);var photoURL="";uid&&"-1"!==uid?(photoURL=zgssearch.getThumbPhotoURL(uid),zgssearch.updateUserPhoto("zgs20_gsAutoSuggChild"+i,photoURL)):zgssearch.loadResNoPhotoImg("zgs20_gsAutoSuggChild"+i)}}if(rindex<length){var showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore");_jQueryGS("#zgs20_gsQuerySugg_"+key).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:j}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",title:showMore}).text(showMore)))}},gsautocomplete.getSuggestIndex=function(){return gsautocomplete.suggestindex++,500<gsautocomplete.suggestindex&&(gsautocomplete.suggestindex=0),gsautocomplete.suggestindex},gsautocomplete.locateAutoSuggList=function(selectext,key){gsautocomplete.isAutoSuggDisplay=!0,_jQueryGS("#zgs20_gsQuerySugg").show(),_jQueryGS("#zgs20_gsQuerySugg").scrollTop(0),_jQueryGS("#zgs20_gsQuerySugg").scrollLeft(0),_jQueryGS("#zgs20_gsQuerySugg").css("overflow-y","auto"),_jQueryGS("#zgs20_gsQuerySugg").css("overflow-x","hidden"),zgssearch.jqueryMouseEvent();var swid=_jQueryGS("#zgs20_gsQuerySugg").width(),qwid=_jQueryGS("#zgs20_gsQueryBox").outerWidth(),inputelem=zgssearch.getTargetElem("zgs20_gsQueryBox"),rwid=zgssearch.getQueryScrollLeft(inputelem);selectext&&(rwid=zgssearch.getWidthOfText(selectext,qwid)-rwid),rwid=qwid<rwid+swid?qwid-swid:rwid,"recentsearch"==key&&(rwid=0),_jQueryGS("#zgs20_gsQuerySugg").css("left",rwid),_jQueryGS("#zgs20_gsDummyQueryDiv").remove()},gsautocomplete.showMoreAutoSugges=function(target){var parent=target.parentNode;if(parent){var matches=gsautocomplete.asMatchedObj||[],key=_jQueryGS(parent).attr("key"),lindex=_jQueryGS(parent).attr("lindex");lindex=parseInt(lindex);var mlen=matches.length;if(0<mlen){parent.remove();for(var m=0;m<mlen;m++){var mobj=matches[m]||{};if(mobj.key==key){mobj.start=lindex,mobj.max=gsautocomplete.asMax,"users"==mobj.key?gsautocomplete.renderUsersuggestList(mobj):gsautocomplete.rendersuggestList(mobj),zgssearch.jqueryMouseEvent();break}}}}},gsautocomplete.updatesuggtext=function(){var curpos=zgssearch.getCursorPos();_jQueryGS(".zgs19_gssuggtext").remove();var childLength=_jQueryGS(".zgs19_gsAutoSuggChild").length,query=zgssearch.getValue("zgs20_gsQueryBox");if(curpos==query.length&&0<childLength&&gsautocomplete.isAutoSuggDisplay&&zgssearch.isQueryValid(query)){var curelem=gsautocomplete.currselecelem;if(!curelem){var tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id");curelem=zgssearch.getTargetElem(tid)}var isRecentSearch=_jQueryGS(curelem).attr("isRecentSearch"),vunhigh=_jQueryGS(curelem).attr("unhigh"),tabtext=zgssearch.getI18NMsg("gs.search.sugg.tab"),tabpress="  ("+zgssearch.getI18NMsg("gs.search.sugg.press")+" ",tabtoselect=" "+zgssearch.getI18NMsg("gs.search.sugg.toselect")+")",tabelem=_jQueryGS("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox",style:"font-size: 14px;"}).append(_jQueryGS("<span>").text(tabpress)).append(_jQueryGS("<span>",{class:"zgs19_gssuggtab"}).text(tabtext)).append(_jQueryGS("<span>").text(tabtoselect));isRecentSearch&&(tabelem=""),_jQueryGS("#zgs20_gsQueryDiv").append(_jQueryGS("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox"}).text(vunhigh)).append(tabelem)}},gsautocomplete.updateautosuggest=function(target){var key=_jQueryGS(target).attr("key"),hold=_jQueryGS(target).attr("hold"),value=_jQueryGS(target).attr("value"),query=zgssearch.getValue("zgs20_gsQueryBox"),finalObj=gsautocomplete.get(key),mod=gsautocomplete.modifiers[key].symbol,name="";if("users"==key){var wuserObj=zgssearch.gsusercontacts.getUserContacts(),orgContacts=zgssearch.gsusercontacts.getOrgContactsList();finalObj=_jQueryGS.extend({},orgContacts,wuserObj,finalObj),name=zgssearch.replaceHTMLEntity(finalObj[value].DNAME)}else name=finalObj[value];if(finalObj.hasOwnProperty(value)||-1<finalObj.indexOf(value)){var curpos=zgssearch.getCursorPos(),selectext=query.substr(0,curpos),lhindex=gsautocomplete.getLastSavedIndex(selectext,hold),qtext=mod+name;0<=lhindex&&(" "==query[lhindex]&&lhindex<curpos&&(lhindex+=1),qtext=" "!=query[lhindex]?" "+qtext:qtext,0!=lhindex&&(qtext=" "!=query[lhindex-1]?" "+qtext:qtext),qtext=" "!=query[curpos]?qtext+" ":qtext,qtext=" "!=query[curpos+1]?qtext+" ":qtext);var lpos=-1<lhindex?lhindex+qtext.length:qtext.length;query=query.substr(0,lhindex)+qtext+query.substr(curpos,query.length),_jQueryGS("#zgs20_gsQueryBox").val(query),_jQueryGS("#zgs20_gsQueryDiv").text(query),zgssearch.setCursorPos(lpos),zgssearch.removeQuerySugg(),"recentsearch"!=key&&(gsautocomplete.setQryFilters(key,value),gsautocomplete.setQryFiltersMap(key,name),gsautocomplete.parseQueryDiv()),"recentsearch"==key?gsautocomplete.handleRecentSearch(name):"users"==key?gsautocomplete.handleSuggestionSearch():zgssearch.triggerAutoSuggestCall()}},gsautocomplete.handleRecentSearch=function(query){_jQueryGS("#zgs20_gsQueryBox").val(query),gsautocomplete.handleSuggestionSearch()},gsautocomplete.handleSuggestionSearch=function(){zgssearch.removeQuerySugg();var query=zgssearch.getValue("zgs20_gsQueryBox");gsautocomplete.checkQueryFilterExists("services"),gsautocomplete.checkQueryFilterExists("users");var search_type=zgssearch.getSearchType(),nsearch_type=zgssearch.addserviceFilters(search_type);query=zgssearch.gsautocomplete.getautosearchQuery(query),zgssearch.currcurpos=zgssearch.getCursorPos(),zgssearch.isValidSearchQuery(query,nsearch_type)&&zgssearch.handleUserSearchQuery(query,nsearch_type)},gsautocomplete.getRecentAutosearchQuery=function(tquery){var qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap;for(var type in qfObj){var mod=gsautocomplete.modifiers[type].symbol;if(qfmObj.hasOwnProperty(type)){var dn=(mod+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+dn+"\\s|\\s"+dn+"\\s|\\s"+dn+"$|^"+dn+"$)");tquery=tquery.replace(reg,"")}}return tquery},gsautocomplete.getautosearchQuery=function(tquery){var qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap;for(var type in qfObj){var mod=gsautocomplete.modifiers[type].symbol;if(qfmObj.hasOwnProperty(type)){var dn=(mod+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+dn+"\\s|\\s"+dn+"\\s|\\s"+dn+"$|^"+dn+"$)");tquery=tquery.replace(reg," ")}}return tquery},gsautocomplete.checkQueryFilterExists=function(type,newdata){var curpos=zgssearch.getCursorEndPos(),qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,mod=gsautocomplete.modifiers[type].symbol,tquery=zgssearch.getValue("zgs20_gsQueryBox");if(qfObj.hasOwnProperty(type)&&qfmObj.hasOwnProperty(type)){var dn=(mod+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"\\s|\\s"+dn+"\\s|\\s"+dn+"$|^"+dn+"$)","i");if(-1<tquery.search(myReg)){if(newdata){var tObj=gsautocomplete.get(type);if(tObj.hasOwnProperty(newdata)){var tdisp=tObj[newdata];tquery=tquery.replace(myReg,function(match){return gsautocomplete.setQryFilters(type,newdata),gsautocomplete.setQryFiltersMap(type,tdisp),match.replace(new RegExp(dn,"i"),"#"+tdisp)})}}}else delete qfObj[type],delete qfmObj[type]}_jQueryGS("#zgs20_gsQueryBox").val(tquery),_jQueryGS("#zgs20_gsQueryDiv").text(tquery),zgssearch.setCursorPos(curpos),gsautocomplete.parseQueryDiv()},gsautocomplete.parseQueryDiv=function(){gsautocomplete.storeIndexOfSugg();for(var qfsArr=gsautocomplete.getSortQryFilters(),docFragment=document.createDocumentFragment(),tquery=zgssearch.getValue("zgs20_gsQueryBox"),index=0,qfsLen=qfsArr.length,i=0;i<qfsLen;i++){var finnerObj=qfsArr[i],fkey=finnerObj[0],fscurpos=finnerObj[1],fecurpos=finnerObj[2],prefix=tquery.substr(index,fscurpos-index),match=tquery.substr(fscurpos,fecurpos-fscurpos),attr={class:"zgs19_gsmatchwordNew zgs19_gsuserselnone zgs19_gsBorderBox",gs:"gsmatchword",key:fkey},filterFragment=zgssearch.gssecurity.getHighlightTextNode(prefix,match,"",attr);docFragment.appendChild(filterFragment),index=fecurpos}var tqlen=tquery.length;if(index<tqlen){var fqterm=tquery.substr(index,tqlen-index);filterFragment=zgssearch.gssecurity.getHighlightTextNode(fqterm,"","",""),docFragment.appendChild(filterFragment)}var tElem=zgssearch.getTargetElem("zgs20_gsQueryDiv");tElem.innerHTML="",tElem.appendChild(docFragment)},gsautocomplete.getSortQryFilters=function(){var sortFilters=[],qfObj=gsautocomplete.queryFiltersIndex;if(!_jQueryGS.isEmptyObject(qfObj)){for(var rn in qfObj){var rnObj=qfObj[rn];sortFilters.push([rn,rnObj.ascurpos,rnObj.aecurpos])}sortFilters.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortFilters},gsautocomplete.updateSearchBox=function(query,resType){var curpos=zgssearch.getCursorPos(),stext=query.substr(0,curpos);gsautocomplete.checkQueryFilterExists("users"),gsautocomplete.checkQueryFilterExists("services");var lastindex=-1;gsautocomplete.asMatchedObj=[];for(var aqryfilters=gsautocomplete.queryFilters,amodifier=gsautocomplete.querymodifiers,isMatched=!1,aml=amodifier.length,i=0;i<aml;i++){var mi0=amodifier[i],mi1=gsautocomplete.modifiers[mi0].symbol,lind=stext.lastIndexOf(mi1);if(zgssearch.isQueryValid(stext)&&-1<lind&&!aqryfilters.hasOwnProperty(mi0)&&(canshow=0==lind||" "==stext[lind-1])){var squery=stext.substr(0,lind-1),pquery=stext.substr(lind,curpos),hmleng=(hmatches=gsautocomplete.findMatchedData(mi0,pquery)).length;if(0<hmleng){isMatched=!0;var fobj={key:mi0,value:mi1,matches:hmatches,pquery:pquery,squery:squery,length:hmleng,max:gsautocomplete.asMax,start:0};gsautocomplete.setLastSavedIndex(lind),gsautocomplete.asMatchedObj.push(fobj),gsautocomplete.renderAutoSuggList(fobj);break}}}var lsindex=gsautocomplete.getLastSavedIndex(),lindex=gsautocomplete.getLastIndexOfFilters(),tlindex=lindex<=lsindex&&lsindex<=curpos?lsindex:lindex;if(curpos<=tlindex){var tempindex=stext.lastIndexOf(" ");lindex=lindex<=(tempindex=-1<tempindex?tempindex:0)&&tempindex<=curpos?tempindex:lindex}else lindex=tlindex;var canshow=0==lindex||" "==stext[lindex];lindex=" "==stext[lindex]?lindex+1:lindex;var squrey2=stext.substr(lindex,curpos);if(!isMatched&&canshow){for(var shmatches=[],j=0;j<aml;j++){var hmatches;if(mi0=amodifier[j],mi1=gsautocomplete.modifiers[mi0].symbol,!aqryfilters.hasOwnProperty(mi0))pquery=mi1+squrey2,0<(hmatches=gsautocomplete.findMatchedData(mi0,pquery)).length&&shmatches.push([mi0,hmatches])}var shmlen=shmatches.length;if(0<shmlen){isMatched=!0;var tempMax=1==shmlen?gsautocomplete.asMax:gsautocomplete.asMin;lastindex=""==squrey2?stext.length:stext.lastIndexOf(squrey2),squery=stext.substr(0,lastindex),pquery=" "+squrey2;for(var k=0;k<shmlen;k++){var ami=shmatches[k],lhmatches=(mi0=ami[0],ami[1]);fobj={key:mi0,value:" ",matches:lhmatches,pquery:pquery,squery:squery,length:lhmatches.length,max:tempMax,start:0},gsautocomplete.asMatchedObj.push(fobj),gsautocomplete.renderAutoSuggList(fobj)}lastindex=0==lindex||" "==stext[lastindex]?lastindex:lastindex-1,gsautocomplete.setLastSavedIndex(lastindex)}}if(!isMatched){zgssearch.removeQuerySugg();var lsquery="",llind=0,miUser=gsautocomplete.modifiers.users;"serverResponse"==resType||"localResponse"==resType?(lastindex=stext.lastIndexOf(" "),gsautocomplete.setLastSavedIndex(lastindex),"serverResponse"==resType&&gsautocomplete.updateSearchBox(query)):zgssearch.isQueryValid(squrey2)&&(squrey2[0]==miUser.symbol?(llind=stext.lastIndexOf(miUser.symbol),lsquery=stext.substr(0,llind-1),squrey2=squrey2.substr(1,squrey2.length)):(llind=stext.lastIndexOf(squrey2),lsquery=stext.substr(0,llind)),!zgssearch.gsusercontacts.isSearchReqCached(squrey2)&&!aqryfilters.hasOwnProperty("users")&&2<squrey2.length?(gsautocomplete.renderLoadingIcon(lsquery),zgssearch.gsusercontacts.fetchFromServer(squrey2)):(lastindex=stext.lastIndexOf(" "),gsautocomplete.setLastSavedIndex(lastindex),gsautocomplete.updateSearchBox(query,"localResponse")))}},gsautocomplete.getLastIndexOfFilters=function(){var ccurpos=zgssearch.getCursorPos(),qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,tquery=zgssearch.getValue("zgs20_gsQueryBox"),lind=0;for(var type in qfObj){var mod=gsautocomplete.modifiers[type].symbol;if(qfmObj.hasOwnProperty(type)){var tempdn=mod+qfmObj[type],tlind=tquery.indexOf(tempdn);-1<tlind&&lind<=(tlind+=tempdn.length+1)&&tlind<=ccurpos&&(lind=tlind)}}return lind},gsautocomplete.setLastSavedIndex=function(index){gsautocomplete.lastSavedIndex=index},gsautocomplete.getLastSavedIndex=function(text,symbol){var lsindex=gsautocomplete.lastSavedIndex;return symbol&&-1==lsindex&&(lsindex=text.lastIndexOf(symbol)),lsindex},gsautocomplete.setFiltersIndex=function(type,indexObj){gsautocomplete.queryFiltersIndex[type]=indexObj},gsautocomplete.getFiltersIndex=function(){return gsautocomplete.queryFiltersIndex},gsautocomplete.storeIndexOfSugg=function(){var qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,tquery=zgssearch.getValue("zgs20_gsQueryBox");for(var type in qfObj){var tyobj={},mod=gsautocomplete.modifiers[type].symbol;if(qfmObj.hasOwnProperty(type)){var dn=(mod+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+dn+"\\s|\\s"+dn+"\\s|\\s"+dn+"$|^"+dn+"$)"),tscurpos=tquery.search(reg);-1<tscurpos&&tquery.replace(reg,function(macth){tyobj.ascurpos=tscurpos,tyobj.aecurpos=tscurpos+macth.length,gsautocomplete.setFiltersIndex(type,tyobj)})}}var filterObj=gsautocomplete.getFiltersIndex();for(var type in filterObj)qfObj.hasOwnProperty(type)||delete filterObj[type]},gsautocomplete.removeFullSugg=function(event){var sival=-1,eival=-1,scurpos=zgssearch.getCursorPos(),ecurpos=zgssearch.getCursorEndPos(),filterObj=gsautocomplete.getFiltersIndex(),keycode=event.keyCode?event.keyCode:event.which;for(var type in filterObj){var tyObj=filterObj[type],tascurpos=tyObj.ascurpos,taecurpos=tyObj.aecurpos;if(-1<tascurpos&&-1<taecurpos){var isDelete=!1;if(scurpos==ecurpos?keycode==zgssearch.specialkeys.BACKSPACE?isDelete=tascurpos<scurpos&&scurpos<=taecurpos:keycode==zgssearch.specialkeys.DELETE&&(isDelete=tascurpos<=scurpos&&scurpos<taecurpos):(tascurpos<scurpos&&scurpos<taecurpos||tascurpos<ecurpos&&ecurpos<taecurpos)&&(isDelete=!0),isDelete){var tsival=scurpos<tascurpos?scurpos:tascurpos,teival=taecurpos<ecurpos?ecurpos:taecurpos;sival=-1<sival&&sival<tsival?sival:tsival,eival=-1<eival&&teival<eival?eival:teival,delete filterObj[type]}}}-1<sival&&-1<eival&&zgssearch.getTargetElem("zgs20_gsQueryBox").setSelectionRange(sival,eival)},gsautocomplete.storeRecentSearch=function(){var query=zgssearch.getValue("zgs20_gsQueryBox");if(query=zgssearch.gsautocomplete.getRecentAutosearchQuery(query).trim(),zgssearch.isQueryValid(query)){if(-1<gsautocomplete.recentSearchesHolder.indexOf(query)){var existingQryIndex=gsautocomplete.recentSearchesHolder.indexOf(query);gsautocomplete.recentSearchesHolder.splice(existingQryIndex,1)}gsautocomplete.recentSearchesHolder.unshift(query),zgssearch.gsautocomplete.add("recentsearch",gsautocomplete.recentSearchesHolder)}},gsautocomplete)}(zgssearch,window),function(zgssearch,window){var gsusercontacts,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsusercontacts=(gsusercontacts=void 0,(gsusercontacts=zgssearch.gsusercontacts||{}).fetContactsCount=100,gsusercontacts.defContactsCount=500,gsusercontacts.serverCallCount=0,gsusercontacts.queueserver={},gsusercontacts.myContacts=gsusercontacts.myContacts||{},gsusercontacts.orgContacts=gsusercontacts.orgContacts||{},gsusercontacts.myContactsCache=gsusercontacts.myContactsCache||{result:[],noresult:[]},gsusercontacts.orgContactsCache=gsusercontacts.orgContactsCache||{result:[],noresult:[]},gsusercontacts.crmContacts=gsusercontacts.crmContacts||{},gsusercontacts.crmContactsInfo=gsusercontacts.crmContactsInfo||{count:0,page:1,more_records:!0},gsusercontacts.fetDeskContactsCount=50,gsusercontacts.defDeskContactsCount=200,gsusercontacts.supportContacts=gsusercontacts.supportContacts||{},gsusercontacts.supportContactsCache=gsusercontacts.supportContactsCache||{result:[],noresult:[]},gsusercontacts.getMyContactsList=function(){return gsusercontacts.myContacts||{}},gsusercontacts.setMyContactsList=function(zuid,userObj){gsusercontacts.myContacts.hasOwnProperty(zuid)||(gsusercontacts.myContacts[zuid]=userObj)},gsusercontacts.getOrgContactsList=function(){return gsusercontacts.orgContacts||{}},gsusercontacts.setOrgContactsList=function(zuid,userObj){gsusercontacts.orgContacts.hasOwnProperty(zuid)||(gsusercontacts.orgContacts[zuid]=userObj)},gsusercontacts.getCRMContactsUserObj=function(){return gsusercontacts.crmContacts||{}},gsusercontacts.getCRMContactsInfoObj=function(){return gsusercontacts.crmContactsInfo||{}},gsusercontacts.getSupportContactsObj=function(portalId,deptId){if(portalId&&deptId){var agentKey="agent_"+portalId+"_"+deptId;return gsusercontacts.supportContacts[agentKey]||{}}return gsusercontacts.supportContacts||{}},gsusercontacts.isSupportDeptAgentExists=function(portalId,deptId){if(portalId&&deptId){var agentKey="agent_"+portalId+"_"+deptId;return gsusercontacts.supportContacts.hasOwnProperty(agentKey)}},gsusercontacts.getSupportUnAssObj=function(){return{Unassigned:{zuid:"-1",email:"",full_name:zgssearch.getI18NMsg("gs.search.callout.unassigned")}}},gsusercontacts.getServerCallCount=function(){return gsusercontacts.serverCallCount},gsusercontacts.setServerCallCount=function(){var ccount=gsusercontacts.getServerCallCount();ccount=ccount<500?ccount+1:1,gsusercontacts.serverCallCount=ccount},gsusercontacts.clearOrgContactsList=function(){gsusercontacts.orgContacts={},gsusercontacts.orgContactsMoreRes=!1,gsusercontacts.myContactsCache=gsusercontacts.myContactsCache||{result:[],noresult:[]},gsusercontacts.orgContactsCache=gsusercontacts.myContactsCache||{result:[],noresult:[]}},gsusercontacts.checkOrgThresholdLimit=function(){var orgContactsList=gsusercontacts.getOrgContactsList();_jQueryGS.isEmptyObject(orgContactsList)||864e5<(new Date).getTime()-gsusercontacts.orgContacts_expiry_time&&(gsusercontacts.clearOrgContactsList(),gsusercontacts.fetchOrgContacts("",gsusercontacts.defContactsCount))},gsusercontacts.getUserContacts=function(){var wmsContacts=zgssearch.getWMSUserContacts();return zgssearch.isWMSChatPaused()&&_jQueryGS.isEmptyObject(wmsContacts)&&(wmsContacts=gsusercontacts.getMyContactsList()),wmsContacts},gsusercontacts.isSearchReqCached=function(query){var myCacheResults=gsusercontacts.myContactsCache.result||[],myCacheNoResults=gsusercontacts.myContactsCache.noresult||[];if(gsusercontacts.isReqCached(query,gsusercontacts.fetContactsCount,myCacheResults,myCacheNoResults))return!0;var orgCacheResults=gsusercontacts.orgContactsCache.result||[],orgCacheNoResults=gsusercontacts.orgContactsCache.noresult||[];return!!gsusercontacts.isReqCached(query,gsusercontacts.fetContactsCount,orgCacheResults,orgCacheNoResults)},gsusercontacts.isDeskSearchReqCached=function(query,extraParams){var myCacheResults=gsusercontacts.supportContactsCache.result||[],myCacheNoResults=gsusercontacts.supportContactsCache.noresult||[];return!!gsusercontacts.isReqCached(query,gsusercontacts.fetDeskContactsCount,myCacheResults,myCacheNoResults,extraParams)},gsusercontacts.isReqCached=function(query,limit,cacheResults,cacheNoResults,extraParams){for(var params="per_page="+limit+(extraParams=extraParams||"")+"&query="+encodeURIComponent(query),i=0;i<cacheResults.length;i++)if(-1!==cacheResults[i].indexOf(params))return!0;return gsusercontacts.isEmptyReqCached(query,limit,cacheNoResults,extraParams)},gsusercontacts.isEmptyReqCached=function(query,limit,cacheNoResults,extraParams){for(var params="per_page="+limit+(extraParams=extraParams||"")+"&query="+encodeURIComponent(query),j=0;j<cacheNoResults.length;j++){var str2=cacheNoResults[j];if(params.startsWith(str2))return!0}return!1},gsusercontacts.fetchFromServer=function(query){var searchqueue=gsusercontacts.queueserver,flag=searchqueue.flag||!1,expiry_time=searchqueue.expiry_time||0,cur_time=(new Date).getTime(),iscallStopped=!0;if(!flag||15e3<cur_time-expiry_time){var wmsContacts=zgssearch.getWMSUserContacts();if(zgssearch.isWMSChatPaused()&&_jQueryGS.isEmptyObject(wmsContacts)&&gsusercontacts.myContactsMoreRes){var myCacheResults=gsusercontacts.myContactsCache.result||[],myCacheNoResults=gsusercontacts.myContactsCache.noresult||[];gsusercontacts.isReqCached(query,gsusercontacts.fetContactsCount,myCacheResults,myCacheNoResults)||(iscallStopped=!1,gsusercontacts.fetchMyContacts(query,gsusercontacts.fetContactsCount))}if(gsusercontacts.orgContactsMoreRes){var orgCacheResults=gsusercontacts.orgContactsCache.result||[],orgCacheNoResults=gsusercontacts.orgContactsCache.noresult||[];gsusercontacts.isReqCached(query,gsusercontacts.fetContactsCount,orgCacheResults,orgCacheNoResults)||(iscallStopped=!1,gsusercontacts.fetchOrgContacts(query,gsusercontacts.fetContactsCount))}}iscallStopped&&zgssearch.gsautocomplete.showLoadingIcon&&zgssearch.removeQuerySugg()},gsusercontacts.fetchMyContacts=function(query,limit){GSConstant.cuz&&gsusercontacts.fetchContacts(GSConstant.PERSONALCONTACTS,"fetchPersonalContacts",query,limit)},gsusercontacts.fetchOrgContacts=function(query,limit){GSConstant.cuo&&-1!=GSConstant.cuo&&gsusercontacts.fetchContacts(GSConstant.ORGCONTACTS,"fetchOrgContacts",query,limit)},gsusercontacts.fetchContacts=function(service,type,query,limit){var searchParams="searchType="+service+"&action="+type,queryEncode=query?"&query="+encodeURIComponent(query):"",params="per_page="+limit+queryEncode;gsusercontacts.setServerCallCount();var argparam={service:service,query:query,curCount:gsusercontacts.getServerCallCount()};gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,searchParams+queryEncode,argparam,function(data,status,xhr){var argObj=xhr.args,service_name=argObj.service;if(gsusercontacts.queueserver={flag:!1,expiry_time:0},"success"==status){var resArr=[],response=zgssearch.jsonParse(data);if(response.hasOwnProperty("contacts"))for(var lenResArr=(resArr=response.contacts||[]).length,ra=0;ra<lenResArr;ra++){var resArrCh=resArr[ra]||{},contact_zuid=resArrCh.contact_zuid||"",contact_type=resArrCh.contact_type||"",contact_status=""+resArrCh.status,contact_statusInt=parseInt(contact_status);if(contact_zuid&&"-1"!=contact_zuid&&(service_name==GSConstant.ORGCONTACTS&&"1"==contact_type||service_name==GSConstant.PERSONALCONTACTS&&(0<=contact_statusInt||-1==contact_statusInt||-3==contact_statusInt))){var emailID=resArrCh.email_id||"",contact_nick_name=resArrCh.nick_name||"";if(contact_nick_name=contact_nick_name.trim(),service_name==GSConstant.ORGCONTACTS||!contact_nick_name){var contact_first_name=resArrCh.first_name||"",contact_middle_name=resArrCh.middle_name||"",contact_last_name=resArrCh.last_name||"";contact_nick_name=(contact_first_name=contact_first_name?contact_first_name.trim():"")+(contact_middle_name=contact_middle_name?" "+contact_middle_name.trim():"")+(contact_last_name=contact_last_name?" "+contact_last_name.trim():"")}var userObj={USERID:contact_zuid,DNAME:contact_nick_name,EMAILID:emailID,UC:lenResArr-ra};service_name==GSConstant.PERSONALCONTACTS?gsusercontacts.setMyContactsList(contact_zuid,userObj):service_name==GSConstant.ORGCONTACTS&&gsusercontacts.setOrgContactsList(contact_zuid,userObj)}}}if(response=response||{},argObj.query?1==response.has_more?service_name==GSConstant.PERSONALCONTACTS?gsusercontacts.myContactsCache.result.push(params):service_name==GSConstant.ORGCONTACTS&&gsusercontacts.orgContactsCache.result.push(params):service_name==GSConstant.PERSONALCONTACTS?gsusercontacts.myContactsCache.noresult.push(params):service_name==GSConstant.ORGCONTACTS&&gsusercontacts.orgContactsCache.noresult.push(params):(gsusercontacts.orgContacts_expiry_time=(new Date).getTime(),service_name==GSConstant.PERSONALCONTACTS?gsusercontacts.myContactsMoreRes=response.has_more:service_name==GSConstant.ORGCONTACTS&&(gsusercontacts.orgContactsMoreRes=response.has_more)),argObj.curCount==gsusercontacts.getServerCallCount()&&zgssearch.gsautocomplete.showLoadingIcon){zgssearch.removeQuerySugg();var query=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.gsautocomplete.updateSearchBox(query,"serverResponse")}})},gsusercontacts.fetchCRMUserInfo=function(){var userInfoObj=gsusercontacts.getCRMContactsInfoObj();if(userInfoObj.more_records&&userInfoObj.count<1e3){var params="action=fetchCRMUserInfo&searchType="+GSConstant.CRM+"&page="+userInfoObj.page;zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,params,{timeout:0},function(data,status,xhr){var response=zgssearch.jsonParse(data),luInfoObj=response.hasOwnProperty("info")?response.info:{};if(gsusercontacts.crmContactsInfo.page=luInfoObj.page?luInfoObj.page:1,gsusercontacts.crmContactsInfo.more_records=luInfoObj.more_records||!1,gsusercontacts.crmContactsInfo.count=userInfoObj.count+(luInfoObj.count||0),response.hasOwnProperty("users")){var usersObj=response.users||{};_jQueryGS.extend(gsusercontacts.crmContacts,usersObj)}})}},gsusercontacts.fetchSupportAgentInfo=function(deskObj){deskObj=deskObj||{};var search_type=GSConstant.SUPPORT,gfObj=zgssearch.getFilterObj(search_type);if(gfObj.hasOwnProperty("portals")&&gfObj.hasOwnProperty("departments")){var query=deskObj.query||"",portalId=deskObj.curPortalId||gfObj.portals.current,deptId=deskObj.curDeptId||gfObj.departments.current;if(deptId&&portalId&&0!=deptId){gsusercontacts.setServerCallCount();var argParams={portalId:portalId,deptId:deptId,timeout:0,obj:deskObj,query:query,curCount:gsusercontacts.getServerCallCount()},params="action=fetchDeskOrgAgents&searchType="+search_type+"&portalId="+portalId+"&deptId="+deptId+"&query="+query;gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,params,argParams,function(data,status,xhr){var len=0,argObj=xhr.args||{},response=zgssearch.jsonParse(data)||[];if(gsusercontacts.queueserver={flag:!1,expiry_time:0},_jQueryGS.isArray(response)){len=response.length;for(var key="agent_"+argObj.portalId+"_"+argObj.deptId,agentObj=gsusercontacts.supportContacts[key]||{},i=0;i<len;i++){var aobj=response[i],id=aobj.id,zuid=aobj.zuid,emailId=aobj.emailId,firstName=aobj.firstName,lastName=aobj.lastName,fullName=(firstName=firstName?firstName.trim():"")+(lastName=lastName?" "+lastName.trim():"");agentObj[id]={email:emailId,full_name:fullName,zuid:zuid}}gsusercontacts.supportContacts[key]=agentObj}var squery=argObj.query,deskObj=argObj.obj||{};if(squery){var params="per_page="+gsusercontacts.fetDeskContactsCount+deskObj.extraParams+"&query="+encodeURIComponent(argObj.query);len>=gsusercontacts.fetDeskContactsCount?gsusercontacts.supportContactsCache.result.push(params):gsusercontacts.supportContactsCache.noresult.push(params),argObj.curCount==gsusercontacts.getServerCallCount()&&zgssearch.searchForEditFields()}else deskObj.hasOwnProperty("type")&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&zgssearch.renderInnerEditFieldsUI(deskObj)})}}},gsusercontacts),zgssearch.getDefaultContactList=function(){if(!zgssearch.isContactsFetched&&GSConstant.hasOwnProperty("cuo")){zgssearch.isContactsFetched=!0;var wmsContacts=zgssearch.getWMSUserContacts();zgssearch.isWMSChatPaused()&&_jQueryGS.isEmptyObject(wmsContacts)&&zgssearch.gsusercontacts.fetchMyContacts("",zgssearch.gsusercontacts.defContactsCount),zgssearch.gsusercontacts.fetchOrgContacts("",zgssearch.gsusercontacts.defContactsCount)}}}(zgssearch,window),function(zgssearch,window){var gsmails,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsmails=(gsmails=void 0,(gsmails=zgssearch.gsmails||{}).ext_img=gsmails.ext_img||{},gsmails.actionList=[{open:"gs.search.result.mail.open"},{reply:"gs.search.result.mail.reply"},{replyall:"gs.search.result.mail.replyall"},{fwdi:"gs.search.result.mail.forward"},{unread:"gs.search.sevice_mail_maskAsUnRead"}],gsmails.getCalloutHolder=function(){return"zgs20_gsMailCallout"},gsmails.calloutParams=function(resObj){var index=_jQueryGS(zgssearch.curSelectedEle).attr("index");return"searchType="+zgssearch.getCalloutSearchType()+"&msgId="+resObj.message_id+"&accId="+resObj.account_id+"&accType="+resObj.accType+"&cpos="+index},gsmails.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsMailCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),replyTitle=zgssearch.getI18NMsg("gs.search.result.mail.menu.reply"),extimgtip=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),extimgtext=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_text"),shrinkedtip=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),shrinkedtext=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_text"),mcallout=_jQueryGS("<div>",{id:"zgs20_gsMailCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.MAILS,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.MAILS}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutReplyAction",class:"zgs19_gsResultsUniIcons zgs19_gsCalloutReplyAction zgs19_gsCurPointer zgs19_gsfr",gs:"mailsActionList",value:"reply",title:replyTitle,service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.MAILS})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:5%"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:45%",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl",style:"max-width:20%",gs:"tolink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr",style:"max-width:25%"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutFooArea",class:"zgs19_gsCalloutFooter zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",title:extimgtext}).text(extimgtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",title:extimgtip}).text(extimgtip))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"mailsActionList",value:"open",service:GSConstant.MAILS,title:shrinkedtext}).text(shrinkedtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",title:shrinkedtip}).text(shrinkedtip))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})));_jQueryGS("#zgs20_gsSearchResultRight").append(mcallout)}_jQueryGS("#zgs20_gsMailCallout").attr("ccount",count)},gsmails.setMailCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsMailCallout").height()-(headerHeight+metaInfoHeight);_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsmails.calloutResponse=function(response,resObj,curRe){if(response){var menuEl=zgssearch.getTargetElem("zgs20_gsMailCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var calloutCount=_jQueryGS(menuEl).attr("ccount"),mctitle=resObj.subject||"";mctitle||(mctitle="("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")"),_jQueryGS(menuEl.ctitle).text(mctitle).attr("title",mctitle),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold");var zuid=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var imgId="zgs20_gsMailsCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var staObj=zgssearch.getUserStatus(zuid);if(_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(zuid);zgssearch.renderCalloutUserPhoto(imgId,photoURL)}else zgssearch.renderCalloutNoUserPhoto(imgId);var display_time=resObj.display_time?resObj.display_time:"",fulldisp_time=response.sentTime?response.sentTime:display_time,from=zgssearch.getI18NMsg("gs.search.result.support.from");_jQueryGS(menuEl.slabel).empty().text(from).attr("title",from),_jQueryGS(menuEl.sender).empty().text(response.from).attr("title",response.from),_jQueryGS(menuEl.date).empty().text(display_time).attr("title",fulldisp_time);var foldername=resObj.folder_name?resObj.folder_name:"",toField=gsmails.fillToAddress(response.to,response.cc,response.bcc),toValue=gsmails.splitEmailId(toField?toField.value:""),tolabel=toField?toField.label:"";_jQueryGS(menuEl.rlabel).empty().text(tolabel).attr("title",tolabel),_jQueryGS(menuEl.receiver).empty().text(toValue).attr("title",toValue),_jQueryGS(menuEl.rfolder).empty().text(foldername).attr("title",foldername),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%");var toOthersCount=gsmails.getTotalEmailAccountCount(response.to,response.cc,response.bcc)-1;if(0<toOthersCount){_jQueryGS(menuEl.toaddress).css("maxWidth","50%");var totalCount=gsmails.getTotalEmailCount(toOthersCount);_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",title:totalCount}).text(totalCount)).show(),gsmails.loadToOthersList(menuEl,response.to,response.cc,response.bcc)}if(_jQueryGS(menuEl.content).empty().append(response.content),gsmails.loadImagesWithDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content,GSConstant.MAILS),gsmails.ext_img={},_jQueryGS(menuEl.ext_img).hide(),response.hasOwnProperty("ext_img")&&(_jQueryGS(menuEl.ext_img).show(),gsmails.ext_img=response.ext_img),_jQueryGS(menuEl.shrinked).hide(),"true"==response.shrinked&&_jQueryGS(menuEl.shrinked).show(),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),"1"===resObj.has_attachment){var dataArr=response.attach_info||[],len=dataArr.length;if(0<len){var acount=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{title:acount}).text(acount)));for(var i=0;i<len;i++){var val=dataArr[i],fileName=zgssearch.replaceHTMLEntity(val.n),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,title:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.MAILS,aId:val.i,gs:"attachtitle",title:fileName}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.s)))))}_jQueryGS(menuEl.moveToAttachArea).show(),_jQueryGS(menuEl.attachHolder).show()}}_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show(),"true"===resObj.isBold&&gsmails.toggleMailStatus(curRe,resObj,"markAsRead")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0);var ignoreReplyActions=!1;_jQueryGS("#zgs20_gsCalloutReplyAction").show(),"DRAFTS"!==response.message_type&&"TEMPLATES"!==response.message_type||(ignoreReplyActions=!0,_jQueryGS("#zgs20_gsCalloutReplyAction").hide()),gsmails.addCalloutActionList(menuEl,ignoreReplyActions),gsmails.setMailCalloutEleSize(menuEl)}else gsmails.calloutErrorMsg()},gsmails.addCalloutActionList=function(menuEl,ignoreReplyActions){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gsmails.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj)if(!ignoreReplyActions||"open"===key){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"mailsActionList",value:key,service:GSConstant.MAILS,title:dectext}).text(dectext))}}},gsmails.toggleMailStatus=function(curRe,resObj,oper,target){if(curRe){var msgId=resObj.message_id,accountId=resObj.account_id,accType=resObj.accType,emailId=resObj.semailId,markAsMailParam="action=markAsReadUnread&searchType="+zgssearch.getCalloutSearchType()+"&msgId="+msgId+"&accId="+accountId+"&accType="+accType+"&emailid="+encodeURIComponent(emailId)+"&oper="+oper;zgssearch.ajaxhandlerForServicesAction(curRe,resObj,markAsMailParam,oper,target)}},gsmails.responseFromServicesAction=function(data,curRe,resObj,oper,target){if(data&&"null"!==data){var responseData=zgssearch.jsonParse(data);if("SUCCESS"==(responseData&&responseData.response||"")){var mailStatus=zgssearch.getMailImageStatus(resObj.servImg);resObj.servImg=mailStatus.servImg;var toBeRemoveCls=mailStatus.image,toBeChangeCls=mailStatus.toBeImage,toBeChangeTitle=mailStatus.toBeTitle,menuEl=zgssearch.getTargetElem("zgs20_gsMailCallout");if(zgssearch.setGSTagElems(menuEl),_jQueryGS(curRe.resultMenuItem).attr("title",toBeChangeTitle),"markAsRead"===oper){if(resObj.isBold="false",_jQueryGS(curRe.zgs20_gsUserTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target){var vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsUnRead");_jQueryGS(target).attr("value","unread").attr("title",vtext).text(vtext)}}else"markAsUnread"===oper&&(resObj.isBold="true",_jQueryGS(curRe.zgs20_gsUserTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target)&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsRead"),_jQueryGS(target).attr("value","read").attr("title",vtext).text(vtext))}}},gsmails.downloadAttachment=function(elem){var atName=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),resObj=zgssearch.getCurrentResObj(),accType=resObj.accType,accountId=resObj.account_id,messageId=resObj.message_id,params="searchType="+zgssearch.getCalloutSearchType()+"&msgId="+messageId+"&atIndex="+atIndex+"&accId="+accountId+"&accType="+accType+"&atName="+atName;window.open(zgssearch.attachmentURL+"?"+params)},gsmails.fillToAddress=function(toAddr,ccAddr,bccAddr){var to=gsmails.getFirstEmailId(toAddr);if(null!==to)return{label:zgssearch.getI18NMsg("gs.search.result.mail.to"),value:to};var cc=gsmails.getFirstEmailId(ccAddr);if(null!==cc)return{label:zgssearch.getI18NMsg("gs.search.result.mail.cc"),value:cc};var bcc=gsmails.getFirstEmailId(bccAddr);return null===bcc?{label:"",value:""}:{label:zgssearch.getI18NMsg("gs.search.result.mail.bcc"),value:bcc}},gsmails.getFirstEmailId=function(emailIds){return null==emailIds||""===emailIds?null:emailIds.split(",")[0]},gsmails.splitEmailId=function(value){var htmlToTxtNode=document.createElement("div");htmlToTxtNode.innerHTML=value;var email="";if(""!==(value=htmlToTxtNode.textContent)){var lastQuote=(value=value.trim()).lastIndexOf("<");email=-1!==lastQuote?(email=value.substring(lastQuote+1,value.length)).trim().replace("<","").replace(">","").trim():value.trim().replace("<","").replace(">","").trim()}return email},gsmails.getTotalEmailAccountCount=function(toAddr,ccAddr,bccAddr){var to=gsmails.getArrayOfElements(toAddr),cc=gsmails.getArrayOfElements(ccAddr),bcc=gsmails.getArrayOfElements(bccAddr);return to.length+cc.length+bcc.length},gsmails.getArrayOfElements=function(emailIds){if(null==emailIds||""===emailIds)return[];var emails=emailIds.split(",");return 0<emails.length?emails:[]},gsmails.getTotalEmailCount=function(count){var countMsg=zgssearch.getI18NMsg("gs.search.result.mail.menu.others");return 1===count&&(countMsg=zgssearch.getI18NMsg("gs.search.result.mail.menu.other")),"+"+count+" "+countMsg},gsmails.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},gsmails.displayCallout=function(){zgssearch.hideCalloutLoader(),_jQueryGS("#zgs20_gsMailCallout").show()},gsmails.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gsmails.renderToOthersList(toAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.to")),gsmails.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gsmails.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gsmails.renderToOthersList=function(emailIds,label){if(emailIds){var emailList=emailIds.split(",");if(0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),i=0;i<emailList.length;i++){var comma=i+1===emailList.length?"":",",splitEmail=gsmails.splitEmailId(emailList[i]);emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:splitEmail}).text(splitEmail+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{title:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}}},gsmails.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show()}},gsmails.mailReplyActionHandler=function(accountID,msgID,mailMode){var iframeSrc=GSConstant.GS_MAIL_URL+"/zm/comp.do?accId="+accountID+"&msgId="+msgID+"&originalMode="+mailMode+"&frameorigin="+window.location.origin;gsmails.loadMailCalloutIframe(iframeSrc,"zgs20_gsMailCallout")},gsmails.loadMailCalloutIframe=function(url){zgssearch.handleBeforeSentCase();var mailActHolder=_jQueryGS("#zgs20_gsMailActionHolder");mailActHolder.length<=0&&(mailActHolder=_jQueryGS("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsServiceCalloutHolder"}),_jQueryGS("#zgs20_gsSearchResultRight").append(mailActHolder));var mailActionFrame=document.createElement("iframe");mailActionFrame.id="zgs20_gsMailActionFrame",mailActionFrame.className="zgs19_gsMailActionFrame",mailActionFrame.src=url,mailActionFrame.onload=function(){setTimeout(function(){zgssearch.hideCalloutLoader()},500)},mailActHolder.append(mailActionFrame).show()},gsmails.loadExtImg=function(){for(var oextimg=gsmails.ext_img||{},exurl=oextimg.externalURL||[],exlink=oextimg.externalLink||[],i=0,j=0;i<exurl.length&&j<exlink.length;i++,j++){var esrc=exurl[i],eid=exlink[i];_jQueryGS("#zgs20_gsMailCallout").find("#"+eid).attr("src",esrc)}_jQueryGS("#zgs20_gsMailCalloutExtImg").hide()},gsmails.loadImagesWithDomain=function(id){var hostName=GSConstant.GS_MAIL_URL;_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&0==oldImgSrc.indexOf("/mail/ImageDisplay?")&&_jQueryGS(this).attr("src",hostName+oldImgSrc)})},gsmails.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsMailCallout");zgssearch.setGSTagElems(menuEl),gsmails.setMailCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsmails)}(zgssearch,window),function(zgssearch,window){var gscrm,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscrm=(gscrm=void 0,(gscrm=zgssearch.gscrm||{}).actionList=[{open:"gs.search.result.crm.menu.open"},{edit:"gs.search.result.crm.menu.edit"}],gscrm.crmImpFieldsData=gscrm.crmImpFieldsData||{},gscrm.calloutParams=function(resObj){var entityId=resObj.id,module=resObj.mod,index=_jQueryGS(zgssearch.curSelectedEle).attr("index");return"searchType="+zgssearch.getCalloutSearchType()+"&entityId="+entityId+"&crmMod="+gscrm.getCrmModuleQueryName(module)+"&cpos="+index},gscrm.getCalloutHolder=function(){return"zgs20_gsCRMCallout"},gscrm.getCrmModuleQueryName=function(module){var modvsQueryObj=zgssearch.getFilterInfo(GSConstant.CRM,"modules","current");return modvsQueryObj.hasOwnProperty(module)?modvsQueryObj[module]:module},gscrm.createCalloutTemplate=function(count){var dcLength=_jQueryGS("#zgs20_gsCRMCallout").length,prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),Edit=zgssearch.getI18NMsg("gs.search.result.crm.menu.edit");if(dcLength<=0){var crmcallout=_jQueryGS("<div>",{id:"zgs20_gsCRMCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink zgs19_gsFtWeightNormal",gs:"ctitle",service:GSConstant.CRM}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr",gs:"crmEditaction",value:"edit",title:Edit,service:GSConstant.CRM})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.CRM})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.CRM})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsCrmImpInnerContent",class:"zgs19_gsCalloutIconInfo",gs:"impData"})).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolderParent",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon",style:"display:block;"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutCRMRightPanel",class:"zgs19_gsCalloutCRMRightPanel zgs19_gsfl"})))));_jQueryGS("#zgs20_gsSearchResultRight").append(crmcallout)}_jQueryGS("#zgs20_gsCRMCallout").attr("ccount",count)},gscrm.setCrmCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.impData).height(),contentHeight=_jQueryGS("#zgs20_gsCRMCallout").height()-(headerHeight+metaInfoHeight);contentHeight-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),_jQueryGS(menuEl.contPartHolder).css("height",contentHeight+"px")},gscrm.calloutResponse=function(response,resObj,curRe,argObj){var menuEl=zgssearch.getTargetElem("zgs20_gsCRMCallout");if(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe),(argObj=argObj||{}).updateRecord&&!response&&(gscrm.crmImpFieldsData.Owner=argObj.owner,gscrm.crmImpFieldsData.editable=!1,response=gscrm.crmImpFieldsData),_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.maxpreview).hide(),_jQueryGS(menuEl.minpreview).hide(),response){var module=resObj.mod,mandatoryColName=zgssearch.crmMandName[GSConstant.CRM+"_"+module];gscrm.generateCallOut(module,resObj,response);var mandatoryColValue=resObj[mandatoryColName];"Events"==module&&(mandatoryColValue=resObj.Event_Title);var ctitle=zgssearch.checkUndefined(mandatoryColValue);_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle),_jQueryGS(menuEl.actionPipe).show(),_jQueryGS(menuEl.actionlist).show(),_jQueryGS(menuEl.ctitle).addClass("zgs19_gsCalloutTitleLink"),"Notes"===module&&(_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.actionlist).hide()),zgssearch.isMaxCalloutOpen?_jQueryGS(menuEl.minpreview).show():_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.crmEditaction).hide(),"Notes"!==module&&response.editable&&_jQueryGS(menuEl.crmEditaction).show(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.contPartHolder).scrollTop(0),_jQueryGS(menuEl.contPartHolder).scrollLeft(0),"Notes"!==module&&gscrm.addCalloutActionList(menuEl,response.editable),gscrm.setCrmCalloutEleSize(menuEl)}else gscrm.calloutErrorMsg()},gscrm.generateCallOut=function(module,resObj,ajaxResponseData){var finalData={},menuEl=zgssearch.getTargetElem("zgs20_gsCRMCallout");if(zgssearch.setGSTagElems(menuEl),"null"!==resObj&&null!==resObj){var mandDispName=zgssearch.crmDispObj[GSConstant.CRM+"_"+module][zgssearch.crmMandName[GSConstant.CRM+"_"+module]];if(void 0!==ajaxResponseData&&"null"!==ajaxResponseData&&null!==ajaxResponseData){var ajaxData=zgssearch.jsonParse(ajaxResponseData),extraFieldsData=ajaxData.extraFields,dataTypeFields=ajaxData.dt;for(var key in(gscrm.crmImpFieldsData=ajaxData).hasOwnProperty("impFields")&&(gscrm.crmOwnerData=ajaxData.Owner&&ajaxData.Owner||{},gscrm.crmApiNamesData=ajaxData.apiNames&&ajaxData.apiNames||{},gscrm.renderImportantFieldDetails(zgssearch.minPrevPane)),extraFieldsData.hasOwnProperty(mandDispName)&&delete extraFieldsData[mandDispName],extraFieldsData)finalData[key]=extraFieldsData[key]}}_jQueryGS("#zgs20_gsCalloutCRMRightPanel").empty();var crmDetails=_jQueryGS("#zgs20_gsCalloutCRMRightPanel");for(var dispKey in finalData){var dispValue=finalData[dispKey];if(""!==dispValue){var internalData=gscrm.renderCrmModuleDetails(module,dispKey,dispValue,dataTypeFields,resObj);crmDetails=crmDetails.append(internalData)}}},gscrm.addCalloutActionList=function(menuEl,isEditable){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gscrm.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj)if("edit"!=key||isEditable){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"crmActionList",value:key,service:GSConstant.CRM,title:dectext}).text(dectext))}}},gscrm.renderCrmModuleDetails=function(module,title,value,dt,resObj){var valueFieldObj="";if("email"===dt[title])valueFieldObj=_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+value,target:"_blank",title:value}).text(value);else if("Notes"===module&&title===gscrm.crmImpFieldsData.related_to){var relatedURL=zgssearch.crmRecordOpen(resObj);valueFieldObj=_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",href:relatedURL,target:"_blank",title:value}).text(value)}else valueFieldObj=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gsfl",style:"max-width: 90%;",title:value}).text(value);return _jQueryGS("<div>",{class:"zgs19_gsCalloutCRMRecordInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow",title:title}).text(title)).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(valueFieldObj))},gscrm.getCRMApiType=function(title){var gsAttr="",module=zgssearch.getCurrentResObj().mod,apiObj=gscrm.crmApiNamesData;return"Notes"!=module&&"Owner"==apiObj[title]&&gscrm.crmImpFieldsData.editable&&1<zgssearch.gsusercontacts.getCRMContactsInfoObj().count&&(gsAttr="crmOwnerChange"),gsAttr},gscrm.isOwnerField=function(title){return"Owner"==gscrm.crmApiNamesData[title]},gscrm.getCRMEditableField=function(gsAttr,title,value){var gsAttrChild="";return"crmOwnerChange"==gsAttr&&(gsAttrChild=_jQueryGS("<div>",{class:"zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"}))),_jQueryGS("<div>",{class:"zgs19_gsEditFieldsNameHolder zgs19_gsEditFieldsUline zgs19_gsCalloutDocsAuthor zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",field:title,gs:"CalloutEditFields",datatype:gsAttr}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",title:value,style:"max-width:95%"}).text(value)).append(gsAttrChild)},gscrm.renderImportantFieldChild=function(title,value,dt){var valueFieldObj="";if(""===value)valueFieldObj=_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl",title:value}).html("&mdash;");else{var gsattr=gscrm.getCRMApiType(title);value=gscrm.isOwnerField(title)?gscrm.crmOwnerData.name:value,valueFieldObj=gsattr?gscrm.getCRMEditableField(gsattr,title,value):"email"===dt[title]?_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+value,target:"_blank",title:value}).text(value)):_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl",title:value}).append(_jQueryGS("<span>",{class:"zgs19_gsfl"}).text(value))}return _jQueryGS("<div>",{class:"zgs19_gsCrmParent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCrmLabel zgs19_gsOverflow zgs19_gsfl",title:title}).text(title)).append(valueFieldObj)},gscrm.renderImportantFieldDetails=function(totalPaneWidth){var menuEl=zgssearch.getTargetElem("zgs20_gsCRMCallout");zgssearch.setGSTagElems(menuEl);var responseData=gscrm.crmImpFieldsData,impFieldsData=responseData.impFields,dataTypeFields=responseData.dt,bZOSLabelNameWidth=25*_jQueryGS(".zgs19_gsSearchResultRight").width()/100,labelNameWidth=zgssearch.isZohoSearch?bZOSLabelNameWidth:50,bZOScrmTitleWidth=zgssearch.isZohoSearch?bZOSLabelNameWidth:150;_jQueryGS("#zgs20_gsCrmImpInnerContent").empty();var crmImpDetails=_jQueryGS("#zgs20_gsCrmImpInnerContent");for(var labelName in impFieldsData){var labelValue=impFieldsData[labelName],impInternalData=gscrm.renderImportantFieldChild(labelName,labelValue,dataTypeFields);gscrm.isOwnerField(labelName)?crmImpDetails.prepend(impInternalData):crmImpDetails.append(impInternalData);var crmTitleWidth=zgssearch.getWidthOfText(labelName,bZOScrmTitleWidth);labelNameWidth=labelNameWidth<crmTitleWidth?crmTitleWidth:labelNameWidth}var lnameper=100*labelNameWidth/totalPaneWidth+"%",lvalueper=100*(totalPaneWidth-labelNameWidth-30)/totalPaneWidth+"%";_jQueryGS(crmImpDetails).find(".zgs19_gsCrmLabel").css("width",lnameper),_jQueryGS(crmImpDetails).find(".zgs19_gsCrmValue").css("max-width",lvalueper),_jQueryGS(crmImpDetails).find(".zgs19_gsEditFieldsNameHolder").css("max-width",lvalueper)},gscrm.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.crm.status.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").empty().text(msg).show()}},gscrm.EditCRMRecord=function(){var index=_jQueryGS(zgssearch.curSelectedEle).attr("index"),service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),resObj=zgssearch.getResultObject(service,index),module=resObj.mod,moduleforURL=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules")[module+"_url"],entityId=resObj.id;window.open(GSConstant.GS_CRM_URL+"/crm/EditEntity.do?module="+moduleforURL+"&id="+entityId)},gscrm.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCRMCallout");zgssearch.setGSTagElems(menuEl),gscrm.setCrmCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscrm)}(zgssearch,window),function(zgssearch,window){var gsdocs,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsdocs=(gsdocs=void 0,(gsdocs=zgssearch.gsdocs||{}).actionList=[{open:"gs.search.result.mail.open"},{download:"gs.search.result.document.download"}],gsdocs.getCalloutHolder=function(){return"zgs20_gsDocsCallout"},gsdocs.calloutParams=function(resObj){return"searchType="+zgssearch.getCalloutSearchType()+"&docId="+resObj.docid},gsdocs.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsDocsCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),downtxt=zgssearch.getI18NMsg("gs.search.result.document.download"),loadericon=zgssearch.getFourDotLoader("zgs20_gsdocsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:"zgs20_gsDocsCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.DOCUMENTS}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr",title:downtxt,gs:"docsdownload"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.DOCUMENTS})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.DOCUMENTS})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"owner"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(loadericon).append(_jQueryGS("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"})));_jQueryGS("#zgs20_gsSearchResultRight").append(dcallout)}_jQueryGS("#zgs20_gsDocsCallout").attr("ccount",count)},gsdocs.setDocsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsDocsCallout").height()-(headerHeight+metaInfoHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsdocs.calloutResponse=function(resObj,curRe){var menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var calloutCount=_jQueryGS(menuEl).attr("ccount"),ctitle=resObj.doc_name||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle);var zuid=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var imgId="zgs20_gsDocsCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var staObj=zgssearch.getUserStatus(zuid);if(_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(zuid);zgssearch.renderCalloutUserPhoto(imgId,photoURL)}else zgssearch.renderCalloutNoUserPhoto(imgId);var postedBy=resObj.shared?zgssearch.getI18NMsg("gs.search.result.document.callout.sharedby"):zgssearch.getI18NMsg("gs.search.result.document.callout.ownedby");_jQueryGS(menuEl.startedBy).empty().text(postedBy).attr("title",postedBy),_jQueryGS(menuEl.owner).empty().text(resObj.author).attr("title",resObj.author),_jQueryGS(menuEl.date).empty().text(resObj.display_time).attr("title",resObj.display_time),_jQueryGS(menuEl.docsdownload).hide(),gsdocs.renderDocsPreview(menuEl,resObj),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsdocs.addCalloutActionList(menuEl,resObj),gsdocs.setDocsCalloutEleSize(menuEl)},gsdocs.addCalloutActionList=function(menuEl,resObj){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gsdocs.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("download"==key){var docType=resObj.doc_type,downloadURL=GSConstant.downloadServer;if(!downloadURL&&"null"===downloadURL||"folder"===docType)continue}_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"docsActionList",value:key,service:GSConstant.DOCUMENTS,title:dectext}).text(dectext))}}},gsdocs.downloadDocument=function(resObj){var time=(new Date).getTime(),resourceId=resObj.docid,domainURL="https://"+GSConstant.downloadServer+"/paramdownloadservlet",params="x-service=EX&event-id="+resourceId+"_"+time+"&x-encoding=gzip&x-resource_id="+resourceId;window.open(domainURL+"?"+params)},gsdocs.getDocsPreviewURL=function(resObj){var servImg=resObj.servImg,resourceId=resObj.docid;switch(servImg){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":return GSConstant.GS_DOCS_URL+"/writer/preview/"+resourceId;case"zgs19_xl":case"zgs19_sheet":return GSConstant.GS_DOCS_URL+"/sheet/preview.do?rid="+resourceId+"&top=no";case"zgs19_power":case"zgs19_show":return GSConstant.GS_DOCS_URL+"/show/preview/"+resourceId+"?notopbar=true";default:return GSConstant.GS_DOCS_URL+"/orgembed/"+resourceId}},gsdocs.renderDocsPreview=function(menuEl,resObj){var docType=resObj.doc_type,downloadURL=GSConstant.downloadServer;if(_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),downloadURL&&"null"!==downloadURL&&"folder"!==docType){_jQueryGS(menuEl.docsdownload).show(),_jQueryGS("#zgs20_gsdocsprevLoader").show(),_jQueryGS(menuEl.docspreviewHolder).empty(),_jQueryGS(menuEl.docspreviewHolder).css("visibility","hidden");var url=gsdocs.getDocsPreviewURL(resObj),docsprev=document.createElement("iframe");docsprev.src=url,docsprev.style.border="0",docsprev.className="zgs19_gsIframeHolder zgs19_gsDocsIframeTag",docsprev.setAttribute("frameborder","0"),docsprev.setAttribute("allowfullscreen","true"),docsprev.onload=function(){setTimeout(function(){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS("#zgs20_gsdocsprevLoader").hide(),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")},500)},_jQueryGS(menuEl.docspreviewHolder).append(docsprev)}else{var prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr");_jQueryGS(menuEl.docspreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",title:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")}},gsdocs.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout");zgssearch.setGSTagElems(menuEl),gsdocs.setDocsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsdocs)}(zgssearch,window),function(zgssearch,window){var gscontacts,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscontacts=(gscontacts=void 0,(gscontacts=zgssearch.gscontacts||{}).user_availability=gscontacts.user_availability||{throshold:"120000",limit:500,zuidList:[],userObj:{}},gscontacts.actionList=[{open:"gs.search.result.mail.open",sendMail:"gs.search.sevice_mail_sendMail",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat"}],gscontacts.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsContactsCallout").length<=0){var composeMailTitle=zgssearch.getI18NMsg("gs.search.sevice_mail_sendMail"),inviteZoho=zgssearch.getI18NMsg("gs.search.result.chat.callout.inviteZoho"),inviteChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.inviteChat"),invitedChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.pendingChat"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"),audioCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.audiochat"),videoCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.videochat"),ccallout=_jQueryGS("<div>",{id:"zgs20_gsContactsCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"ctitle"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsDisplayNone zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsContactsCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsContactsCalloutIconHeight",gs:"iconHeight"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl",gs:"contactsMetaInfo",style:"margin:21px 0px;"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsDesgInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsActionInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gsComposeMailNew zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",title:composeMailTitle})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gsinvitezohoNew zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsinvitezoho",title:inviteZoho})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gspendingZohoNew zgs19_gsResultsUniIcons zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmspendzoho",title:invitedChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gsinviteChatNew zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsinvite",title:inviteChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gspendingChatNew zgs19_gsResultsUniIcons zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmspend",title:invitedChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gsContinueChatNew zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",title:continueChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gsaudioChat zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",title:audioCall})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs19_gsVideoChat zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",title:videoCall}))))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolderParent",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"})))));_jQueryGS("#zgs20_gsSearchResultRight").append(ccallout)}_jQueryGS("#zgs20_gsContactsCallout").attr("ccount",count)},gscontacts.setContactsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.iconHeight).height(),contentHeight=_jQueryGS("#zgs20_gsContactsCallout").height()-(headerHeight+metaInfoHeight);contentHeight-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),_jQueryGS(menuEl.contPartHolder).css("height",contentHeight+"px");var imgWidth=_jQueryGS(menuEl.calloutIconHolder).outerWidth()+30,CalloutWidth=_jQueryGS("#zgs20_gsSearchResultRight").width();_jQueryGS(menuEl.contactsMetaInfo).css("width",CalloutWidth-imgWidth)},gscontacts.calloutResponse=function(resObj,curRe){var searchType=_jQueryGS(curRe).attr("service"),menuEl=zgssearch.getTargetElem("zgs20_gsContactsCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe),_jQueryGS(menuEl.lineicon).hide(),_jQueryGS(menuEl.actionlist).hide(),_jQueryGS(".zgs19_gswmschat").hide(),_jQueryGS(menuEl.contactsDesgInfo).hide(),_jQueryGS(menuEl.contactsCalloutData).empty();var composeMail="",isMoreInfo=!1,mobileLabel=zgssearch.getI18NMsg("gs.search.sevice_contacts_mobile"),phoneLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.phone"),emailLabel=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.email_address");_jQueryGS(menuEl.ctitle).attr("service",searchType),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsCalloutTitleLink");var zuid=resObj.zuid,peruser="",staObj=zgssearch.getUserStatus(zuid,"big"),sname=staObj.name,status=staObj.status,curloggeduser=GSConstant.cuz,snclass="zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl "+sname;_jQueryGS(menuEl.calloutIconHolder).attr("class",snclass),_jQueryGS(".zgs19_gswmschat").attr("chatid",zuid);var imgId="zgs20_gsContactsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount");if(_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:imgId,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:zgssearch.gsspacer})),searchType===GSConstant.PEOPLE){var ptitle=resObj.empFname||"";ptitle=(ptitle=ptitle+" "+resObj.empLname||"").trim(),_jQueryGS(menuEl.ctitle).addClass("zgs19_gsCalloutTitleLink"),_jQueryGS(menuEl.ctitle).empty().text(ptitle).attr("title",ptitle);var photo=resObj.cphoto;photo?(-1!=photo.indexOf("/file?")?photo+=zgssearch.nps:photo=photo.replace("/api/viewEmployeePhoto?","/viewPhoto?"),zgssearch.renderBigCalloutUserPhoto(imgId,photo)):_jQueryGS("#"+imgId).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew");var pdept=resObj.deptname||"",pdesg=resObj.desgname||"",teamMargin=pdesg?"":"margin-left:10px;",desgPipe="";pdesg&&pdept&&(desgPipe=_jQueryGS("<span>",{class:"zgs19_gsContactsPipeElem zgs19_gsOverflow zgs19_gsfl"}).text("|")),(pdesg||pdept)&&_jQueryGS(menuEl.contactsDesgInfo).show(),_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl",title:ptitle}).text(ptitle)).append(_jQueryGS("<button>",{id:"zgs20_gsPeopleStatus_"+zuid,class:"zgs19_gsContactsStatusElem zgs19_gsOverflow zgs19_gsfl zgs19_gsDisplayNone"})),_jQueryGS(menuEl.contactsDesgInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsDesgElem zgs19_gsOverflow zgs19_gsfl",title:pdesg}).text(pdesg)).append(desgPipe).append(_jQueryGS("<span>",{class:"zgs19_gsContactsTeamElem zgs19_gsOverflow zgs19_gsLinkElem zgs19_gsfl",gs:"peopledept",title:pdept,style:teamMargin}).text(pdept));var extn=resObj.extn||"",pempid=resObj.empid||"";composeMail=resObj.mailid||"";var location=resObj.location||"",deptmail=resObj.deptmail||"",mpvalue=resObj.mobile||resObj.phone||"",mplabel=resObj.mobile?mobileLabel:phoneLabel,extnLabel=zgssearch.getI18NMsg("gs.search.service_people.extn"),empidLabel=zgssearch.getI18NMsg("gs.search.service_people.empid"),temailLabel=zgssearch.getI18NMsg("gs.search.service_people.teamemail"),locationLabel=zgssearch.getI18NMsg("gs.search.service_people.seatinglocation");zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,emailLabel,composeMail),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,extnLabel,extn),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,mplabel,mpvalue),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,empidLabel,pempid),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,locationLabel,location),zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,temailLabel,deptmail);var reportingLabel=zgssearch.getI18NMsg("gs.search.service_people.reportingto"),rtitle=(resObj.reportFname||"")+" "+(resObj.reportLname||"");(rtitle=rtitle.trim())&&"undefined"!==rtitle&&(_jQueryGS(menuEl.lineicon).show(),_jQueryGS(menuEl.contactsCalloutData).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:reportingLabel}).text(reportingLabel))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsLinkElem zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gs:"people_reportingto",title:rtitle,style:"color: #2fa6ea;"}).text(rtitle)))))}else{var ctitle=resObj.full_name||"";if(_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle),"personal"===resObj.type)photoURL=resObj.photo+"?API=true",zgssearch.renderBigCalloutUserPhoto(imgId,photoURL);else if("-1"!==zuid&&void 0!==zuid){var photoURL=zgssearch.getThumbPhotoURL(zuid);zgssearch.renderBigCalloutUserPhoto(imgId,photoURL)}else _jQueryGS("#"+imgId).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew");_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl",title:ctitle}).text(ctitle)),composeMail=resObj.email||"",zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,emailLabel,composeMail),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,mobileLabel,resObj.mobile||""),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,phoneLabel,resObj.phone||""),"true"===resObj.mDet&&(isMoreInfo=!0),gscontacts.contactsMoreInfo(resObj)&&(isMoreInfo=!0)}var isValidEmailId="null"!=composeMail&&""!=composeMail&&null!=composeMail;if(isValidEmailId&&zuid!=curloggeduser)if(searchType==GSConstant.PEOPLE){var issameorg=resObj.issameorg||"";!isNaN(status)&&zuid&&"-1"!=zuid&&(status=parseInt(status),"true"==issameorg||0<=status?(peruser=zuid,_jQueryGS(menuEl.gswmschat).show(),_jQueryGS(menuEl.gswmsaudio).show(),_jQueryGS(menuEl.gswmsvideo).show()):-1==status||-3==status?_jQueryGS(menuEl.gswmspend).show():-2!=status&&-4!=status&&-10!=status||_jQueryGS(menuEl.gswmsinvite).show())}else{var cstatus=parseInt(resObj.status);"-1"==zuid?-11==cstatus?_jQueryGS(menuEl.gswmspendzoho).show():_jQueryGS(menuEl.gswmsinvitezoho).show():0<=cstatus?(peruser=zuid,_jQueryGS(menuEl.gswmschat).show(),_jQueryGS(menuEl.gswmsaudio).show(),_jQueryGS(menuEl.gswmsvideo).show()):-1==cstatus||-3==cstatus?_jQueryGS(menuEl.gswmspend).show():-2!=cstatus&&-4!=cstatus&&-10!=cstatus||_jQueryGS(menuEl.gswmsinvite).show()}if(gscontacts.addCalloutActionList(menuEl,searchType,composeMail,peruser),isValidEmailId&&(_jQueryGS(menuEl.sendMail).show(),_jQueryGS(menuEl.sendMail).attr("email",composeMail)),_jQueryGS("#zgs20_gsContactsMoreOption").remove(),isMoreInfo){var moretext=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more");_jQueryGS(menuEl.contactsCalloutData).append(_jQueryGS("<div>",{id:"zgs20_gsContactsMoreOption",class:"zgs19_gsContactsMoreOption",gs:"contactsMoreHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsContactsMoreOptionElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfr",service:searchType,gs:"contactsMore"}).text(moretext+" ..."))),zgssearch.isZohoSearch&&_jQueryGS("[gs=contactsMore]").click()}zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.contPartHolder).scrollTop(0),_jQueryGS(menuEl.contPartHolder).scrollLeft(0),gscontacts.setContactsCalloutEleSize(menuEl)},gscontacts.addCalloutActionList=function(menuEl,service,composeMail,peruser){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gscontacts.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"open"==key&&GSConstant.PEOPLE!=service||"sendMail"==key&&!composeMail||"pcontinue"==key&&!peruser||("audio"!=key&&"video"!=key||peruser&&"object"==typeof VideoCallReceiver)&&(_jQueryGS(menuEl.actionlist).show(),_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"contactsActionList",value:key,email:composeMail,chatid:peruser,service:service,title:dectext}).text(dectext)))}}},gscontacts.contactsMoreInfo=function(resObj){var isMoreInfo=!1,webUrl=resObj.web_url,emailids=resObj.email_ids,instantMsg=resObj.instant_ids,emailTo=resObj.email?resObj.email:"";if(emailids){var emailsIdArr=zgssearch.jsonParse(emailids);gscontacts.objContainsEmailIds(emailsIdArr,emailTo)&&(isMoreInfo=!0)}if(instantMsg&&"{}"!==instantMsg){var instMesMapEval=zgssearch.jsonParse(instantMsg);gscontacts.objContainsInstMsg(instMesMapEval)&&(isMoreInfo=!0)}if(webUrl&&"{}"!==webUrl){var webUrlMapEval=zgssearch.jsonParse(webUrl);gscontacts.objContainsWebUrl(webUrlMapEval)&&(isMoreInfo=!0)}return isMoreInfo},gscontacts.objContainsEmailIds=function(emailsIdArr,emailTo){var index=emailsIdArr.indexOf(emailTo);return-1<index&&emailsIdArr.splice(index,1),!!(emailsIdArr&&0<emailsIdArr.length)},gscontacts.objContainsInstMsg=function(instMesMapEval){var Google=!!instMesMapEval.Google,Yahoo=!!instMesMapEval.Yahoo,Skype=!!instMesMapEval.Skype,AOL=!!instMesMapEval.AOL,Msn=!!instMesMapEval.Msn,ICQ=!!instMesMapEval.ICQ,Jabber=!!instMesMapEval.Jabber,Other=!!instMesMapEval.Other||!!instMesMapEval[""];return Google||Yahoo||Skype||AOL||Msn||ICQ||Jabber||Other},gscontacts.objContainsWebUrl=function(webUrlMapEval){var BlogURL=!!webUrlMapEval["Blog URL"],AmazonURL=!!webUrlMapEval["Amazon URL"],CompanyWebAddress=!!webUrlMapEval["Company Web Address"],DeliciousURL=!!webUrlMapEval["Delicious URL"],LinkedInURL=!!webUrlMapEval["LinkedIn URL"],PersonalWebAddress=!!webUrlMapEval["Personal Web Address"],FlickrURL=!!webUrlMapEval["Flickr URL"],Others=!!webUrlMapEval.Others||!!webUrlMapEval[""];return BlogURL||AmazonURL||CompanyWebAddress||DeliciousURL||LinkedInURL||PersonalWebAddress||FlickrURL||Others},gscontacts.getContactsMoreInfo=function(curObj){var contactType=curObj.type,contactId=curObj.contact_id,menuEl=zgssearch.getTargetElem("zgs20_gsContactsCallout");zgssearch.setGSTagElems(menuEl);var params="action=contactDetails&contactType="+contactType+"&contactId="+contactId+"&"+GSConstant.csrfName+"="+zgssearch.getCookie("CSRF_TOKEN");_jQueryGS.ajax({type:"POST",url:zgssearch.sharedDocs,data:params,beforeSend:function(xmlHttpRequest){_jQueryGS("#zgs20_gsContactsMoreOption").empty().append(_jQueryGS("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsContactsMoreFetchImg zgs19_gsfr"}))},success:function(data,textStatus){if(_jQueryGS("#zgs20_gsContactsMoreOption").remove(),gscontacts.contactsMoreInfo(curObj)&&gscontacts.renderMoreInfo(menuEl,curObj),"{}"!=data&&"null"!=data){var extraData=zgssearch.jsonParse(data),homeAddr=extraData.homeAddr?extraData.homeAddr:"";""!==homeAddr&&gscontacts.renderEmailORAddrInfo(menuEl,"address",homeAddr,zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.home_address"));var workAddr=extraData.workAddr?extraData.workAddr:"";""!==workAddr&&gscontacts.renderEmailORAddrInfo(menuEl,"address",workAddr,zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.work_address"))}},error:function(xmlHttpRequest){_jQueryGS("#zgs20_gsContactsMoreOption").remove(),gscontacts.contactsMoreInfo(curObj)&&gscontacts.renderMoreInfo(menuEl,curObj)}})},gscontacts.renderMoreInfo=function(menuEl,resObj){var webUrl=resObj.web_url,emailids=resObj.email_ids,instantMsg=resObj.instant_ids,emailTo=resObj.email?resObj.email:"";if(_jQueryGS(menuEl.lineicon).show(),emailids){var emailsIdArr=zgssearch.jsonParse(emailids);gscontacts.objContainsEmailIds(emailsIdArr,emailTo)&&gscontacts.renderEmailORAddrInfo(menuEl,"email",emailsIdArr,zgssearch.getI18NMsg("gs.search.sevice_contacts_secondaryEmail"))}if(instantMsg&&"{}"!==instantMsg){var instMesMapEval=zgssearch.jsonParse(instantMsg);gscontacts.objContainsInstMsg(instMesMapEval)&&gscontacts.renderInstantMsgInfo(menuEl,instMesMapEval)}if(webUrl&&"{}"!==webUrl){var webUrlMapEval=zgssearch.jsonParse(webUrl);gscontacts.objContainsWebUrl(webUrlMapEval)&&gscontacts.renderWebUrlInfo(menuEl,webUrlMapEval)}},gscontacts.renderEmailORAddrInfo=function(menuEl,oper,list,text){if(0<list.length){for(var emailAddr=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:text}).text(text))),i=0;i<list.length;i++){var elem=list[i],comma=i+1===list.length?"":",";"address"===oper?emailAddr.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl"}).append(_jQueryGS("<span>",{title:elem}).text(elem+comma)))):"email"===oper&&emailAddr.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+elem,target:"_blank",title:elem}).text(elem+comma)))}_jQueryGS(menuEl.lineicon).show(),_jQueryGS(menuEl.contactsCalloutData).append(emailAddr)}},gscontacts.renderInstantMsgInfo=function(menuEl,instMesMapEval){var google=instMesMapEval.Google?instMesMapEval.Google:"",yahoo=instMesMapEval.Yahoo?instMesMapEval.Yahoo:"",skype=instMesMapEval.Skype?instMesMapEval.Skype:"",aol=instMesMapEval.AOL?instMesMapEval.AOL:"",msn=instMesMapEval.Msn?instMesMapEval.Msn:"",icq=instMesMapEval.ICQ?instMesMapEval.ICQ:"",jabber=instMesMapEval.Jabber?instMesMapEval.Jabber:"",others=instMesMapEval.Other?instMesMapEval.Other:instMesMapEval[""]?instMesMapEval[""]:"";zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.google"),google),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.yahoo"),yahoo),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.skype"),skype),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.aol"),aol),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.msn"),msn),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.icq"),icq),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.jabber"),jabber),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other"),others)},gscontacts.renderWebUrlInfo=function(menuEl,webUrlMapEval){var PersonalURL=webUrlMapEval["Personal Web Address"]?webUrlMapEval["Personal Web Address"]:"",CompanyURL=webUrlMapEval["Company Web Address"]?webUrlMapEval["Company Web Address"]:"",blogURL=webUrlMapEval["Blog URL"]?webUrlMapEval["Blog URL"]:"",linkedInURL=webUrlMapEval["LinkedIn URL"]?webUrlMapEval["LinkedIn URL"]:"",facebookURL=webUrlMapEval.FACEBOOK_web?webUrlMapEval.FACEBOOK_web:"",twitterURL=webUrlMapEval.TWITTER_web?webUrlMapEval.TWITTER_web:"",amazonURL=webUrlMapEval["Amazon URL"]?webUrlMapEval["Amazon URL"]:"",flickrURL=webUrlMapEval["Flickr URL"]?webUrlMapEval["Flickr URL"]:"",deliciousURL=webUrlMapEval["Delicious URL"]?webUrlMapEval["Delicious URL"]:"";zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.personal_webaddress"),PersonalURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.company_webaddress"),CompanyURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.blogurl"),blogURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.linkedinurl"),linkedInURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.FacebookURL"),facebookURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.TwitterURL"),twitterURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.amazonurl"),amazonURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.flickrurl"),flickrURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.deliciousurl"),deliciousURL)},gscontacts.fetchUserAvailability=function(resObj){var pzuid=resObj.zuid||"";if(pzuid&&!gscontacts.isUserStatusCached(pzuid)){var argParam={argZuid:pzuid},param="action=fetchUserAvailability&searchType="+GSConstant.PEOPLE+"&zuid="+pzuid;zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,param,argParam,function(data,status,xhr){try{var argZuid=(xhr.args||{}).argZuid,response=zgssearch.jsonParse(data);response.hasOwnProperty("isUserAvailable")&&(gscontacts.user_availability.zuidList.push(argZuid),gscontacts.user_availability.userObj[argZuid]={response:response,time:(new Date).getTime()},gscontacts.renderUserAvailability(argZuid,response))}catch(ex){}})}},gscontacts.isUserStatusCached=function(zuid){var peopleStatusObj=gscontacts.user_availability||{},userStatusObj=peopleStatusObj.userObj||{},zuidList=peopleStatusObj.zuidList||[],throshold=peopleStatusObj.throshold;if(peopleStatusObj.limit<=Object.keys(userStatusObj).length&&(delete userStatusObj[zuidList[0]],zuidList.splice(0,1)),userStatusObj.hasOwnProperty(zuid)){var userInfo=userStatusObj[zuid],fetchedTime=userInfo.time;if((new Date).getTime()-fetchedTime<throshold)return gscontacts.renderUserAvailability(zuid,userInfo.response),!0;delete userStatusObj[zuid];var index=zuidList.indexOf(zuid);-1!==index&&zuidList.splice(index,1)}return!1},gscontacts.renderUserAvailability=function(argZuid,response){if((zgssearch.getCurrentResObj().zuid||"")==argZuid&&response.hasOwnProperty("isUserAvailable")){var isUserAvailable=response.isUserAvailable,className=isUserAvailable?"zgs19_gsPeopleStatusIn":"zgs19_gsPeopleStatusOut",textKey=isUserAvailable?"gs.search.service_people.status.in":"gs.search.service_people.status.out",textValue=zgssearch.getI18NMsg(textKey);_jQueryGS("#zgs20_gsPeopleStatus_"+argZuid).removeClass("zgs19_gsDisplayNone").addClass(className+" zgs19_gsOverflow").text(textValue)}},gscontacts.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsContactsCallout");zgssearch.setGSTagElems(menuEl),gscontacts.setContactsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscontacts)}(zgssearch,window),function(zgssearch,window){var gschat,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gschat=(gschat=void 0,(gschat=zgssearch.gschat||{}).actionList=[{continue:"gs.search.result.chat.viewtranscript_dialog.continue"}],gschat.getCalloutHolder=function(){return"zgs20_gsChatCallout"},gschat.calloutParams=function(resObj){return"searchType="+zgssearch.getCalloutSearchType()+"&chatId="+resObj.chat_id},gschat.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsChatCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),withText=zgssearch.getI18NMsg("gs.search.result.chat.callout.with"),startedBy=zgssearch.getI18NMsg("gs.search.result.chat.callout.started_by"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),dcallout=_jQueryGS("<div>",{id:"zgs20_gsChatCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.CHAT}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsChatContinueChat zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsfr",gs:"continuechat",title:continueChat})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.CHAT})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.CHAT})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"personal"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"}))).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"group"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"startedBy",title:startedBy}).text(startedBy))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"owner"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"withtext",title:withText}).text(withText))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:70%"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsBorderBox",gs:"calloutFooter",style:"padding:0px 0px 10px 10px;"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsChatCalloutFooter",gs:"chatContentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100 zgs19_gsVerticalScroll",gs:"chatcontent"})));_jQueryGS("#zgs20_gsSearchResultRight").append(dcallout)}_jQueryGS("#zgs20_gsChatCallout").attr("ccount",count)},gschat.setChatCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsChatCallout").height()-(headerHeight+metaInfoHeight);"undefined"!=typeof WebMessanger&&WebMessanger.renderTranscript?_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"):_jQueryGS(menuEl.chatContentHolder).css("height",contentHeight+"px")},gschat.calloutResponse=function(response,resObj,curRe){var hasWMSTranscript=!("undefined"==typeof WebMessanger||!WebMessanger.renderTranscript);if(hasWMSTranscript||(response=response&&response.resp||""),response&&"null"!==response){var menuEl=zgssearch.getTargetElem("zgs20_gsChatCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var calloutCount=_jQueryGS(menuEl).attr("ccount"),ctitle=resObj.title||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle);var currZUID=GSConstant.cuz,ownerid=resObj.ownerid||"",meText=zgssearch.getI18NMsg("gs.search.result.chat.callout.me"),dispName=resObj.display_name?resObj.display_name:"-";dispName=ownerid==currZUID?meText:dispName,_jQueryGS(menuEl.owner).empty().text(dispName).attr("title",dispName);var displayTime=resObj.display_time?resObj.display_time:"-",dateToolTip=zgssearch.getI18NMsg("gs.search.result.lastReplied")+" : "+displayTime;_jQueryGS(menuEl.date).empty().text(displayTime).attr("title",dateToolTip),_jQueryGS(menuEl.personal).show(),_jQueryGS(menuEl.group).hide(),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var imgId="zgs20_gsChatCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var rParticipants={},totalParticipants=0,recentParticipantsCount=0;if(resObj.hasOwnProperty("participants_count")&&(totalParticipants=parseInt(resObj.participants_count)),resObj.hasOwnProperty("recent_participants")&&(rParticipants=zgssearch.jsonParse(resObj.recent_participants),recentParticipantsCount=Object.keys(rParticipants).length),2<totalParticipants&&0<recentParticipantsCount||2===recentParticipantsCount&&!rParticipants.hasOwnProperty(currZUID)){var pCount=totalParticipants+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants");_jQueryGS(menuEl.partCount).empty().text(pCount).attr("title",pCount),gschat.loadChatParticipantsImages(menuEl,rParticipants,curRe,calloutCount)}else{var rName=ctitle,uzuid="";if("object"==typeof rParticipants)for(var rZUid in rParticipants)rName=rParticipants[uzuid=rZUid];_jQueryGS(menuEl.partCount).empty().text(rName).attr("title",rName);var isGroup=_jQueryGS(curRe.gsUserPhoto).attr("group"),photoURL=_jQueryGS(curRe.gsUserPhoto).attr("calloutphoto");if(zgssearch.renderCalloutUserPhoto(imgId,photoURL,isGroup),_jQueryGS(menuEl.personal).attr("class","zgs19_gsChatIconHolder"),"true"!=isGroup&&"-1"!==uzuid&&void 0!==uzuid){var staObj=zgssearch.getUserStatus(uzuid),sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.personal).attr("class","zgs19_gsChatIconHolder "+sname)}}_jQueryGS(menuEl.chatcontent).empty(),_jQueryGS(menuEl.chatContentHolder).hide(),_jQueryGS(menuEl.calloutFooter).empty().show(),hasWMSTranscript?WebMessanger.renderTranscript(menuEl.calloutFooter,resObj.chat_id):(_jQueryGS(menuEl.calloutFooter).hide(),_jQueryGS(menuEl.chatContentHolder).show(),gschat.formatChatContentData(menuEl.chatcontent,response),gschat.formatChatURLAndHREF(menuEl.chatcontent)),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),gschat.addCalloutActionList(menuEl),gschat.setChatCalloutEleSize(menuEl),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),_jQueryGS(menuEl.calloutFooter).scrollTop(_jQueryGS(menuEl.calloutFooter)[0].scrollHeight),_jQueryGS(menuEl.chatContentHolder).scrollLeft(0),_jQueryGS(menuEl.chatContentHolder).scrollTop(_jQueryGS(menuEl.chatContentHolder)[0].scrollHeight)}else gschat.calloutErrorMsg()},gschat.addCalloutActionList=function(menuEl){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gschat.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"chatActionList",value:key,service:GSConstant.CHAT,title:dectext}).text(dectext))}}},gschat.formatChatContentData=function(target,response){var index=0,elemId="";_jQueryGS(response).each(function(){var className=_jQueryGS(this).attr("class");if("upfilediv"===className)elemId="",_jQueryGS(target).append(this);else if("upfilediv-img"===className){elemId="";var chatDiv=_jQueryGS(this).find("div"),chatATag=_jQueryGS(this).find("a"),chatImgTag=_jQueryGS(this).find("img"),chatSize=_jQueryGS(this).find("label")[1],fileName=_jQueryGS(chatDiv).text(),chatSizeText=_jQueryGS(chatSize).text(),chatAHref=_jQueryGS(chatATag).attr("href"),chatImgSrc=_jQueryGS(chatImgTag).attr("src"),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(chatImgTag).attr("src",GSConstant.GS_CHAT_URL+chatImgSrc),_jQueryGS(target).append(_jQueryGS("<div>",{class:"upfilediv-img zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"upfilediv-imgDiv zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,title:fileTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"upfilediv-imgName zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.CHAT,url:GSConstant.GS_CHAT_URL+chatAHref,gs:"contactsurl",title:fileName}).text(fileName))).append(_jQueryGS("<div>",{class:"upfilediv-imgName upfilediv-imgSize zgs19_gsfl zgs19_gsOverflow"}).text(chatSizeText)))}else if("msghead"===className){elemId="";var spanElem=_jQueryGS(this).find("span").text()||"",senderElem=_jQueryGS(this).find("div.sender").text()||"",zuidElem=_jQueryGS(this).find("div.wmsempty").text()||"",date="",time="";if(""!==spanElem){var spanArr=(date=spanElem).split(",");if(1===spanArr.length&&(time=(time=spanArr[0])?time.trim():""),3===spanArr.length){var dateField=spanArr[1];dateField=dateField?dateField.trim():"",time=(time=spanArr[2])?time.trim():"",_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsChatDateField"}).append(_jQueryGS("<span>",{class:"zgs19_gsChatDateContent"}).text(dateField)))}}var senderName=senderElem.trim();senderName=senderName.substring(0,senderName.length-1).trim(),GSConstant.cuz==zuidElem&&(senderName=zgssearch.getI18NMsg("gs.search.result.chat.callout.me")),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsChatSenderField"}).text(senderName).append(_jQueryGS("<span>",{class:"zgs19_gsChatCalloutTime zgs19_gsfr",title:date}).text(time)))}else if("msgtxt"===className){var msgtext=_jQueryGS(this).html()||"",msgResponse=gschat.getMsgType(msgtext);_jQueryGS(this).empty().append(msgResponse),""==elemId&&(elemId="zgs20_gsChatMsgContent"+ ++index,_jQueryGS(target).append(_jQueryGS("<div>",{id:elemId,class:"zgs19_gsChatMsgContent"}))),_jQueryGS("#"+elemId).append(this)}})},gschat.getMsgType=function(msg){try{msg=" "+msg;var linkRegExp=new RegExp("([^(href|src)=\"'])((("+zgssearch.httptxt+"(s){0,1}://))([^ <\n]*))","gi");msg=(msg=(msg=(msg=(msg=msg.replace(/([a-z0-9]([a-z0-9_\-\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,3}(\.[a-z]{2}){0,2}))/gi,"<a href='mailto:$1'>$1</a>")).replace(linkRegExp,"$1<a href='$2' target='_blank'>$2</a>")).replace(/([^(href|src|\/\/)"'=])((www\.)([^ <\n]*))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+((?!js|cp)[a-z]){2})(?=( |$))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+(com|org|net|int|edu|gov|mil|info|biz))(?=( |$))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' target='_blank'>$2</a>"),msg=Smiley.replace(msg)}catch(exp){}return msg},gschat.formatChatURLAndHREF=function(target){_jQueryGS(target).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",GSConstant.GS_CHAT_URL+oldImgSrc)})},gschat.loadChatParticipantsImages=function(menuEl,participants,curRe,calloutCount){try{var pSize=0,imageCount=0,pLength=Object.keys(participants).length,prefix=document.addEventListener?"":"on",eventName=document.addEventListener?"addEventListener":"attachEvent";for(var cpId in participants){var partImg=new Image;partImg.className="zgs19_Non",partImg.title=participants[cpId],partImg.id="zgs20_chatParticipantsImg"+pSize+calloutCount,partImg.src=GSConstant.GS_CONTACTS_URL+"/file?ID="+cpId+"&exp=600&t=user&width=80&height=80"+zgssearch.nps,pSize++,menuEl.appendChild(partImg),partImg[eventName](prefix+"load",function(){imageCount+=1,gschat.loadRecentParticipantsIcons(menuEl,curRe,pLength,calloutCount,imageCount)},!0),partImg[eventName](prefix+"error",function(){_jQueryGS(this).attr("src",zgssearch.noUserPhoto)},!0)}}catch(ex){}},gschat.loadRecentParticipantsIcons=function(menuEl,curRe,pLength,calloutCount,imageCount){if(pLength===imageCount){if(_jQueryGS(menuEl.group).empty(),2===pLength){var cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount);_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants2a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg1.attr("title"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants2b zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg2.attr("title"),src:cpImg2.attr("src")}))}else if(3===pLength){cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount);var cpImg3=_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount);_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg1.attr("title"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3b zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg2.attr("title"),src:cpImg2.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3c zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg3.attr("title"),src:cpImg3.attr("src")}))}else if(4<=pLength){cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),cpImg3=_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount);var cpImg4=_jQueryGS("#zgs20_chatParticipantsImg3"+calloutCount);_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg1.attr("title"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4b zgs19_chatGroup4 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg2.attr("title"),src:cpImg2.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4c zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg3.attr("title"),src:cpImg3.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4d zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:cpImg4.attr("title"),src:cpImg4.attr("src")}))}zgssearch.curSelectedEle==curRe&&(_jQueryGS(menuEl.personal).hide(),_jQueryGS(menuEl.group).show()),_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg3"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg4"+calloutCount).remove()}},gschat.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.chat.status.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show()}},gschat.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsChatCallout");zgssearch.setGSTagElems(menuEl),gschat.setChatCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gschat)}(zgssearch,window),function(zgssearch,window){var gssupport,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupport=(gssupport=void 0,(gssupport=zgssearch.gssupport||{}).actionList=[{open:"gs.search.result.mail.open"}],gssupport.getCalloutHolder=function(){return"zgs20_gsSupportCallout"},gssupport.calloutParams=function(resObj){var mode=resObj.MODE,docId=resObj.doc_id,module=resObj.module_id,department=resObj.DEP_NAME,accId=zgssearch.getResultAccountId(),index=_jQueryGS(zgssearch.curSelectedEle).attr("index"),portalObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"portals","data"),portal=portalObj.hasOwnProperty(accId)?portalObj[accId]:"",urlParam="searchType="+zgssearch.getCalloutSearchType()+"&portal="+portal+"&department="+department+"&id="+docId+"&module="+module+"&portalId="+accId+"&cpos="+index;return"1"===module&&void 0!==mode&&"null"!==mode&&(urlParam+="&mode="+mode),resObj.hasOwnProperty("ATTACHMENT_NAMES")&&(urlParam+="&hasAttach=true"),urlParam},gssupport.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsSupportCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:"zgs20_gsSupportCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.SUPPORT,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.SUPPORT}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.SUPPORT})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"footer1"}).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutMetaInfo",class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%;"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:50%;"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:30%;"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%;"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",style:"max-width:50%;",gs:"CalloutEditFields"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",style:"max-width:90%;",gs:"receiver"})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl",gs:"CalloutEditFields_icon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDiskStatusNew zgs19_gsOverflow zgs19_gsfr",gs:"rfolderHolder",style:"max-width:30%;"}).append(_jQueryGS("<span>",{class:"zgs19_gsDeskStatusIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<span>",{gs:"rfolder"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader zgs19_gsfl",gs:"ticket_third_row"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:18%;"}).append(_jQueryGS("<span>",{gs:"duelabel"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTicketDueDate",class:"zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsEditFieldsUline zgs19_gsCurPointer zgs19_gsfl",style:"max-width:43%;",datatype:"dueDateChange",gs:"ticketAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",style:"max-width:90%;",gs:"duevalue"})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl zgs19_gsVisibleHidden",gs:"ticketDuedate_icon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:15%;"}).append(_jQueryGS("<span>",{gs:"statuslabel"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTicketStatus",class:"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsfl",style:"max-width:24%;",datatype:"statusChange",gs:"ticketAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",style:"max-width:90%",gs:"statusvalue"})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsVisibleHidden zgs19_gsfl",gs:"ticketStatus_icon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))))))).append(_jQueryGS("<div>",{id:"zgs20_gsSupportCalloutFooter",class:"zgs19_gsCalloutFooterHolder zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(_jQueryGS("<div>",{id:"zgs20_gsSupportCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"footer2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsSupportCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsSupportCalloutIconHeight",gs:"metaInfo2"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl",gs:"contactsMetaInfo",style:"margin:21px 0px;"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder zgs19_gsSupportCalloutcontPartHolder zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"supportCalloutData"}))));_jQueryGS("#zgs20_gsSearchResultRight").append(ccallout)}_jQueryGS("#zgs20_gsSupportCallout").attr("ccount",count)},gssupport.setSupportCalloutEleSize=function(menuEl){var footerAttr=_jQueryGS(menuEl.footer1).is(":visible")?"supportcalloutFooter1":"supportcalloutFooter2",headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.footer1).is(":visible")?_jQueryGS(menuEl.metaInfo1).height():_jQueryGS(menuEl.metaInfo2).height()+(_jQueryGS(menuEl[footerAttr]).outerHeight(!0)-_jQueryGS(menuEl[footerAttr]).height()),contentHeight=_jQueryGS("#zgs20_gsSupportCallout").height()-(headerHeight+metaInfoHeight);_jQueryGS(menuEl[footerAttr]).css("height",contentHeight+"px");var imgWidth=_jQueryGS(menuEl.calloutIconHolder).outerWidth()+30,CalloutWidth=_jQueryGS("#zgs20_gsSearchResultRight").width();_jQueryGS(menuEl.contactsMetaInfo).css("width",CalloutWidth-imgWidth)},gssupport.calloutResponse=function(response,resObj,curRe,argObj){var menuEl=zgssearch.getTargetElem("zgs20_gsSupportCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var module=resObj.module_id;response=response||{},!(argObj=argObj||{}).updateRecord||response&&!response.hasOwnProperty("error")||(gssupport.calloutRespData.assigneeId="Unassigned"==argObj.owner.id?"null":argObj.owner.id,response=gssupport.calloutRespData),gssupport.calloutRespData=response;var calloutCount=_jQueryGS(menuEl).attr("ccount");if(_jQueryGS(menuEl.footer1).hide(),_jQueryGS(menuEl.footer2).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.maxpreview).hide(),_jQueryGS(menuEl.minpreview).hide(),_jQueryGS(menuEl.CalloutEditFields_icon).addClass("zgs19_gsVisibleHidden"),_jQueryGS(menuEl.CalloutEditFields).attr("datatype",""),_jQueryGS(menuEl.CalloutEditFields).removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),"1"==module||"2"==module)if(response)if(response.hasOwnProperty("result")){_jQueryGS(menuEl.footer1).show(),_jQueryGS(menuEl.rfolderHolder).show(),_jQueryGS(menuEl.ticket_third_row).hide(),_jQueryGS(menuEl.contentHolder).empty(),_jQueryGS(menuEl.metaInfo1).css("minHeight",70),_jQueryGS(menuEl.metaInfo1).css("maxHeight",95);var sctitle="",responseData=response.result,foldername=responseData.Status?responseData.Status:"";if("1"===module){sctitle=resObj.CASENUMBER+" - "+resObj.support_title,_jQueryGS(menuEl.ctitle).empty().text(sctitle).attr("title",sctitle);var postedBy=zgssearch.getI18NMsg("gs.search.result.support.from"),fromTitle=responseData.Email&&"null"!=responseData.Email?responseData.Email:resObj.CONTACTNAME;_jQueryGS(menuEl.slabel).empty().text(postedBy).attr("title",postedBy),_jQueryGS(menuEl.sender).empty().text(fromTitle).attr("title",fromTitle),_jQueryGS(menuEl.date).empty().text(resObj.display_time).attr("title",resObj.display_time);var caseOwner=responseData["Case Owner"],assign=zgssearch.getI18NMsg("gs.search.result.support.callout.assignto"),Unassigned=zgssearch.getI18NMsg("gs.search.result.support.callout.Unassigned"),Notassigned=zgssearch.getI18NMsg("gs.search.result.support.callout.Notassigned"),assigneeName=caseOwner==Unassigned&&"null"==response.assigneeId?Notassigned:caseOwner;_jQueryGS(menuEl.rlabel).empty().text(assign).attr("title",assign),_jQueryGS(menuEl.receiver).empty().text(assigneeName).attr("title",assigneeName),_jQueryGS(menuEl.rfolder).empty().text(foldername).attr("title",foldername);var dueValue="",dueLabel="";if(_jQueryGS(menuEl.rfolderHolder).hide(),_jQueryGS(menuEl.ticket_third_row).show(),"Closed"==(response.statusType?response.statusType:""))dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.closedtime"),dueValue=response.disp_closeTime?response.disp_closeTime:"",_jQueryGS("#zgs20_gsTicketDueDate").attr("datatype",""),_jQueryGS("#zgs20_gsTicketDueDate").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketDuedate_icon).removeClass("zgs19_gsModuleFilterElemIcon");else{_jQueryGS("#zgs20_gsTicketDueDate").attr("datatype","dueDateChange"),_jQueryGS("#zgs20_gsTicketDueDate").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketDuedate_icon).addClass("zgs19_gsModuleFilterElemIcon"),dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.duedate"),dueValue=(dueValue=response.disp_dueDate?response.disp_dueDate:"")&&"null"!=dueValue?dueValue:zgssearch.getI18NMsg("gs.search.result.support.callout.noduedate");var key_dueDate=response.key_dueDate?response.key_dueDate:"",fromdate=key_dueDate&&"null"!=key_dueDate?key_dueDate:void 0;zgssearch.curDatePickerObj={service:GSConstant.SUPPORT,key:"date",soid:"duedate",fromdate:fromdate}}_jQueryGS(menuEl.duelabel).empty().text(dueLabel).attr("title",dueLabel),_jQueryGS(menuEl.duevalue).empty().text(dueValue).attr("title",dueValue),_jQueryGS(menuEl.statuslabel).empty().text("status").attr("title","status"),_jQueryGS(menuEl.statusvalue).empty().text(foldername).attr("title",foldername);var description=responseData.Description||"",actualContent=response.actualContent||"";(description&&"null"!=description||actualContent&&"null"!=actualContent)&&(actualContent&&"null"!=actualContent?_jQueryGS(menuEl.contentHolder).append(actualContent):description&&"null"!=description&&_jQueryGS(menuEl.contentHolder).append(description),zgssearch.preventStylesFromParentDomain(_jQueryGS(menuEl.contentHolder)),gssupport.loadDeskImagesWithDomain(menuEl.contentHolder)),gssupport.addChangeOwnerOption(menuEl,response),gssupport.addEventForDeskArrow(),zgssearch.hasDatePicker?zgssearch.addDeskDueDatePickerOption():zgssearch.loadDatePicker(GSConstant.SUPPORT,zgssearch.addDeskDueDatePickerOption)}else{sctitle=resObj.support_title||"",_jQueryGS(menuEl.ctitle).empty().text(sctitle).attr("title",sctitle);var createdBy=responseData["Created By"]||"-";postedBy=zgssearch.getI18NMsg("gs.search.result.callout.createdby"),_jQueryGS(menuEl.slabel).empty().text(postedBy).attr("title",postedBy),_jQueryGS(menuEl.sender).empty().text(createdBy).attr("title",createdBy),_jQueryGS(menuEl.date).empty().text(resObj.display_time).attr("title",resObj.display_time);var topicname=resObj.TOPIC_NAME||"",forum=zgssearch.getI18NMsg("gs.search.result.support.in");_jQueryGS(menuEl.rlabel).empty().text(forum).attr("title",forum),_jQueryGS(menuEl.receiver).empty().text(topicname).attr("title",topicname),_jQueryGS(menuEl.rfolder).empty().text(foldername).attr("title",foldername),"null"!==responseData.Answer&&(_jQueryGS(menuEl.contentHolder).append(responseData.Answer),zgssearch.preventStylesFromParentDomain(_jQueryGS(menuEl.contentHolder)),gssupport.loadDeskImagesWithDomain(menuEl.contentHolder))}if(response.hasOwnProperty("attach")){var attachArr=response.attach||[],threadId=response.threadId||"",len=attachArr.length;if(0<len){var acount=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{title:acount}).text(acount)));for(var i=0;i<len;i++){var val=attachArr[i],fileName=zgssearch.replaceHTMLEntity(val.name),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,title:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.SUPPORT,downloadUrl:val.downloadUrl||"",tId:threadId,aId:val.id||val.resourceId,gs:"attachtitle",title:fileName}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.size)))))}_jQueryGS(menuEl.moveToAttachArea).show(),_jQueryGS(menuEl.attachHolder).show()}}_jQueryGS(menuEl.actionPipe).show(),zgssearch.isMaxCalloutOpen?_jQueryGS(menuEl.minpreview).show():_jQueryGS(menuEl.maxpreview).show(),zgssearch.getCurrentResObj().doc_id==resObj.doc_id&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.supportcalloutFooter1).scrollTop(0),_jQueryGS(menuEl.supportcalloutFooter1).scrollLeft(0),gssupport.addCalloutActionList(menuEl)}else gssupport.calloutErrorMsg();else gssupport.calloutErrorMsg();else if("3"==module||"4"==module){_jQueryGS(menuEl.lineicon).hide(),_jQueryGS(menuEl.supportCalloutData).empty(),_jQueryGS(menuEl.footer2).show();var scctitle=resObj.support_title||"";_jQueryGS(menuEl.ctitle).empty().text(scctitle).attr("title",scctitle);var sphoto="3"==module?"zgs19_gsSuppContactsPhotoNew":"zgs19_gsSuppAccountPhotoNew";_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:"zgs20_gsSupportCalloutUserImg"+calloutCount,class:"zgs19_gsResultsUniIcons "+sphoto,src:zgssearch.gsspacer})),_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl",title:scctitle}).text(scctitle));var mobileLabel=zgssearch.getI18NMsg("gs.search.sevice_contacts_mobile"),phoneLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.phone"),emailLabel=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.email_address"),webLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.weburl");zgssearch.renderContactsEmailId(menuEl,menuEl.supportCalloutData,emailLabel,resObj.EMAIL||""),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,mobileLabel,resObj.MOBILE||""),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,phoneLabel,resObj.PHONE||"");var webtxt=resObj.WEBSITE||"";if(webtxt){var webArr=[];webArr.push(webtxt),zgssearch.renderInstantORWebInfo(menuEl,menuEl.supportCalloutData,"url",webLabel,webArr)}var street="",city="",state="",country="",zip="";"3"===module&&(street=resObj.MAILINGSTREET,city=resObj.MAILINGCITY,state=resObj.MAILINGSTATE,country=resObj.MAILINGCOUNTRY,zip=resObj.MAILINGZIP),"4"===module&&(street=resObj.BILLINGSTREET,city=resObj.BILLINGCITY,state=resObj.BILLINGSTATE,country=resObj.BILLINGCOUNTRY,zip=resObj.BILLINGZIP);var lstreet=zgssearch.getI18NMsg("gs.search.result.support.callout.street"),lcity=zgssearch.getI18NMsg("gs.search.result.support.callout.city"),lstate=zgssearch.getI18NMsg("gs.search.result.support.callout.state"),lcountry=zgssearch.getI18NMsg("gs.search.result.support.callout.country"),lzip=zgssearch.getI18NMsg("gs.search.result.support.callout.zip");zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lstreet,street),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lcity,city),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lstate,state),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lcountry,country),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lzip,zip),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.supportCalloutData).scrollTop(0),_jQueryGS(menuEl.supportCalloutData).scrollLeft(0),gssupport.addCalloutActionList(menuEl)}gssupport.setSupportCalloutEleSize(menuEl)},gssupport.addCalloutActionList=function(menuEl){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gssupport.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"supportActionList",value:key,service:GSConstant.SUPPORT,title:dectext}).text(dectext))}}},gssupport.addChangeOwnerOption=function(menuEl,response){var assigneeId=response.assigneeId||"null",portalId=zgssearch.getResultAccountId(),unusedModData=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");if(unusedModData.hasOwnProperty(portalId)){var permData=unusedModData[portalId],coflag=permData["1_co"]||!1,ucoflag=permData["1_uco"]||!1;1!=coflag&&(1!=ucoflag||null!=assigneeId&&"null"!=assigneeId)||(gssupport.assigneeId=assigneeId||"",_jQueryGS(menuEl.CalloutEditFields_icon).removeClass("zgs19_gsVisibleHidden"),_jQueryGS(menuEl.CalloutEditFields).attr("datatype","deskOwnerChange"),_jQueryGS(menuEl.CalloutEditFields).addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"))}},gssupport.addEventForDeskArrow=function(){_jQueryGS("#zgs20_gsSupportCallout .zgs19_gsDeskTicketArrowElem").off().on({mousemove:function(){"ticketAction"==_jQueryGS(this).attr("gs")&&_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var soid=_jQueryGS(this).attr("gs");zgssearch.isDatePickerDisplay||"ticketAction"!=soid||_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}})},gssupport.isAgentsExists=function(){var portalId=zgssearch.getResultAccountId(),deptId=zgssearch.getFilterInfo(GSConstant.SUPPORT,"departments","current"),ownerList=zgssearch.gsusercontacts.getSupportContactsObj(portalId,deptId);return 0<Object.keys(ownerList).length},gssupport.getUrlModuleName=function(moduleId){switch(moduleId){case"1":return"Cases";case"2":return"Solutions";case"3":return"Contacts";case"4":return"Accounts"}},gssupport.getModuleName=function(moduleId,acc_id){var modulesObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","data");if(modulesObj.hasOwnProperty(acc_id)){var portalObj=modulesObj[acc_id];if(portalObj.hasOwnProperty(moduleId))return portalObj[moduleId]}return""},gssupport.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsSupportCalloutFooter","zgs20_gsSupportCalloutAttachInfo")},gssupport.downloadAttachment=function(elem){var downloadUrl=_jQueryGS(elem).attr("downloadUrl");if(downloadUrl&&""!=downloadUrl)window.open(downloadUrl);else{var atName=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),threadId=_jQueryGS(elem).attr("tId"),docId=zgssearch.getCurrentResObj().doc_id,portalId=zgssearch.getResultAccountId(),params="searchType="+zgssearch.getCalloutSearchType()+"&id="+docId+"&portalId="+portalId+"&threadId="+threadId+"&attachId="+atIndex+"&atName="+atName;window.open(zgssearch.attachmentURL+"?"+params)}},gssupport.loadDeskImagesWithDomain=function(id){_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&-1!=oldImgSrc.indexOf("/ImageDisplayZSupportAPI?")&&(oldImgSrc=oldImgSrc.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"),_jQueryGS(this).attr("src",oldImgSrc))}),_jQueryGS(id).find("a").each(function(){var oldImgSrc=_jQueryGS(this).attr("href");if(oldImgSrc&&0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")){var extra=0==oldImgSrc.indexOf("/")?"":"/";_jQueryGS(this).attr("href","https://"+GSConstant.GS_SUPPORT_URL+extra+oldImgSrc)}})},gssupport.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.support.status.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show()}},gssupport.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsSupportCallout");zgssearch.setGSTagElems(menuEl),gssupport.setSupportCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gssupport)}(zgssearch,window),function(zgssearch,window){var gsconnect,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnect=(gsconnect=void 0,(gsconnect=zgssearch.gsconnect||{}).actionList=[{open:"gs.search.result.mail.open"}],gsconnect.getCalloutHolder=function(){return"zgs20_gsConnectCallout"},gsconnect.calloutParams=function(resObj){var accId=zgssearch.getResultAccountId(),index=_jQueryGS(zgssearch.curSelectedEle).attr("index"),ctype="FORUMS"==resObj.type?resObj.type:"FEEDS";return"searchType="+zgssearch.getCalloutSearchType()+"&streamId="+resObj.id+"&networkId="+zgssearch.pulseNetworkId[accId]+"&ctype="+ctype+"&cpos="+index},gsconnect.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsConnectCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:"zgs20_gsConnectCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.CONNECT,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.CONNECT}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.CONNECT})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:75px"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:210px"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:90px"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"streamsFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"margin-top:2.5px;"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl",gs:"receiverin",style:"max-width:25px;"}).text(zgssearch.getI18NMsg("gs.search.result.support.in")))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:310px;margin-top:2.5px;",gs:"receiver"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr",style:"max-width:110px"}).append(_jQueryGS("<span>",{gs:"rfolder"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"blogsFooter"}))))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectCalloutFooter",class:"zgs19_gsCalloutFooter zgs19_gsConnectCalloutFooter zgs19_gsConnectCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtHolder",gs:"eventHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutEvtDescInfo",gs:"descHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectPollOption zgs19_gsOverflow",gs:"pollOptions"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectSharedPost zgs19_gsOverflow",gs:"sharedPostHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDiv",gs:"LinkHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkImgDiv zgs19_gsCurPointer zgs19_gsfl",gs:"zgs20_gsConnectLinkImageDiv",id:"zgs20_gsConnectLinkImageDiv"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkRightPanel zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkTitleDiv"}).append(_jQueryGS("<a>",{id:"zgs20_gsConnectLinkTitle",class:"zgs19_gsConnectLinkTitle zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDescDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflowWrap zgs19_gsfl",gs:"zgs20_gsConnectLinkDesc"}))))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCommentInfo zgs19_gsDisplayNone",gs:"commentHolder"})));_jQueryGS("#zgs20_gsSearchResultRight").append(ccallout)}_jQueryGS("#zgs20_gsConnectCallout").attr("ccount",count)},gsconnect.setConnectCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsConnectCallout").height()-(headerHeight+metaInfoHeight);_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsconnect.calloutResponse=function(response,resObj,curRe){if(response&&!zgssearch.regNull.test(response)){if(response.hasOwnProperty("content")){var menuEl=zgssearch.getTargetElem("zgs20_gsConnectCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var calloutCount=_jQueryGS(menuEl).attr("ccount"),ctitle=resObj.title||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle);var zuid=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var imgId="zgs20_gsConnectCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var staObj=zgssearch.getUserStatus(zuid);if(_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(zuid);zgssearch.renderCalloutUserPhoto(imgId,photoURL)}else zgssearch.renderCalloutNoUserPhoto(imgId);var ctime=resObj.time||"",postedBy="SHARED"==resObj.type?zgssearch.getI18NMsg("gs.search.result.document.callout.sharedby"):zgssearch.getI18NMsg("gs.search.service_connect.callout.postedBy");if(_jQueryGS(menuEl.slabel).empty().text(postedBy).attr("title",postedBy),_jQueryGS(menuEl.sender).empty().text(resObj.author).attr("title",resObj.author),_jQueryGS(menuEl.date).empty().text(ctime).attr("title",ctime),_jQueryGS(menuEl.receiver).empty(),_jQueryGS(menuEl.receiverin).hide(),_jQueryGS(menuEl.streamsFooter).hide(),_jQueryGS(menuEl.blogsFooter).hide(),"FORUMS"==resObj.type)_jQueryGS(menuEl.blogsFooter).show(),response.hasOwnProperty("categories")&&gsconnect.renderBlogCategoriesDetails(menuEl.blogsFooter,response.categories);else{_jQueryGS(menuEl.streamsFooter).show(),_jQueryGS(menuEl.receiverin).show();var parSpan=zgssearch.getConnectPartitionElem(resObj,"zgs19_gsConnResApost"),authorName=_jQueryGS(parSpan[0])[0],apostrophe=_jQueryGS(parSpan[1])[0],wallTxt=_jQueryGS(parSpan[2])[0];_jQueryGS(menuEl.receiver).append(authorName,apostrophe,wallTxt)}if(_jQueryGS(menuEl.descHolder).hide().empty(),_jQueryGS(menuEl.eventHolder).hide().empty(),_jQueryGS(menuEl.contentHolder).hide().empty(),"EVENT"==resObj.type){_jQueryGS(menuEl.eventHolder).show();var eventStartTime=resObj.eventStartTime,eDate=eventStartTime.substr(0,eventStartTime.indexOf(" ")),eMonth=eventStartTime.substr(eventStartTime.indexOf(" ")+1),timeElem="";if(response.hasOwnProperty("est")){var eTo=zgssearch.getI18NMsg("gs.search.result.mail.to"),timer=zgssearch.getI18NMsg("gs.search.service_connect.timer");timeElem=_jQueryGS("<div>",{class:"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsEventIcon zgs19_gsfl",title:timer})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtValue zgs19_gsOverflow zgs19_gsfl",title:response.est}).text(response.est)),response.hasOwnProperty("eet")&&timeElem.append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtLabel zgs19_gsOverflow zgs19_gsfl",title:eTo}).text(eTo)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtValue zgs19_gsOverflow zgs19_gsfl",title:response.eet}).text(response.eet))}var locElem="",location=response.location?response.location:"";if(""!=location){var locIcon=zgssearch.getI18NMsg("gs.search.service_connect.location");locElem=_jQueryGS("<div>",{class:"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsConnectEvtlocIcon zgs19_gsfl",title:locIcon})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtlocValue zgs19_gsOverflow zgs19_gsfl",title:location}).text(location))}var exprElem="",isStarted=!!response.isStarted,isExpired=!!response.isExpired;if(isStarted||isExpired){var statusClass=isStarted?"zgs19_gsConnectEvtStarted":"zgs19_gsConnectEvtExpired",statusText=isStarted?zgssearch.getI18NMsg("gs.search.service_connect.callout.eventStarted"):zgssearch.getI18NMsg("gs.search.service_connect.callout.eventOver");exprElem=_jQueryGS("<div>",{class:"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtStatus zgs19_gsOverflow zgs19_gsfl "+statusClass,title:statusText}).text(statusText))}if(_jQueryGS(menuEl.eventHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtLeftNew zgs19_gsfl",title:eventStartTime}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtDate zgs19_gsBorderBox zgs19_gsOverflow"}).text(eDate)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtMonth zgs19_gsBorderBox zgs19_gsOverflow"}).text(eMonth))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtRight zgs19_gsfl"}).append(timeElem).append(locElem).append(exprElem)),response.hasOwnProperty("desc")){_jQueryGS(menuEl.descHolder).show();var descrp=zgssearch.getI18NMsg("gs.search.service_connect.description");_jQueryGS(menuEl.descHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtDescLabel",title:descrp}).text(descrp)).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo"}).append(response.desc))}}else{_jQueryGS(menuEl.contentHolder).show();var sContent=response.content?response.content:"";_jQueryGS(menuEl.contentHolder).append(sContent)}if(zgssearch.preventStylesFromParentDomain(menuEl.contentHolder),gsconnect.addDomainForUsersAndGroups(menuEl.contentHolder),_jQueryGS(menuEl.pollOptions).hide(),_jQueryGS(menuEl.pollOptions).empty(),_jQueryGS(menuEl.sharedPostHolder).hide(),_jQueryGS(menuEl.sharedPostHolder).empty(),"POLL"==resObj.type){var pollOptions=zgssearch.getI18NMsg("gs.search.service_connect.callout.viewPollOptions");_jQueryGS(menuEl.pollOptions).append(_jQueryGS("<a>",{title:pollOptions,gs:"contactsurl",href:resObj.url,url:resObj.url,title:pollOptions}).text(pollOptions)),_jQueryGS(menuEl.pollOptions).show()}else if("SHARED"==resObj.type){var sharedObj=response.sharedStream;gsconnect.renderSharedPostDetails(menuEl,sharedObj),_jQueryGS(menuEl.sharedPostHolder).show()}if(_jQueryGS(menuEl.LinkHolder).hide(),response.hasOwnProperty("link")){var linkObj=response.link;gsconnect.renderLinkDetails(menuEl,linkObj,resObj)}_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty();var attachArray=response.attachments?response.attachments:[],imageArray=response.images?response.images:[],len=attachArray.length+imageArray.length;if(0<len){var acount=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{title:acount}).text(acount))),gsconnect.renderAttachment(menuEl.attachHolder,attachArray,""),gsconnect.renderAttachment(menuEl.attachHolder,imageArray,""),_jQueryGS(menuEl.moveToAttachArea).show(),_jQueryGS(menuEl.attachHolder).show()}_jQueryGS(menuEl.commentHolder).hide(),_jQueryGS(menuEl.commentHolder).empty();var cCount=response.ccount?response.ccount:0,commentArray=response.comment?response.comment:[];0<cCount&&0<commentArray.length&&gsconnect.renderRecentCommentDetails(menuEl,resObj,commentArray,cCount),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsconnect.addCalloutActionList(menuEl)}else gsconnect.calloutErrorMsg();gsconnect.setConnectCalloutEleSize(menuEl)}else gsconnect.calloutErrorMsg()},gsconnect.renderSharedPostDetails=function(menuEl,sharedObj){var sharedParSpan=zgssearch.getConnectPartitionElem(sharedObj,"zgs19_gsConnResApost"),authorName=_jQueryGS(sharedParSpan[0])[0],apostrophe=_jQueryGS(sharedParSpan[1])[0],wallTxt=_jQueryGS(sharedParSpan[2])[0],viewSharedPost=zgssearch.getI18NMsg("gs.search.service_connect.callout.viewSharedPost"),hasPosted=zgssearch.getI18NMsg("gs.search.service_connect.callout.hasPosted")+" "+zgssearch.getI18NMsg("gs.search.result.support.in"),csUserTag="",cszuid=sharedObj.zuid||"",accId=zgssearch.getResultAccountId(),sharedURL=zgssearch.pulseNetworkURL[accId]+"/stream/"+sharedObj.id;if(cszuid&&"-1"!=cszuid){var aTagHref=zgssearch.pulseNetworkURL[accId]+"/profile/"+cszuid;csUserTag=_jQueryGS("<a>",{class:"zgs19_gsConnectCommentTitle",href:aTagHref,gs:"contactsurl",url:aTagHref,title:sharedObj.author}).text(sharedObj.author)}else csUserTag=_jQueryGS("<span>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsfl",title:sharedObj.author}).text(sharedObj.author);_jQueryGS(menuEl.sharedPostHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnctSharedOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnctSharedHeader"}).append(csUserTag).append(_jQueryGS("<span>",{title:hasPosted}).text(" "+hasPosted+" ")).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutUserValue"}).append(authorName).append(apostrophe).append(wallTxt))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectSharedContent",class:"zgs19_gsConnectSharedContent zgs19_gsOverflowWrap"}).append(sharedObj.content)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectSharedOption zgs19_gsOverflow"}).append(_jQueryGS("<a>",{title:viewSharedPost,gs:"contactsurl",href:sharedURL,url:sharedURL}).text(viewSharedPost)))),zgssearch.preventStylesFromParentDomain("#zgs20_gsConnectSharedContent"),gsconnect.addDomainForUsersAndGroups("#zgs20_gsConnectSharedContent")},gsconnect.renderLinkDetails=function(menuEl,linkObj,resObj){var linkDesc=linkObj.desc?linkObj.desc:"",linkURL=linkObj.linkurl?linkObj.linkurl:"",linkInfoId=linkObj.linkInfoId?linkObj.linkInfoId:"",linkTitle=linkObj.title?zgssearch.replaceHTMLEntity(linkObj.title):"";if(_jQueryGS(menuEl.zgs20_gsConnectLinkDesc).empty().append(linkDesc),_jQueryGS("#zgs20_gsConnectLinkTitle").attr("href",linkURL),_jQueryGS("#zgs20_gsConnectLinkTitle").attr("url",linkURL),_jQueryGS("#zgs20_gsConnectLinkTitle").empty().text(linkTitle).attr("title",linkTitle),_jQueryGS(menuEl.zgs20_gsConnectLinkImageDiv).empty().append(_jQueryGS("<img>",{id:"zgs20_gsConnectLinkImage_"+linkInfoId,class:"zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_Cursor zgs19_gsfl",src:zgssearch.gsspacer,url:linkURL,gs:"contactsurl"})),linkInfoId){var accId=zgssearch.getResultAccountId(),downloadURL=zgssearch.getURLHostName(zgssearch.pulseNetworkURL[accId]),linkImgURL=zgssearch.httptxt+"s://"+downloadURL+"/pulse/getLinkFile.do?streamId="+resObj.id+"&scopeID="+zgssearch.pulseNetworkId[accId]+"&timestamp="+linkInfoId;gsconnect.loadConnectimage(menuEl,linkImgURL,"zgs20_gsConnectLinkImage_"+linkInfoId)}else _jQueryGS("#zgs20_gsConnectLinkImage_"+linkInfoId).attr("src",zgssearch.gsspacer).addClass("zgs19_gsConnectLinkImgPhoto zgs19_gsConnectLinkImgSrc").removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader");_jQueryGS(menuEl.LinkHolder).show()},gsconnect.generateConnectCalloutImage=function(isLoaded){"use strict";return function(){var imageEle=zgssearch.getTargetElem(this.getAttribute("gs"));imageEle&&(_jQueryGS(imageEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_gsConnectLinkImgSrc").addClass("zgs19_gsConnectLinkImgPhoto"),isLoaded?imageEle.src=this.src:(imageEle.src=zgssearch.gsspacer,_jQueryGS(imageEle).addClass("zgs19_gsConnectLinkImgSrc")),zgssearch.removeEle(this))}},gsconnect.loadConnectimage=function(menuEl,photoURL,id){var serviceImgDummy=new Image;serviceImgDummy.setAttribute("gs",id),serviceImgDummy.className="zgs19_gsDisplayNone",serviceImgDummy.src=photoURL,menuEl.appendChild(serviceImgDummy);var prefix=document.addEventListener?"":"on",eventName=document.addEventListener?"addEventListener":"attachEvent";serviceImgDummy[eventName](prefix+"load",gsconnect.generateConnectCalloutImage(!0),!0),serviceImgDummy[eventName](prefix+"error",gsconnect.generateConnectCalloutImage(!1),!0)},gsconnect.renderRecentCommentDetails=function(menuEl,resObj,commentArray,cCount){var recentCommentsTitle=zgssearch.getI18NMsg("gs.search.service_connect.callout.recentComments");"FORUMS"==resObj.type&&(recentCommentsTitle=zgssearch.getI18NMsg("gs.search.service_connect.callout.Comments")),_jQueryGS(menuEl.commentHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{title:recentCommentsTitle}).text(recentCommentsTitle)));for(var c=0;c<commentArray.length;c++){var cObj=commentArray[c],commentId="zgs20_gsConnectComment"+c,commentContentId="zgs20_gsConnectCommentContent"+c,attachId="zgs20_gsConnectCommentAttachmentHolder"+c,ccUserTag="",cczuid=cObj.zuid||"";if(cczuid&&"-1"!=cczuid){var accId=zgssearch.getResultAccountId(),aTagHref=zgssearch.pulseNetworkURL[accId]+"/profile/"+cczuid;ccUserTag=_jQueryGS("<a>",{class:"zgs19_gsConnectCommentTitle zgs19_gsOverflow",href:aTagHref,gs:"contactsurl",url:aTagHref,title:cObj.name}).text(cObj.name)}else ccUserTag=_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl",title:cObj.name}).text(cObj.name);if(_jQueryGS(menuEl.commentHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentHolder",id:commentId+"Holder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:commentId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(ccUserTag).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(cObj.time)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap",id:commentContentId}).append(cObj.content)).append(_jQueryGS("<div>",{id:commentId+"_chat",class:"zgs19_gsConnChatHolder"})).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentAttach zgs19_gsOverflow",id:attachId})))),cObj.hasOwnProperty("chatletTitle")){var chatid=cObj.chid,chatTitle=cObj.chatletTitle,continuechat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue");_jQueryGS("#"+commentId+"_chat").append(_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow",title:chatTitle}).text(chatTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnChatCount zgs19_gsCurPointer zgs19_gsOverflow",gs:"connectcontinuechat",chatid:chatid}).text(continuechat))}zgssearch.preventStylesFromParentDomain("#"+commentContentId),gsconnect.addDomainForUsersAndGroups("#"+commentContentId);var cphotoURL=zgssearch.getThumbPhotoURL(cczuid);zgssearch.updateUserPhoto(commentId+"Holder",cphotoURL);var attachArray=cObj.attachments?cObj.attachments:[],imageArray=cObj.images?cObj.images:[];gsconnect.renderAttachment("#"+attachId,attachArray,"comment"),gsconnect.renderAttachment("#"+attachId,imageArray,"comment")}var ccURL=resObj.url||"";if(ccURL&&3<cCount){var ccherf=ccURL+"/"+cObj.id,viewAllCommentsTitle=zgssearch.getI18NMsg("gs.search.service_connect.callout.viewAllComments");_jQueryGS(menuEl.commentHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentMore zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{title:viewAllCommentsTitle,href:ccherf,gs:"contactsurl",url:ccherf,title:viewAllCommentsTitle}).text(viewAllCommentsTitle)))}_jQueryGS(menuEl.commentHolder).show()},gsconnect.renderAttachment=function(holder,cattach,comment){for(var i=0;i<cattach.length;i++){var val=cattach[i],fileName=zgssearch.replaceHTMLEntity(val.name),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(holder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,title:fileTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsLinkElem",service:GSConstant.CONNECT,aId:val.fileId,gs:"attachtitle",comment:comment,title:fileName}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(val.size))))}},gsconnect.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsConnectCalloutFooter","zgs20_gsConnectCalloutAttachInfo")},gsconnect.downloadAttachment=function(elem){var accId=zgssearch.getResultAccountId(),fileId=_jQueryGS(elem).attr("aId"),comment="comment"==_jQueryGS(elem).attr("comment")?"&isComment=true":"",downloadURL=zgssearch.getURLHostName(zgssearch.pulseNetworkURL[accId]),domainURL=zgssearch.httptxt+"s://"+downloadURL+"/connect/downloadFile.do?fileId="+fileId+"&scopeID="+zgssearch.pulseNetworkId[accId]+"&size=original"+comment;window.open(domainURL)},gsconnect.addDomainForUsersAndGroups=function(id){var accId=zgssearch.getResultAccountId(),downloadURL=zgssearch.httptxt+"s://"+zgssearch.getURLHostName(zgssearch.pulseNetworkURL[accId]);_jQueryGS(id).find("img").each(function(){var oldTagSrc=_jQueryGS(this).attr("src")?_jQueryGS(this).attr("src"):"";""!=oldTagSrc&&0===oldTagSrc.indexOf("/")&&_jQueryGS(this).attr("src",downloadURL+oldTagSrc)}),_jQueryGS(id).find("a").each(function(){var oldTagHref=_jQueryGS(this).attr("href")?_jQueryGS(this).attr("href"):"";if(""!=oldTagHref){if(0===oldTagHref.indexOf("#")||0===oldTagHref.indexOf("/")){var index=0==oldTagHref.indexOf("#/")?2:1;oldTagHref=0===(oldTagHref=oldTagHref.substring(index,oldTagHref.length)).indexOf("connect/viewFile.do")?downloadURL+"/"+oldTagHref:zgssearch.pulseNetworkURL[accId]+"/"+oldTagHref}_jQueryGS(this).removeAttr("onclick"),_jQueryGS(this).attr("target","_blank"),_jQueryGS(this).attr("href",oldTagHref)}})},gsconnect.renderBlogCategoriesDetails=function(holder,categoriesArr){_jQueryGS(holder).empty(),_jQueryGS("#zgs20_gsBlogCategoryList").remove();for(var lenArr=categoriesArr.length,cwidth=1==lenArr?"90%":2==lenArr?"45%":3<=lenArr?"20%":"",i=0;i<lenArr&&i<3;i++){var cateObj=categoriesArr[i];if(cateObj.hasOwnProperty("name")){var cbgColor=cateObj.bgColor,cid=cateObj.id,cname=cateObj.name;cname=(cname=zgssearch.replaceHTMLEntity(cname)).toUpperCase();var cstyle="color:#"+cbgColor+";border-color:#"+cbgColor+";max-width:"+cwidth+";";_jQueryGS(holder).append(_jQueryGS("<a>",{class:"zgs19_gsBlogCategory zgs19_gsOverflow zgs19_gsfl",cid:cid,title:cname,style:cstyle}).text(cname))}}if(3<lenArr){var rcount=lenArr-3;_jQueryGS(holder).append(_jQueryGS("<div>",{id:"zgs20_gsBlogCategoryMore",class:"zgs19_gsMoreBlogCategory zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsfl",gs:"moreBlogCategory"}).text("+"+rcount+" more")),_jQueryGS(holder).append(_jQueryGS("<div>",{id:"zgs20_gsBlogCategoryList",class:"zgs19_gsBlogCategoryList zgs19_gsDisplayNone",gs:"blogCategoryList"})),gsconnect.renderMoreBlogCategoryList(lenArr,categoriesArr)}},gsconnect.renderMoreBlogCategoryList=function(lenArr,categoriesArr){for(var i=0;i<lenArr;i++){var cateObj=categoriesArr[i];if(cateObj.hasOwnProperty("name")){var cbgColor=cateObj.bgColor,cid=cateObj.id,cname=cateObj.name;cname=(cname=zgssearch.replaceHTMLEntity(cname)).toUpperCase();var cstyle="color:#"+cbgColor+";";_jQueryGS("#zgs20_gsBlogCategoryList").append(_jQueryGS("<div>",{class:"zgs19_gsBlogCategoryListch zgs19_gsOverflow",cid:cid,style:cstyle}).append(_jQueryGS("<span>",{title:cname}).text(cname)))}}},gsconnect.addCalloutActionList=function(menuEl){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gsconnect.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"connectActionList",value:key,service:GSConstant.CONNECT,title:dectext}).text(dectext))}}},gsconnect.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.service_connect.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show()}},gsconnect.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsConnectCallout");zgssearch.setGSTagElems(menuEl),gsconnect.setConnectCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsconnect)}(zgssearch,window),function(zgssearch,window){var gsdisc,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsdisc=(gsdisc=void 0,(gsdisc=zgssearch.gsdisc||{}).actionList=[{open:"gs.search.result.mail.open"}],gsdisc.getCalloutHolder=function(){return"zgs20_gsDiscCallout"},gsdisc.calloutParams=function(resObj){var topicId=resObj.fTId,accId=zgssearch.getResultAccountId(),index=_jQueryGS(zgssearch.curSelectedEle).attr("index"),portalURL=zgssearch.getURLPathName(zgssearch.discussionsURL[accId]);return"searchType="+zgssearch.getCalloutSearchType()+"&portalurl="+encodeURIComponent(portalURL)+"&topicid="+topicId+"&cpos="+index},gsdisc.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsDiscCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=_jQueryGS("<div>",{id:"zgs20_gsDiscCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.DISCUSSIONS,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.DISCUSSIONS}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.DISCUSSIONS})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.DISCUSSIONS})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:70%",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsDiscCalloutFooter",class:"zgs19_gsCalloutFooterHolder zgs19_gsDiscCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsDiscCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})));_jQueryGS("#zgs20_gsSearchResultRight").append(mcallout)}_jQueryGS("#zgs20_gsDiscCallout").attr("ccount",count)},gsdisc.setDiscCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsDiscCallout").height()-(headerHeight+metaInfoHeight);_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsdisc.calloutResponse=function(response,resObj,curRe){if(response&&"null"!==response&&response.hasOwnProperty("res")){var menuEl=zgssearch.getTargetElem("zgs20_gsDiscCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var calloutCount=_jQueryGS(menuEl).attr("ccount"),disAuth=resObj.auth||"",disName=resObj.dN||"",disDate=resObj.dT||"";_jQueryGS(menuEl.ctitle).text(disName).attr("title",disName);var imgId="zgs20_gsDiscCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var azuid=response.aI,staObj=zgssearch.getUserStatus(azuid);if(_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader"),azuid&&"-1"!==azuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(azuid);zgssearch.renderCalloutUserPhoto(imgId,photoURL)}else zgssearch.renderCalloutNoUserPhoto(imgId);var createdBy=zgssearch.getI18NMsg("gs.search.result.callout.createdby");_jQueryGS(menuEl.slabel).empty().text(createdBy).attr("title",createdBy),_jQueryGS(menuEl.sender).empty().text(disAuth).attr("title",disAuth),_jQueryGS(menuEl.date).empty().text(disDate).attr("title",disDate);var foldername=response.fN||"";foldername=zgssearch.replaceHTMLEntity(foldername);var forum=zgssearch.getI18NMsg("gs.search.result.discussions.callout.forumname");if(_jQueryGS(menuEl.rlabel).empty().text(forum).attr("title",forum),_jQueryGS(menuEl.receiver).empty().text(foldername).attr("title",foldername),_jQueryGS(menuEl.content).empty().append(response.res),gsdisc.loadDiscImagesWithDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),response.hasOwnProperty("aC")&&0<response.aC&&response.hasOwnProperty("atM")){var attachMap=response.atM,acount=attachMap.length+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{title:acount}).text(acount)));for(var i=0;i<attachMap.length;i++){var attachObj=attachMap[i],fileName=attachObj.atN,fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,title:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.DISCUSSIONS,aId:attachObj.atI,gs:"attachtitle",title:fileName}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(attachObj.atS)))))}_jQueryGS(menuEl.moveToAttachArea).show(),_jQueryGS(menuEl.attachHolder).show()}_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsdisc.addCalloutActionList(menuEl),gsdisc.setDiscCalloutEleSize(menuEl)}else gsdisc.calloutErrorMsg()},gsdisc.addCalloutActionList=function(menuEl){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gsdisc.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"discActionList",value:key,service:GSConstant.DISCUSSIONS,title:dectext}).text(dectext))}}},gsdisc.loadDiscImagesWithDomain=function(id){var accId=zgssearch.getResultAccountId(),hostName=zgssearch.getURLHostName(zgssearch.discussionsURL[accId]);_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&(0!==oldImgSrc.indexOf("/")&&0!==oldImgSrc.indexOf("viewImage.do")&&0!==oldImgSrc.indexOf("images/")||(0!==oldImgSrc.indexOf("viewImage.do")&&0!==oldImgSrc.indexOf("images/")||(oldImgSrc="/"+oldImgSrc),_jQueryGS(this).attr("src","https://"+hostName+oldImgSrc)))}),_jQueryGS(id).find("a").each(function(){var oldImgSrc=_jQueryGS(this).attr("href");if(oldImgSrc&&0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")){var extra=0==oldImgSrc.indexOf("/")?"":"/";_jQueryGS(this).attr("href","https://"+hostName+extra+oldImgSrc)}})},gsdisc.downloadAttachment=function(elem){var atIndex=_jQueryGS(elem).attr("aId"),accId=zgssearch.getResultAccountId(),portalURL=zgssearch.getURLPathName(zgssearch.discussionsURL[accId]),domainURL="https://"+zgssearch.getURLHostName(zgssearch.discussionsURL[accId])+"/viewFile.do?fileId="+atIndex+"&forumGroupURL="+encodeURIComponent(portalURL)+"&action=download";window.open(domainURL)},gsdisc.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsDiscCalloutFooter","zgs20_gsDiscCalloutAttachInfo")},gsdisc.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.discussions.status.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show()}},gsdisc.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsDiscCallout");zgssearch.setGSTagElems(menuEl),gsdisc.setDiscCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsdisc)}(zgssearch,window),function(zgssearch,window){var gsreports,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsreports=(gsreports=void 0,(gsreports=zgssearch.gsreports||{}).actionList=[{open:"gs.search.result.mail.open"}],gsreports.getCalloutHolder=function(){return"zgs20_gsReportsCallout"},gsreports.calloutParams=function(resObj){return"searchType="+zgssearch.getCalloutSearchType()+"&docId="+resObj.docid},gsreports.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsReportsCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),loadericon=zgssearch.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:"zgs20_gsReportsCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.REPORTS}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.REPORTS})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"owner"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(loadericon).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"})));_jQueryGS("#zgs20_gsSearchResultRight").append(dcallout)}_jQueryGS("#zgs20_gsReportsCallout").attr("ccount",count)},gsreports.setReportsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsReportsCallout").height()-(headerHeight+metaInfoHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsreports.calloutResponse=function(resObj,curRe){var menuEl=zgssearch.getTargetElem("zgs20_gsReportsCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var ctitle=resObj.vN||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle);var zuid=resObj.mZUID;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var staObj=zgssearch.getUserStatus(zuid);if(_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(zuid);zgssearch.renderCalloutUserPhoto("zgs20_gsDocsCalloutUserImg",photoURL)}else zgssearch.renderCalloutNoUserPhoto("zgs20_gsDocsCalloutUserImg");var lastModAuthor=resObj.auth||resObj.mBy,modifiedBy=zgssearch.getI18NMsg("gs.search.result.reports.callout.modified_by");_jQueryGS(menuEl.startedBy).empty().text(modifiedBy).attr("title",modifiedBy),_jQueryGS(menuEl.owner).empty().text(lastModAuthor).attr("title",lastModAuthor),_jQueryGS(menuEl.date).empty().text(resObj.time).attr("title",resObj.time),gsreports.renderReportsPreview(menuEl,resObj),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.getCurrentResObj().docid===resObj.docid&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsreports.addCalloutActionList(menuEl),gsreports.setReportsCalloutEleSize(menuEl)},gsreports.addCalloutActionList=function(menuEl){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gsreports.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"reportsActionList",value:key,service:GSConstant.REPORTS}).text(dectext))}}},gsreports.openReportsResult=function(resObj){var resourceId=resObj.vId;return GSConstant.GS_REPORTS_URL+"/ZDBDataSheetView.cc?OBJID="+resourceId+"&STANDALONE=true"},gsreports.renderReportsPreview=function(menuEl,resObj){var docType=resObj.ty;if(_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),"null"!==docType){_jQueryGS("#zgs20_gsreportsprevLoader").show(),_jQueryGS(menuEl.reportspreviewHolder).empty(),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","hidden");var url=gsreports.openReportsResult(resObj),reportsprev=document.createElement("iframe");reportsprev.src=url,reportsprev.style.border="0",reportsprev.className="zgs19_gsIframeHolder zgs19_gsDocsIframeTag",reportsprev.setAttribute("frameborder","0"),reportsprev.setAttribute("allowfullscreen","true"),reportsprev.onload=function(){setTimeout(function(){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS("#zgs20_gsreportsprevLoader").hide(),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","visible")},500)},_jQueryGS(menuEl.reportspreviewHolder).append(reportsprev)}else{var prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr");_jQueryGS(menuEl.reportspreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",title:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","visible")}},gsreports.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsReportsCallout");zgssearch.setGSTagElems(menuEl),gsreports.setReportsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsreports)}(zgssearch,window),function(zgssearch,window){var gscreator,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscreator=(gscreator=void 0,(gscreator=zgssearch.gscreator||{}).actionList=[{open:"gs.search.result.mail.open"}],gscreator.appsHeaderList={formList:"gs.search.result.creator.form",viewList:"gs.search.result.creator.view"},gscreator.getCalloutHolder=function(){return"zgs20_gsCreatorCallout"},gscreator.calloutParams=function(resObj){var index=_jQueryGS(zgssearch.curSelectedEle).attr("index");return"searchType="+zgssearch.getCalloutSearchType()+"&appLinkName="+resObj.lN+"&appOwnerName="+encodeURIComponent(resObj.sN)+"&cpos="+index},gscreator.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsCreatorCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),loadericon=zgssearch.getFourDotLoader("zgs20_gsCreatorPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:"zgs20_gsCreatorCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.CREATOR}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.CREATOR})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"owner"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCreatorCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsCreatorCalloutFooter",gs:"calloutFooter"}).append(loadericon).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",id:"zgs20_gsCreatorpreviewHolder"})));_jQueryGS("#zgs20_gsSearchResultRight").append(dcallout)}_jQueryGS("#zgs20_gsCreatorCallout").attr("ccount",count)},gscreator.setCreatorCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsCreatorCallout").height()-(headerHeight+metaInfoHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"),_jQueryGS("#zgs20_gsCreatorPrevLoader").css("padding-top",contentHeight/2-20+"px")},gscreator.calloutResponse=function(response,resObj,curRe){var menuEl=zgssearch.getTargetElem("zgs20_gsCreatorCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var ctitle=resObj.aN||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("title",ctitle);var zuid=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var staObj=zgssearch.getUserStatus(zuid);if(_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(zuid);zgssearch.renderCalloutUserPhoto("zgs20_gsDocsCalloutUserImg",photoURL)}else zgssearch.renderCalloutNoUserPhoto("zgs20_gsDocsCalloutUserImg");var author=resObj.auth,time=void 0!==resObj.time?resObj.time:"",startedBy=1==resObj.c?zgssearch.getI18NMsg("gs.search.result.creator.callout.owned_apps"):zgssearch.getI18NMsg("gs.search.result.creator.callout.shared_apps");_jQueryGS(menuEl.startedBy).empty().text(startedBy).attr("title",startedBy),_jQueryGS(menuEl.owner).empty().text(author).attr("title",author),_jQueryGS(menuEl.date).empty().text(time).attr("title",time),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),_jQueryGS(menuEl.actionPipe).hide(),zgssearch.getCurrentResObj().aId===resObj.aId&&(_jQueryGS("#zgs20_gsCreatorpreviewHolder").empty(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","hidden"),zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gscreator.addCalloutActionList(menuEl),gscreator.setCreatorCalloutEleSize(menuEl),gscreator.renderCreatorPreview(response,menuEl)},gscreator.addCalloutActionList=function(menuEl){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gscreator.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"creatorActionList",value:key,service:GSConstant.CREATOR}).text(dectext))}}},gscreator.openCreatorResult=function(resObj){var scopeName=resObj.sN,linkName=resObj.lN,creatorAppURL=GSConstant.GS_APPCREATOR_URL+"/"+scopeName+"/"+linkName;return resObj.aURL?resObj.aURL:creatorAppURL},gscreator.getFormOrViewOpenUrl=function(componentName,componentKey){var formViewEmbed="formList"===componentKey?"form-embed":"view-embed",resObj=zgssearch.getCurrentResObj(),scopeName=resObj.sN,linkName=resObj.lN,frameOrigin=window.location.origin;return GSConstant.GS_APPCREATOR_URL+"/"+scopeName+"/"+linkName+"/"+formViewEmbed+"/"+componentName+"?frameorigin="+frameOrigin},gscreator.renderCreatorPreview=function(data,menuEl){if(data&&"null"!==data){var isDataObtained=!1,formsAndViews=zgssearch.jsonParse(data)[1];_jQueryGS("#zgs20_gsCreatorPrevLoader").show();var fwidth=_jQueryGS("#zgs20_gsCreatorpreviewHolder").width()/2;_jQueryGS("#zgs20_gsCreatorpreviewHolder").append(_jQueryGS("<div>",{class:"zgs19_gsCreatorListHolder",id:"zgs20_gsFormViewsFilterDataHolder",gs:"creatorListHolder"}));var textWidth=fwidth-22,gffo=zgssearch.gFilterData[zgssearch.getCalloutSearchType()],wffodata={},componentName="",componentKey="",formViewPresentsLen=Object.keys(formsAndViews).length;for(var key in gscreator.appsHeaderList)if(formsAndViews.hasOwnProperty(key)){var listData=formsAndViews[key],countVal=listData[0][key.replace("List","")+"Count"];if(delete listData[0],0<countVal){isDataObtained=!0;var headerVal=zgssearch.getI18NMsg(gscreator.appsHeaderList[key]),title=zgssearch.getCurrentResObj().aN+" "+headerVal;wffodata={},zgssearch.setFiltersDetails(wffodata,"type",key),zgssearch.setFiltersDetails(wffodata,"data",listData),zgssearch.setFiltersDetails(wffodata,"title",title),zgssearch.setFiltersDetails(wffodata,"current","");var selectedHeaderCls="zgs19_gsModuleFilterSerNameSelect";if(""===componentName){if(1<formViewPresentsLen){var itemObj=listData[1];selectedHeaderCls="",zgssearch.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+key}else itemObj=listData[1];componentName=itemObj.componentname,componentKey=key,zgssearch.setFiltersDetails(wffodata,"current",componentName)}_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElem_"+key,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",fkey:key,gs:"mFilterWidget",service:zgssearch.getCalloutSearchType(),style:"max-width:"+fwidth+"px;"}).append(_jQueryGS("<div>",{id:"zgs20_gs"+key,class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+selectedHeaderCls,title:headerVal,style:"max - width: "+textWidth+"px; "}).text(headerVal)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl zgs19_gsVisibleHidden"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))),zgssearch.setFiltersDetails(gffo,key,wffodata)}}zgssearch.setFilterObj(zgssearch.getCalloutSearchType(),gffo),zgssearch.addEventFormsViewsFilterElem(),_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),isDataObtained?gscreator.loadCreatorFormView(componentName,componentKey):gscreator.obtainAppOpenBtn(menuEl)}else gscreator.calloutErrorMsg()},gscreator.obtainAppOpenBtn=function(menuEl){var creatorprev=_jQueryGS("<div>",{class:"zgs19_gsCreatorAccessBtn",gs:"creatorApp",service:GSConstant.CREATOR}).text(zgssearch.getI18NMsg("gs.search.result.creator.callout.access_this_application"));_jQueryGS("#zgs20_gsCreatorpreviewHolder").empty().append(creatorprev),_jQueryGS("#zgs20_gsCreatorPrevLoader").hide(),zgssearch.setGSTagElems(menuEl);var actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-(_jQueryGS(menuEl.creatorApp).height()+20))/2;_jQueryGS(menuEl.creatorApp).css("margin",actualCenterPosition+"px auto"),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","visible")},gscreator.loadCreatorFormView=function(componentType,componentKey){var url=gscreator.getFormOrViewOpenUrl(componentType,componentKey);try{zgssearch.removeEle(_jQueryGS("#zgs20_gsCreatorIframe")[0]),zgssearch.removeEle(_jQueryGS("#zgs20_gsCreatorIframePrevLoader")[0]);var loadericon=zgssearch.getFourDotLoader("zgs20_gsCreatorIframePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader");_jQueryGS("#zgs20_gsCreatorpreviewHolder").append(loadericon),_jQueryGS("#zgs20_gsCreatorIframePrevLoader").css("padding-top",_jQueryGS("#zgs20_gsCreatorPrevLoader").css("padding-top"));var creatorprev=document.createElement("iframe");creatorprev.src=url,creatorprev.id="zgs20_gsCreatorIframe",creatorprev.style.border="0",creatorprev.className="zgs19_gsIframeHolder zgs19_gsCreatorIframeTag zgs19_gsVisibleHidden",creatorprev.setAttribute("frameborder","0"),creatorprev.setAttribute("allowfullscreen","true"),creatorprev.onload=function(){setTimeout(function(){_jQueryGS("#zgs20_gsCreatorIframePrevLoader").hide(),_jQueryGS("#zgs20_gsCreatorIframe").css("visibility","visible")},100)},_jQueryGS("#zgs20_gsCreatorpreviewHolder").append(creatorprev);var calloutParentHeight=_jQueryGS("#zgs20_gsCreatorCalloutFooter").height(),listViewHeight=_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").outerHeight(!0)||0,iframeHeight=calloutParentHeight-listViewHeight;_jQueryGS("#zgs20_gsCreatorIframe").css("top",listViewHeight),_jQueryGS("#zgs20_gsCreatorIframe").css("height",iframeHeight+"px"),_jQueryGS("#zgs20_gsCreatorPrevLoader").hide(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","visible")}catch(e){gscreator.calloutErrorMsg()}},gscreator.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","visible");var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.creator.status.callout.errortext");_jQueryGS("#zgs20_gsCreatorpreviewHolder").empty().append(_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg"}).text(msg))}},gscreator.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCreatorCallout");zgssearch.setGSTagElems(menuEl),gscreator.setCreatorCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscreator)}(zgssearch,window),function(zgssearch,window){var gswiki,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswiki=(gswiki=void 0,(gswiki=zgssearch.gswiki||{}).actionList=[{open:"gs.search.result.mail.open"},{download:"gs.search.result.document.download"}],gswiki.getCalloutHolder=function(){return"zgs20_gsWikiCallout"},gswiki.calloutParams=function(resObj){var docId=resObj.doc_id,wikiType=resObj.ty,wikiId=resObj.wId,categId=resObj.wcId,index=_jQueryGS(zgssearch.curSelectedEle).attr("index");return"searchType="+zgssearch.getCalloutSearchType()+"&docId="+docId+"&wikiId="+wikiId+"&wikiCatId="+categId+"&type="+wikiType+"&cpos="+index},gswiki.createCalloutTemplate=function(count){if(_jQueryGS("#zgs20_gsWikiCallout").length<=0){var prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),intxt=zgssearch.getI18NMsg("gs.search.result.support.in"),mcallout=_jQueryGS("<div>",{id:"zgs20_gsWikiCallout",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.WIKI}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"wikidownload"})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:prevmaxtxt,gs:"maxpreview",service:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:prevmintxt,gs:"minpreview",service:GSConstant.WIKI})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%;margin-top:2.5px;"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gs:"rlabel",title:intxt}).text(intxt))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:70%;margin-top:2.5px;",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsWikiCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})));_jQueryGS("#zgs20_gsSearchResultRight").append(mcallout)}_jQueryGS("#zgs20_gsWikiCallout").attr("ccount",count)},gswiki.setWikiCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsWikiCallout").height()-(headerHeight+metaInfoHeight);_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gswiki.calloutResponse=function(response,resObj,curRe){var menuEl=zgssearch.getTargetElem("zgs20_gsWikiCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var calloutCount=_jQueryGS(menuEl).attr("ccount"),azuid=resObj.zuid||"",wAuthor=resObj.dN||"",wTitle=resObj.title||"",wDate=resObj.dT||"";_jQueryGS(menuEl.ctitle).text(wTitle).attr("title",wTitle);var staObj=zgssearch.getUserStatus(azuid);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var imgId="zgs20_gsWikiCalloutUserImg"+calloutCount;if(_jQueryGS(menuEl.authorPhoto).attr("id",imgId),azuid&&"-1"!==azuid){var sname=staObj.name?staObj.name:"";_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname);var photoURL=zgssearch.getThumbPhotoURL(azuid);zgssearch.renderCalloutUserPhoto(imgId,photoURL)}else zgssearch.renderCalloutNoUserPhoto(imgId);var createdBy=zgssearch.getI18NMsg("gs.search.result.callout.createdby");if(_jQueryGS(menuEl.slabel).empty().text(createdBy).attr("title",createdBy),_jQueryGS(menuEl.sender).empty().text(wAuthor).attr("title",wAuthor),_jQueryGS(menuEl.date).empty().text(wDate).attr("title",wDate),_jQueryGS(menuEl.rlabel).hide(),_jQueryGS(menuEl.receiver).hide(),_jQueryGS(menuEl.content).empty(),response){if(response.hasOwnProperty("wsName")){var workspaceName=response.wsName||"";_jQueryGS(menuEl.receiver).empty().text(workspaceName).attr("title",workspaceName),_jQueryGS(menuEl.rlabel).show(),_jQueryGS(menuEl.receiver).show()}0==resObj.ty&&response.hasOwnProperty("actualContent")&&(_jQueryGS(menuEl.content).append(response.actualContent),gswiki.checkWikiDataAndAddDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content))}_jQueryGS(menuEl.wikidownload).hide(),1==resObj.ty&&_jQueryGS(menuEl.wikidownload).show(),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.curSelectedEle&&(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gswiki.addCalloutActionList(menuEl,resObj),gswiki.setWikiCalloutEleSize(menuEl)},gswiki.addCalloutActionList=function(menuEl,resObj){_jQueryGS("#zgs20_gsCalloutActionList").empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var alist=gswiki.actionList,i=0;i<alist.length;i++){var obj=alist[i];for(var key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"download"===key&&1!=resObj.ty||_jQueryGS("#zgs20_gsCalloutActionList").append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"wikiActionList",value:key,service:GSConstant.WIKI,title:dectext}).text(dectext))}}},gswiki.openWikiResult=function(resObject,isdownload){var docId=resObject.doc_id,wikiId=resObject.wId,topicType=resObject.ty,parentId=resObject.pId,pageTitle=resObject.title,wikiCateId=resObject.wcId;if(void 0!==wikiId&&""!==wikiId&&"null"!==wikiId){var url=GSConstant.GS_WIKI_URL+"/searchurl?docId="+docId+"&catId="+wikiCateId+"&wikiId="+wikiId+"&parentId="+parentId+"&type="+topicType;isdownload||("1"==topicType&&(zgssearch.endsWith(pageTitle,".xls")||zgssearch.endsWith(pageTitle,".xlsx")||zgssearch.endsWith(pageTitle,".ods")||zgssearch.endsWith(pageTitle,".sxc")||zgssearch.endsWith(pageTitle,".doc")||zgssearch.endsWith(pageTitle,".docx")||zgssearch.endsWith(pageTitle,".sxw")||zgssearch.endsWith(pageTitle,".odt"))||zgssearch.endsWith(pageTitle,".rtf")||zgssearch.endsWith(pageTitle,".odp")||zgssearch.endsWith(pageTitle,".pps")||zgssearch.endsWith(pageTitle,".ppt"))&&(url+="&m=edit"),window.open(url)}},gswiki.checkWikiDataAndAddDomain=function(id){var wikiURL=gswiki.getTruncatedSchemaURL(),wikiName=zgssearch.getFilterInfo(GSConstant.WIKI,"portals","dispname");_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src","https://"+wikiName+"."+wikiURL+oldImgSrc)}),_jQueryGS(id).find("a").each(function(){var oldImgSrc=_jQueryGS(this).attr("href");if(oldImgSrc&&0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&0!=oldImgSrc.indexOf("#")){var extra=0==oldImgSrc.indexOf("/")?"":"/";_jQueryGS(this).attr("href","https://"+wikiName+"."+wikiURL+extra+oldImgSrc)}})},gswiki.getTruncatedSchemaURL=function(){var wikiURL=GSConstant.GS_WIKI_URL;if(wikiURL.indexOf("https://")<=0)return wikiURL=wikiURL.substring(wikiURL.indexOf("https://")+8,wikiURL.length)},gswiki.calloutErrorMsg=function(error){if(zgssearch.curSelectedEle){zgssearch.hideCalloutLoader();var msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.wiki.status.callout.errortext");_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show()}},gswiki.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsWikiCallout");zgssearch.setGSTagElems(menuEl),gswiki.setWikiCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gswiki)}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.sharedDocs="/zgssearch/sharedDocs",zgssearch.callOutURL="/zgssearch/gsCallOutData",zgssearch.attachmentURL="/zgssearch/gsAttachments",zgssearch.curCalloutCount=zgssearch.curCalloutCount||0,zgssearch.httpReqForCallout=new Array,zgssearch.httptxt="http",zgssearch.regNull=new RegExp("^null$","i"),zgssearch.isMaxCalloutOpen=!1,zgssearch.calloutSearchType="",zgssearch.maxPrevPane=zgssearch.isZohoSearch&&null!=typeof zgssearch.maxPrevPane?zgssearch.maxPrevPane:950,zgssearch.minPrevPane=zgssearch.isZohoSearch&&null!=typeof zgssearch.minPrevPane?zgssearch.minPrevPane:525,zgssearch.calloutLoaderIcon=function(){_jQueryGS("#zgs20_gscoutLoadHolder").remove();var loadericon=zgssearch.getFourDotLoader("zgs20_gsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader");_jQueryGS("#zgs20_gsSearchResultRight").append(_jQueryGS("<div>",{id:"zgs20_gscoutLoadHolder",class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone",style:"z-index:101;"}).append(loadericon)),_jQueryGS("#zgs20_gsCalloutErrorPage").remove(),_jQueryGS("#zgs20_gsSearchResultRight").append(_jQueryGS("<div>",{id:"zgs20_gsCalloutErrorPage",class:"zgs19_gsCalloutErrorMsg zgs19_gsDisplayNone"}))},zgssearch.convertToKBMB=function(sizeinbytes){var sizeinkb=Math.round(sizeinbytes/1024),sizeinmb=Math.round(sizeinkb/1024);return 0<sizeinmb?sizeinmb+" MB":0<sizeinkb?sizeinkb+" KB":sizeinbytes+" Bytes"},zgssearch.moveToViewPort=function(curResPage,id){var attachEle=zgssearch.getTargetElem(id),resPageEle=zgssearch.getTargetElem(curResPage),eletop=attachEle.offsetTop,pageHeight=_jQueryGS(resPageEle).height(),viewport_top=_jQueryGS(resPageEle).scrollTop();viewport_top<eletop&&eletop<viewport_top+pageHeight||_jQueryGS("#"+curResPage).scrollTop(eletop-pageHeight/2)},zgssearch.showCalloutLoader=function(){_jQueryGS("#zgs20_gscoutLoadHolder").show()},zgssearch.hideCalloutLoader=function(){_jQueryGS("#zgs20_gscoutLoadHolder").hide()},zgssearch.hideCalloutHolder=function(){_jQueryGS(".zgs19_gsServiceCalloutHolder").hide(),_jQueryGS("#zgs20_gsCalloutErrorPage").hide()},zgssearch.deleteCalloutHolder=function(){_jQueryGS(".zgs19_gsServiceCalloutHolder").remove()},zgssearch.getCurCalloutCount=function(){return zgssearch.curCalloutCount=zgssearch.curCalloutCount<500?zgssearch.curCalloutCount+1:1,zgssearch.curCalloutCount},zgssearch.getResultAccountId=function(){return _jQueryGS(zgssearch.curSelectedEle).attr("acc_id")},zgssearch.getCurrentResObj=function(){var accId=zgssearch.getResultAccountId(),index=_jQueryGS(zgssearch.curSelectedEle).attr("index"),service=_jQueryGS(zgssearch.curSelectedEle).attr("service");return zgssearch.getResultObject(service,index,accId)},zgssearch.updateCalloutTemplate=function(){zgssearch.isVersionChanged&&(zgssearch.isVersionChanged=!1,zgssearch.deleteCalloutHolder())},zgssearch.calloutEventHanlder=function(elem){zgssearch.curSelectedEle=elem,zgssearch.updateCalloutTemplate();var service=_jQueryGS(elem).attr("service"),resObj=zgssearch.getCurrentResObj(),count=zgssearch.getCurCalloutCount(),scallout=zgssearch.mappedServiceList[service].callout;switch(_jQueryGS("#zgs20_gsDocsPreviewHolder").empty(),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),_jQueryGS("#zgs20_gsMailActionHolder").empty().hide(),service){case GSConstant.MAILS:case GSConstant.CONNECT:case GSConstant.DISCUSSIONS:case GSConstant.CRM:case GSConstant.WIKI:case GSConstant.CREATOR:zgssearch[scallout].createCalloutTemplate(count),zgssearch.handleBeforeSentCase(),zgssearch.calloutAjaxHandler(scallout,resObj,count);break;case GSConstant.PEOPLE:case GSConstant.REPORTS:case GSConstant.DOCUMENTS:case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:zgssearch.hideCalloutHolder(),zgssearch[scallout].createCalloutTemplate(count),zgssearch[scallout].calloutResponse(resObj,zgssearch.curSelectedEle);break;case GSConstant.SUPPORT:var moduleId=resObj.module_id;zgssearch[scallout].createCalloutTemplate(count),1==moduleId||2==moduleId?(zgssearch.handleBeforeSentCase(),zgssearch.calloutAjaxHandler(scallout,resObj,count)):(zgssearch.hideCalloutHolder(),zgssearch[scallout].calloutResponse({},resObj,zgssearch.curSelectedEle));break;case GSConstant.CHAT:!!("undefined"!=typeof WebMessanger)&&!!WebMessanger.renderTranscript?(zgssearch.hideCalloutHolder(),zgssearch[scallout].createCalloutTemplate(count),zgssearch[scallout].calloutResponse({},resObj,zgssearch.curSelectedEle)):(zgssearch[scallout].createCalloutTemplate(count),zgssearch.handleBeforeSentCase(),zgssearch.calloutAjaxHandler(scallout,resObj,count))}switch(service){case GSConstant.PEOPLE:zgssearch[scallout].fetchUserAvailability(resObj)}},zgssearch.handleBeforeSentCase=function(){zgssearch.calloutLoaderIcon(),zgssearch.hideCalloutHolder(),zgssearch.showCalloutLoader()},zgssearch.calloutAjaxHandler=function(scallout,resObj,count){setTimeout(function(){zgssearch.curCalloutCount==count&&zgssearch.calloutAjaxRequest(scallout,resObj,count)},300)},zgssearch.calloutAjaxRequest=function(scallout,resObj,count,cargparam){var params=zgssearch[scallout].calloutParams(resObj),argparam=cargparam||{curCalloutCount:count};zgssearch.uri(zgssearch.GET,zgssearch.callOutURL,params,argparam,function(data,status,xhr){var argObj=xhr.args||{},argCurCalloutCount=argObj.curCalloutCount;if(zgssearch.curCalloutCount==argCurCalloutCount)if("error"!=status||argObj.updateRecord){var response=zgssearch.jsonParse(data);zgssearch[scallout].calloutResponse(response,resObj,zgssearch.curSelectedEle,argObj)}else"error"==status&&(zgssearch.hideCalloutLoader(),zgssearch.hideCalloutHolder(),zgssearch[scallout].calloutErrorMsg("ERROR"))})},zgssearch.renderCalloutUserPhoto=function(id,photoURL,isGroup){var serviceImgDummy=new Image;serviceImgDummy.src=photoURL,serviceImgDummy.setAttribute("gs",id),serviceImgDummy.setAttribute("group",isGroup),serviceImgDummy.className="zgs19_gsDisplayNone";var prefix=document.addEventListener?"":"on",eventName=document.addEventListener?"addEventListener":"attachEvent";serviceImgDummy[eventName](prefix+"load",function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(_jQueryGS(imgEle).attr("src",this.src),_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsFetchImgLoader zgs19_gsResultsUniIcons zgs19_gsFetchImgLoaderMar zgs19_gsCalloutNoUserImg").addClass("zgs19_gsCalloutUserImg")),zgssearch.removeEle(this)},!0),serviceImgDummy[eventName](prefix+"error",function(){zgssearch.renderCalloutNoUserPhoto(this.getAttribute("gs"),this.getAttribute("group")),zgssearch.removeEle(this)},!0)},zgssearch.renderBigCalloutUserPhoto=function(id,photoURL){try{var serviceImgDummy=new Image;serviceImgDummy.src=photoURL,serviceImgDummy.setAttribute("gs",id),serviceImgDummy.className="zgs19_gsDisplayNone";var prefix=document.addEventListener?"":"on",eventName=document.addEventListener?"addEventListener":"attachEvent";serviceImgDummy[eventName](prefix+"load",function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(_jQueryGS(imgEle).attr("src",this.src),_jQueryGS(imgEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader").addClass("zgs19_gsDocsCalloutImgNew")),zgssearch.removeEle(this)},!0),serviceImgDummy[eventName](prefix+"error",function(){var id=this.getAttribute("gs"),imgEle=zgssearch.getTargetElem(id);imgEle&&(_jQueryGS(imgEle).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew")),zgssearch.removeEle(this)},!0)}catch(ex){}},zgssearch.renderCalloutNoUserPhoto=function(id,isGroup){var imgEle=zgssearch.getTargetElem(id);imgEle&&(_jQueryGS(imgEle).attr("src",zgssearch.gsspacer),"true"==isGroup?_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon zgs19_gsCalloutGroupMarg"):_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},zgssearch.getFileImageClass=function(fileName){var extension=fileName.replace(/^.*\./,"");return"ai"==extension||"jpg"==extension||"bmp"==extension||"png"==extension||"gif"==extension||"psd"==extension||"jpeg"==extension||"ttf"==extension||"svg"==extension?"image":"3g2"==extension||"3gp"==extension||"3gpp"==extension||"avi"==extension||"flv"==extension||"m4v"==extension||"mkv"==extension||"mov"==extension||"mp4"==extension||"mpeg"==extension||"mpg"==extension||"ogv"==extension||"vob"==extension||"webm"==extension||"webmv"==extension||"wmv"==extension||"vcf"==extension||"vlc"==extension||"fla"==extension||"swf"==extension?"video":"m4a"==extension||"mp3"==extension||"oga"==extension||"ogg"==extension||"wav"==extension||"webma"==extension?"music":"doc"==extension||"docm"==extension||"docx"==extension||"dot"==extension||"dotm"==extension||"dotx"==extension||"ds"==extension||"sxw"==extension||"odt"==extension||"rtf"==extension||"tex"==extension?"word":"csv"==extension||"ods"==extension||"sxc"==extension||"tsv"==extension||"xls"==extension||"xlsm"==extension||"xlsx"==extension?"xl":"odp"==extension||"pps"==extension||"ppsx"==extension||"ppt"==extension||"pptx"==extension||"sxi"==extension?"power":"pdf"==extension?"pdf":"html"==extension||"htm"==extension||"xml"==extension||"jsp"==extension||"jspf"==extension||"php"==extension||"js"==extension||"css"==extension||"sql"==extension?"html":"zip"==extension?"zip":"txt"==extension?"txt":"undefinedtype"},zgssearch.ajaxhandlerForServicesAction=function(curRe,resObj,params,oper,target){var service=_jQueryGS(curRe).attr("service"),scallout=zgssearch.mappedServiceList[service].callout;params+="&"+GSConstant.csrfName+"="+zgssearch.getCookie("CSRF_TOKEN");_jQueryGS.ajax({type:zgssearch.POST,url:zgssearch.servicesActionURL,data:params,success:function(data){try{zgssearch[scallout].responseFromServicesAction(data,curRe,resObj,oper,target)}catch(ex){zgssearch[scallout].responseFromServicesAction("null",curRe,resObj,oper,target)}}})},zgssearch.removeIDAndClassAttr=function(ele,service){GSConstant.MAILS!=service&&_jQueryGS(ele).children().each(function(){_jQueryGS(this).removeAttr("id"),_jQueryGS(this).removeAttr("class"),zgssearch.removeIDAndClassAttr(this)})},zgssearch.preventTableStyles=function(ele){_jQueryGS(ele).find("table").each(function(){var tableCSS={},teborderAttr=_jQueryGS(this).attr("border");"none"==_jQueryGS(this).css("border-style")&&(tableCSS["border-color"]="gray",tableCSS["border-style"]="solid",tableCSS["border-width"]=(teborderAttr||0)+"px");var tebcellspace=_jQueryGS(this).attr("cellspacing"),teborderspace=_jQueryGS(this).css("border-spacing");(teborderspace=tebcellspace||teborderspace&&"0px"!=teborderspace&&"0px 0px"!=teborderspace?"0px"==teborderspace||"0px 0px"==teborderspace?tebcellspace+"px":teborderspace:"2px")&&(tableCSS["border-spacing"]=teborderspace),_jQueryGS(this).css(tableCSS),_jQueryGS(this).find("tbody, th, tr, td").each(function(){"none"==_jQueryGS(this).css("border-style")&&_jQueryGS(this).css(tableCSS)});var tecellpadding=_jQueryGS(this).attr("cellpadding"),pattrList=["padding-top","padding-right","padding-bottom","padding-left"];_jQueryGS(this).find("td").each(function(){for(var i=0;i<pattrList.length;i++){var pattrItem=pattrList[i],tpaddingCSS=_jQueryGS(this).css(pattrItem),tepadding=tecellpadding||tpaddingCSS&&"0px"!=tpaddingCSS&&"0px 0px"!=tpaddingCSS?"0px"==tpaddingCSS||"0px 0px"==tpaddingCSS?tecellpadding+"px":tpaddingCSS:"2px";_jQueryGS(this).css(pattrItem,tepadding)}})});var attrList=["valign","bgcolor","align"],attrMap=["vertical-align","background-color","margin"];_jQueryGS(ele).find("table, tbody, th, tr, td").each(function(){for(var i=0;i<attrList.length;i++){var attrItem=attrList[i],elemAttr=_jQueryGS(this).attr(attrItem);elemAttr&&("align"==attrItem&&(elemAttr="left"==elemAttr?"auto 0":"center"==elemAttr?"0 auto":"0 0 0 auto"),_jQueryGS(this).css(attrMap[i],elemAttr))}})},zgssearch.preventStylesFromParentDomain=function(ele,service){zgssearch.removeIDAndClassAttr(ele,service),zgssearch.preventTableStyles(ele)},zgssearch.getURLHostName=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.hostname},zgssearch.getURLPathName=function(url){var aTag=document.createElement("a");aTag.href=url;var path=aTag.pathname;return"/"===path.charAt(0)?path.substring(1,path.length):path},zgssearch.renderContactsEmailId=function(menuEl,target,label,value){value&&""!==value&&(_jQueryGS(menuEl.lineicon).show(),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+value,target:"_blank",title:value}).text(value)))))},zgssearch.renderContactsInfo=function(menuEl,target,label,value){value&&""!==value&&(_jQueryGS(menuEl.lineicon).show(),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",title:value}).text(value)))))},zgssearch.renderInstantORWebInfo=function(menuEl,target,oper,text,value){if(value&&""!==value){_jQueryGS(menuEl.lineicon).show();var operHolder=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>",{title:text}).text(text)));if("url"===oper){var openURL=value[0];openURL.indexOf(zgssearch.httptxt+"://")<0&&openURL.indexOf(zgssearch.httptxt+"s://")<0&&(openURL=zgssearch.httptxt+"://"+openURL),operHolder.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl",href:openURL,url:openURL,title:value[0]}).text(value[0])))}else operHolder.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow zgs19_gsfl",title:value[0]}).text(value[0])));_jQueryGS(target).append(operHolder)}},zgssearch.maxCalloutPreview=function(service,resObj){if(_jQueryGS("#zgs20_gsSearchResultRight").css("z-index",5),zgssearch.isZohoSearch){var rmW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))+parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("max-width").replace("px",""))+"px";_jQueryGS("#zgs20_gsSearchResultRight").css("max-width",rmW)}_jQueryGS("#zgs20_gsSearchResultRight").stop(!0).animate({width:zgssearch.maxPrevPane},{duration:200}),zgssearch.isMaxCalloutOpen=!0;var scallout=zgssearch.mappedServiceList[service].callout,cholder=zgssearch[scallout].getCalloutHolder(),menuEl=zgssearch.getTargetElem(cholder);zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.maxpreview).hide(),_jQueryGS(menuEl.minpreview).show(),zgssearch.openCalloutPreview(service,menuEl,resObj)},zgssearch.minCalloutPreview=function(service,resObj){zgssearch.minCalloutPreviewChange();var scallout=zgssearch.mappedServiceList[service].callout,cholder=zgssearch[scallout].getCalloutHolder(),menuEl=zgssearch.getTargetElem(cholder);zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide(),zgssearch.openCalloutPreview(service,menuEl,resObj)},zgssearch.minCalloutPreviewChange=function(){zgssearch.isMaxCalloutOpen=!1,_jQueryGS("#zgs20_gsSearchResultRight").stop(!0).animate({width:zgssearch.minPrevPane,"z-index":1},{duration:200})},zgssearch.openCalloutPreview=function(service,menuEl,resObj){_jQueryGS(menuEl.docspreviewHolder).empty(),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),GSConstant.DOCUMENTS==service&&zgssearch.gsdocs.renderDocsPreview(menuEl,resObj)},zgssearch.getEditFieldsHolder=function(datatype,title,notify,mode,cancel){return _jQueryGS("<div>",{id:"zgs20_gsEditFieldsHolder",class:"zgs19_gsEditFieldsHolder zgs19_gsBoxShadowPopup zgs19_gsDisplayNone",gs:"editFieldsList",datatype:datatype}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"editFieldsHeader"}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocusOut"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons"})).append(_jQueryGS("<input>",{id:"zgs20_gsEditFieldsQrybox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:title})))).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsFooter",class:"zgs19_gsOverflowAuto"})).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsNotify",class:"zgs19_gsEditFieldsNotify zgs19_gsModuleFilterWidgetHeader zgs19_gsOverflow"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsCheck zgs19_gsCurPointer",type:"checkbox"})).append(_jQueryGS("<span>",{title:notify}).text(notify))).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsCurPointer zgs19_gsfr",type:"button",value:mode,gs:"CalloutEditFields",datatype:"changeEditFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsCurPointer zgs19_gsfr",type:"button",value:cancel,gs:"CalloutEditFields",datatype:"closeEditFields"})))},zgssearch.getEditFieldsChild=function(id,datatype){return _jQueryGS("<div>",{id:"zgs20_gsEditFieldsChild"+id,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:id,datatype:datatype}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell3"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsRadio",type:"radio"}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsEditFieldsChildName"+id,class:"zgs19_gsAutoSuggChildName"}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsEditFieldsChildEmail"+id})))))},zgssearch.displayEditFieldsUI=function(tarElem){zgssearch.isEditFieldsDisplay=!0,_jQueryGS("#zgs20_gsEditFieldsHolder").show(),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollTop(0),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollLeft(0),_jQueryGS(tarElem).addClass("zgs19_gsboxholder zgs19_gsboxholderbot");var width=320,rangeRect=tarElem.getBoundingClientRect();rangeRect.width>width&&(width=rangeRect.width-2),_jQueryGS("#zgs20_gsEditFieldsHolder").css("width",width),_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",240),_jQueryGS("#zgs20_gsEditFieldsFooter").css("border-bottom","1px solid #dadada");var theight=_jQueryGS(tarElem).height()+4,parentHolder=zgssearch.getTargetElem("zgs20_gsSearchResultRight"),ttop=zgssearch.findPosY(tarElem,parentHolder)-40,tleft=zgssearch.findPosX(tarElem,parentHolder);_jQueryGS("#zgs20_gsEditFieldsHolder").css("top",ttop+theight),_jQueryGS("#zgs20_gsEditFieldsHolder").css("left",tleft)},zgssearch.calloutEditFieldsAction=function(tarElem){var datatype=_jQueryGS(tarElem).attr("datatype");switch(datatype){case"crmOwnerChange":case"deskOwnerChange":zgssearch.renderEditFieldsUI(tarElem,datatype);break;case"dueDateChange":zgssearch.handleDueDatePickerElem(datatype);break;case"closeEditFields":zgssearch.hideEditFieldsList();break;case"changeEditFields":zgssearch.currEditFieldselecelem&&zgssearch.clickActionForEditList(zgssearch.currEditFieldselecelem)}},zgssearch.clickActionForEditList=function(tarElem){var datatype=_jQueryGS(tarElem).attr("datatype");switch(datatype){case"crmOwnerChange":case"deskOwnerChange":zgssearch.clickEditFieldsUI(tarElem,datatype)}},zgssearch.renderEditFieldsUI=function(tarElem,type){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var display=_jQueryGS("#zgs20_gsEditFieldsHolder").css("display");if(null==display||"none"===display){zgssearch.hideEditFieldsList();var uniqueIds=[],ownerList={},deskObject={},isKeyExists=!0,parentId="",curOwnerId="",notify_display="",chanOwnerSText="",chanOwnerBText="";if("crmOwnerChange"==type)notify_display="block",parentId="zgs20_gsCrmImpInnerContent",chanOwnerBText=zgssearch.getI18NMsg("gs.search.callout.crm.change"),chanOwnerSText=zgssearch.getI18NMsg("gs.search.callout.changeowner"),curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:"",ownerList=zgssearch.gsusercontacts.getCRMContactsUserObj();else if("deskOwnerChange"==type){notify_display="none",parentId="zgs20_gsCalloutMetaInfo",chanOwnerBText=zgssearch.getI18NMsg("gs.search.callout.crm.assign"),chanOwnerSText=zgssearch.getI18NMsg("gs.search.callout.searchagent"),curOwnerId=zgssearch.gssupport.assigneeId||"";var resObj=zgssearch.getCurrentResObj(),portalId=zgssearch.getResultAccountId(),unassObj=zgssearch.gsusercontacts.getSupportUnAssObj(),agentObj=zgssearch.gsusercontacts.getSupportContactsObj(portalId,resObj.DEP_ID);isKeyExists=zgssearch.gsusercontacts.isSupportDeptAgentExists(portalId,resObj.DEP_ID),deskObject={curPortalId:portalId,curDeptId:resObj.DEP_ID,type:type,tarElem:tarElem},ownerList=_jQueryGS.extend({},unassObj,agentObj)}var cancelText=zgssearch.getI18NMsg("gs.search.callout.crm.cancel"),notifyText=zgssearch.getI18NMsg("gs.search.callout.crm.notify_owner"),editFieldsHolder=zgssearch.getEditFieldsHolder(type,chanOwnerSText,notifyText,chanOwnerBText,cancelText);if(_jQueryGS("#"+parentId).append(editFieldsHolder),isKeyExists){for(var id in ownerList){var ownerObj=ownerList[id];if(("null"!=curOwnerId||"Unassigned"!=id)&&(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.renderEditFieldsChild(id,ownerObj,type,"")),10<=uniqueIds.length))break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display",notify_display),zgssearch.displayEditFieldsUI(tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focus("zgs20_gsEditFieldsQrybox"))}else"deskOwnerChange"==type&&(zgssearch.addLoaderForEditFields(deskObject),zgssearch.displayEditFieldsUI(tarElem))}else zgssearch.hideEditFieldsList()},zgssearch.renderInnerEditFieldsUI=function(obj){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var resObj=zgssearch.getCurrentResObj(),portalId=zgssearch.getResultAccountId(),isKeyExists=zgssearch.gsusercontacts.isSupportDeptAgentExists(portalId,resObj.DEP_ID);if(_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),isKeyExists){var uniqueIds=[],curOwnerId=zgssearch.gssupport.assigneeId||"",unassObj=zgssearch.gsusercontacts.getSupportUnAssObj(),agentObj=zgssearch.gsusercontacts.getSupportContactsObj(portalId,resObj.DEP_ID),ownerList=_jQueryGS.extend({},unassObj,agentObj);for(var id in ownerList){var ownerObj=ownerList[id];if(("null"!=curOwnerId||"Unassigned"!=id)&&(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.renderEditFieldsChild(id,ownerObj,obj.type,"")),10<=uniqueIds.length))break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.displayEditFieldsUI(obj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focus("zgs20_gsEditFieldsQrybox"))}else{var err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},zgssearch.renderEditFieldsChild=function(id,ownerObj,type,query){var index=zgssearch.gsautocomplete.getSuggestIndex(),editFieldsChild=zgssearch.getEditFieldsChild(index,type);_jQueryGS("#zgs20_gsEditFieldsFooter").append(editFieldsChild);var oid=zgssearch.replaceHTMLEntity(id),name=zgssearch.replaceHTMLEntity(ownerObj.full_name),email=zgssearch.replaceHTMLEntity(ownerObj.email),nobj=zgssearch.gsautocomplete.gethighlighttext(name," "+query,!1),attr={class:"zgs19_gshighlight"};email=email&&"null"!=email.toLowerCase()?email:"";var nameFragment=zgssearch.gssecurity.getHighlightTextNode(nobj.prefix,nobj.match,nobj.suffix,attr);zgssearch.getTargetElem("zgs20_gsEditFieldsChildName"+index).appendChild(nameFragment);var eobj=0==nobj.isMatched?zgssearch.gsautocomplete.gethighlighttext(email," "+query,!0):{prefix:email},emailFragment=zgssearch.gssecurity.getHighlightTextNode(eobj.prefix,eobj.match,eobj.suffix,attr);zgssearch.getTargetElem("zgs20_gsEditFieldsChildEmail"+index).appendChild(emailFragment),_jQueryGS("#zgs20_gsEditFieldsChildName"+index).attr("title",name),_jQueryGS("#zgs20_gsEditFieldsChildEmail"+index).attr("title",email),_jQueryGS("#zgs20_gsEditFieldsChild"+index).attr("oid",oid);var ozuid=ownerObj.zuid;if(ozuid&&"-1"!==ozuid){var photoURL=zgssearch.getThumbPhotoURL(ozuid);zgssearch.updateUserPhoto("zgs20_gsEditFieldsChild"+index,photoURL)}else zgssearch.loadResNoPhotoImg("zgs20_gsEditFieldsChild"+index);zgssearch.addEventForEditFieldsQueryBox()},zgssearch.clickEditFieldsUI=function(tarElem,type){var resObj=zgssearch.getCurrentResObj(),params="",curOwnerId="",serviceName=zgssearch.getCalloutSearchType(),oid=_jQueryGS(tarElem).attr("oid"),oname=_jQueryGS(tarElem).find(".zgs19_gsAutoSuggChildName").attr("title");if("crmOwnerChange"==type){curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:"";var notify=_jQueryGS("#zgs20_gsEditFieldsHolder").find(".zgs19_gsEditFieldsCheck").prop("checked")||!1;params="action=updateCRMRecords&searchType="+serviceName+"&entityId="+resObj.id+"&crmMod="+resObj.mod+"&ownerID="+encodeURIComponent(oid)+"&notify="+notify}else if("deskOwnerChange"==type){curOwnerId=zgssearch.gssupport.assigneeId||"";var portalId=zgssearch.getResultAccountId();params="action=updateDeskAssignee&searchType="+serviceName+"&id="+resObj.doc_id+"&portalId="+portalId+"&assigneeId="+encodeURIComponent(oid)}if(oid!=curOwnerId){zgssearch.hideEditFieldsList(),zgssearch.showSearchPageLoader();var attrObj={id:oid,name:oname,type:type,serviceName:serviceName};zgssearch.uri(zgssearch.POST,zgssearch.servicesActionURL,params,attrObj,function(data,status,xhr){zgssearch.hideSearchPageLoader();var responseData=zgssearch.jsonParse(data),response=responseData&&responseData.response||"";if("SUCCESS"==response){var aparams=xhr.args||{},ownerName="",succMsg="gs.search.callout.crm.success.update";GSConstant.SUPPORT==aparams.serviceName&&("Unassigned"==aparams.id?succMsg="gs.search.callout.desk.success.unassign_update":(succMsg="gs.search.callout.desk.success.update",ownerName=" "+attrObj.name));var msgText=zgssearch.getI18NMsg(succMsg)+ownerName;zgssearch.showbannertip({ty:1,msg:msgText});var nresObj=zgssearch.getCurrentResObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[aparams.serviceName].callout;zgssearch.showCalloutLoader();var argparam={curCalloutCount:ncount,owner:aparams,updateRecord:!0};zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,argparam)}else{var emsg="gs.search.callout.crm.errorresp2";"CANNOT_PERFORM_ACTION"!=response&&"INVALID_DATA"!=response||(emsg="gs.search.callout.crm.errorresp1"),zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg(emsg)})}})}else zgssearch.hideEditFieldsList()},zgssearch.searchForEditFields=function(){zgssearch.currEditFieldselecelem="",zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn");var query=zgssearch.getValue("zgs20_gsEditFieldsQrybox");query=query.trim();var uniqueIds=[],ownerList={},agentObj={},resObj="",portalId="",curOwnerId="",datatype=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");if("crmOwnerChange"==datatype)ownerList=zgssearch.gsusercontacts.getCRMContactsUserObj(),curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:"";else if("deskOwnerChange"==datatype){resObj=zgssearch.getCurrentResObj(),curOwnerId=zgssearch.gssupport.assigneeId||"",portalId=zgssearch.getResultAccountId();var unassObj=zgssearch.gsusercontacts.getSupportUnAssObj();agentObj=zgssearch.gsusercontacts.getSupportContactsObj(portalId,resObj.DEP_ID),ownerList=_jQueryGS.extend({},unassObj,agentObj)}if(zgssearch.isQueryValid(query)){var dn=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&");for(var id in ownerList){ownerObj=ownerList[id];if(curOwnerId!=id&&!zgssearch.isArrayContain(id,uniqueIds)){var name=zgssearch.replaceHTMLEntity(ownerObj.full_name),email=zgssearch.replaceHTMLEntity(ownerObj.email),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),mat=name.search(myReg);if(-1<mat)uniqueIds.push(id),zgssearch.renderEditFieldsChild(id,ownerObj,datatype,query);else{var emailReg=new RegExp(dn,"i");-1<(mat=email.search(emailReg))&&(uniqueIds.push(id),zgssearch.renderEditFieldsChild(id,ownerObj,datatype,query))}if(10<=uniqueIds.length)break}}}else for(var id in ownerList){var ownerObj=ownerList[id];if(zgssearch.isArrayContain(id,uniqueIds)||(uniqueIds.push(id),zgssearch.renderEditFieldsChild(id,ownerObj,datatype,"")),10<=uniqueIds.length)break}var display=uniqueIds.length<1?"none":"block";if((_jQueryGS("#zgs20_gsEditFieldsBottom").css("display",display),"crmOwnerChange"==datatype&&_jQueryGS("#zgs20_gsEditFieldsNotify").css("display",display),0==uniqueIds.length&&"deskOwnerChange"==datatype)&&(Object.keys(agentObj).length||0)>=zgssearch.gsusercontacts.defDeskContactsCount){var searchqueue=zgssearch.gsusercontacts.queueserver,flag=searchqueue.flag||!1,expiry_time=searchqueue.expiry_time||0,cur_time=(new Date).getTime();if(!flag||15e3<cur_time-expiry_time){var extraParams="&portalId="+portalId+"&deptId="+resObj.DEP_ID;if(!zgssearch.gsusercontacts.isDeskSearchReqCached(query,extraParams)){var deskObject={curPortalId:portalId,curDeptId:resObj.DEP_ID,type:datatype,query:query,extraParams:extraParams};zgssearch.addLoaderForEditFields(deskObject)}}}},zgssearch.addLoaderForEditFields=function(deskObj){var loadericon=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(loadericon),_jQueryGS("#zgs20_gsEditFieldsBottom").hide(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.isEditFieldsLoaderUI=!0,zgssearch.isEditFieldsLoader||(zgssearch.isEditFieldsLoader=!0,zgssearch.gsusercontacts.fetchSupportAgentInfo(deskObj))}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,gsbannerdefault_ty=0,gsbannerclass=["background-color: #ededed; border-color: #c7c6c5;","background-color: #e6f3fb; border-color: #70b2db;","background-color: #f8f0c9; border-color: #d5c260;","background-color: #f6dede; border-color: #ec9789;"],gsbannerIconclass=["background-position: -82px -700px;","background-position: -3px -700px","background-position: -30px -700px;","background-position: -57px -700px;"];_jQueryGS("#zgs20_gsbannertip").length<=0&&_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsbannertip",class:"zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsbannertipicon",class:"zgs19_gsbannertipicon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<div>",{id:"zgs20_gsbannertiptext",class:"zgs19_gsbannertiptext zgs19_gsOverflow zgs19_gsfl"}))),zgssearch.showbannertip=function(obj){var req_msg=obj.msg,req_ty=obj.ty||gsbannerdefault_ty,req_class=gsbannerclass[req_ty],req_iconclass=gsbannerIconclass[req_ty],width=zgssearch.getTargetElem("zgs20_gsResultsHolder").getBoundingClientRect().width-70,bannerWidth=zgssearch.getWidthOfText(req_msg,300)+50,left=(width-bannerWidth)/2,textWidth=bannerWidth-30;_jQueryGS("#zgs20_gsbannertip").find("#zgs20_gsbannertipicon").attr("style",req_iconclass),_jQueryGS("#zgs20_gsbannertip").find("#zgs20_gsbannertiptext").css("maxWidth",textWidth),_jQueryGS("#zgs20_gsbannertip").find("#zgs20_gsbannertiptext").attr("title",req_msg),_jQueryGS("#zgs20_gsbannertip").find("#zgs20_gsbannertiptext").text(req_msg),_jQueryGS("#zgs20_gsbannertip").stop(!0).attr("style",req_class).css({maxWidth:bannerWidth,left:left,opacity:0}).show().animate({opacity:1},500,function(){_jQueryGS("#zgs20_gsbannertip").stop(!0).animate({opacity:1},3e3,function(){zgssearch.hidebannertip()})})},zgssearch.hidebannertip=function(){"none"!=_jQueryGS("#zgs20_gsbannertip").css("display")&&_jQueryGS("#zgs20_gsbannertip").hide()}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,target=zgssearch.getTargetElem("zgs20_globalsearch");_jQueryGS("#zgs20_gstootltip").length<=0&&_jQueryGS(target).append(_jQueryGS("<div>",{id:"zgs20_gstootltip",class:"zgs19_gstootltip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gstoolarrow",class:"zgs19_gstooldownarrow"})).append(_jQueryGS("<div>",{id:"zgs20_gstooltext",class:"zgs19_gstooltext"}))),target.removeEventListener("mouseover",zgssearch.showtooltip),zgssearch.showtooltip=function(event){var elem=event.target,hasToolTip=_jQueryGS(elem).attr("tooltip")||"",hasDefTitle=_jQueryGS(elem).attr("title")||"",hasGSTitle=_jQueryGS(elem).attr("gstitle")||"";if(hasToolTip||_jQueryGS(elem).hasClass("zgs19_gsResultsUniIcons")){var gsdata="";if(hasToolTip?gsdata=hasToolTip:hasDefTitle?(gsdata=hasDefTitle,_jQueryGS(elem).removeAttr("title"),_jQueryGS(elem).attr("gstitle",gsdata)):gsdata=hasGSTitle,gsdata){var tipwidth=zgssearch.getWidthOfText(gsdata,300),temprect=elem.getBoundingClientRect(),left=temprect.left-tipwidth/2+temprect.width/2,leftarrow=tipwidth/2-5,parentHolder=zgssearch.getTargetElem("zgs20_globalsearch"),top=temprect.top+temprect.height+_jQueryGS("#zgs20_gstoolarrow").width()/2;zgssearch.findPosY(elem,parentHolder);if(_jQueryGS("#zgs20_gstooltext").empty().text(gsdata),_jQueryGS("#zgs20_gstoolarrow").css({top:"-6px",left:leftarrow}),_jQueryGS("#zgs20_gstoolarrow").removeClass("zgs19_gstooldownarrow").addClass("zgs19_gstooluparrow"),zgssearch.isZohoSearch){var biggerZOSViewportHeight=_jQueryGS(window).height()-28,tooltipHeight=_jQueryGS("#zgs20_gstootltip").height()+temprect.bottom,eleTopHeight=temprect.top;if(biggerZOSViewportHeight<tooltipHeight)_jQueryGS("#zgs20_gstoolarrow").removeClass("zgs19_gstooluparrow").addClass("zgs19_gstooldownarrow"),top=eleTopHeight-(_jQueryGS("#zgs20_gstootltip").height()+temprect.height+28)+"px",_jQueryGS("#zgs20_gstoolarrow").css({top:"20px",left:leftarrow});else{var topMostParentTop=parentHolder.getBoundingClientRect().top;0<topMostParentTop&&(top-=topMostParentTop)}}_jQueryGS("#zgs20_gstootltip").stop(!0).css({width:tipwidth,top:top,left:left,opacity:0}).show().animate({opacity:1},500,function(){_jQueryGS("#zgs20_gstootltip").stop(!0).animate({opacity:1},5e3,function(){zgssearch.hidetooltip()})})}}},target.addEventListener("mouseover",zgssearch.showtooltip),target.removeEventListener("mouseout",zgssearch.hidetooltip),zgssearch.hidetooltip=function(){"none"!=_jQueryGS("#zgs20_gstootltip").css("display")&&_jQueryGS("#zgs20_gstootltip").hide()},target.addEventListener("mouseout",zgssearch.hidetooltip)}(zgssearch,window),function(zgssearch,window){var jQuery=window.jQuery,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.loadDatePicker=function(service_name,callback){switch(service_name){case GSConstant.CHAT:case GSConstant.MAILS:case GSConstant.CONNECT:case GSConstant.SUPPORT:case GSConstant.DISCUSSIONS:case GSConstant.WIKI:if(!zgssearch.hasDatePicker){var cssstaticdomain,jsstaticdomain;zgssearch.hasDatePicker=!0;var gshandler=zgssearch.gshandlerInfo||{};jsstaticdomain=gshandler.hasOwnProperty("gsjs")?(cssstaticdomain=gshandler.gscss,gshandler.gsjs):(cssstaticdomain=WebMessanger&&WebMessanger.cssstaticdomain||"",WebMessanger&&WebMessanger.jsstaticdomain||"");var jsURL=window.location.protocol+"//"+jsstaticdomain+"/"+zgssearch.gsserver+"/"+GSConstant.BUILD_DATE+"/js/gszohocomponents.js",CSSURL=window.location.protocol+"//"+cssstaticdomain+"/"+zgssearch.gsserver+"/"+GSConstant.BUILD_DATE+"/css/gszohocomponents.css";if(void 0!==typeof CSSURL){var domCSS=document.createElement("link");domCSS.setAttribute("rel","stylesheet"),domCSS.setAttribute("type","text/css"),domCSS.setAttribute("href",CSSURL),domCSS.onload=function(){zgssearch.loadJSFile(jsURL,callback)};var head=document.getElementsByTagName("head")[0];head.insertBefore(domCSS,head.firstChild)}}}},zgssearch.createDatePicker=function(searchType,key,target){try{zgssearch.createCustomDatePicker(searchType,key,target,!0),zgssearch.createCustomDatePicker(searchType,key,target,!1)}catch(ex){}},zgssearch.createCustomDatePicker=function(searchType,key,targetElem,isDateRange){var targetId="zgs20_gsDateRangePickerElem";isDateRange||(targetId="zgs20_gsSingleDatePickerElem");if(0<_jQueryGS("#"+targetId).length){var curVal=zgssearch.getFilterInfo(searchType,key,"current"),todate=zgssearch.getFilterInfo(searchType,key,"todate"),fromdate=zgssearch.getFilterInfo(searchType,key,"fromdate");if(zgssearch.isMoreFilterListDisplay){var dkobj=zgssearch.curMoreFiltersList||{},drobj=zgssearch.curMoreDateFiltersList||{};""!=drobj.fromdate&&""!=drobj.todate&&(todate=drobj.todate,fromdate=drobj.fromdate,curVal=dkobj[key]||curVal)}isDateRange?"customrange"!=curVal&&(fromdate=todate=""):"customdate"!=curVal&&(fromdate=void 0),isDateRange?(jQuery("#"+targetId).zdatetimerangepicker("clearSelection"),jQuery("#"+targetId).zdatetimerangepicker("setAttributes",{forElement:"#"+targetId,format:"dd-MM-yyyy",fromValue:fromdate,toValue:todate})):jQuery("#"+targetId).zdatetimepicker("setAttributes",{forElement:"#"+targetId,format:"dd-MM-yyyy",value:fromdate})}else{var gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),isDateRange?jQuery("#"+targetId).zdatetimerangepicker({format:"dd-MM-yyyy",monthsPerView:1,maxDate:"TODAY",immediateCommit:!1,forElement:"#"+targetElem,className:"zgs20_gsDatePickerElem",change:function(event,ui){zgssearch.updateDatePicker(zgssearch.curDatePickerObj,ui)},cancel:function(){zgssearch.hideDatePicker()},beforeclose:function(event){if((event.keyCode?event.keyCode:event.which)==zgssearch.specialkeys.ESC)return zgssearch.focus("zgs20_gsQueryBox"),!1}}):jQuery("#"+targetId).zdatetimepicker({format:"dd-MM-yyyy",monthsPerView:1,maxDate:"TODAY",immediateCommit:!1,forElement:"#"+targetElem,className:"zgs20_gsDatePickerElem",change:function(event,ui){zgssearch.updateDatePicker(zgssearch.curDatePickerObj,ui)},cancel:function(){zgssearch.hideDatePicker()},beforeclose:function(event){if((event.keyCode?event.keyCode:event.which)==zgssearch.specialkeys.ESC)return zgssearch.focus("zgs20_gsQueryBox"),!1}})}},zgssearch.addDeskDueDatePickerOption=function(){try{zgssearch.createDateTimepicker("zgs20_gsTicketDueDate","datetime")}catch(ex){}},zgssearch.handleDueDatePickerElem=function(datatype){zgssearch.isDatePickerDisplay?zgssearch.hideDatePicker():(zgssearch.addDeskDueDatePickerOption(),zgssearch.handleDatePicker(datatype))},zgssearch.createDateTimepicker=function(targetElem){var targetId="zgs20_gsDateTimePickerElem",dateObj=zgssearch.curDatePickerObj||{},fromdate=dateObj.fromdate?dateObj.fromdate:void 0;if(0<_jQueryGS("#"+targetId).length)jQuery("#"+targetId).zdatetimepicker("setAttributes",{forElement:"#"+targetId,format:"dd-MM-yyyy hh:mm tt",value:fromdate});else{var gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),jQuery("#"+targetId).zdatetimepicker({format:"dd-MM-yyyy hh:mm tt",monthsPerView:1,immediateCommit:!1,value:fromdate,forElement:"#"+targetElem,className:"zgs20_gsDatePickerElem",change:function(event,ui){zgssearch.updateDatePicker(zgssearch.curDatePickerObj,ui)},cancel:function(){zgssearch.hideDatePicker()},beforeclose:function(event){if((event.keyCode?event.keyCode:event.which)==zgssearch.specialkeys.ESC)return zgssearch.focus("zgs20_gsQueryBox"),!1}})}},zgssearch.handleDatePicker=function(soid){try{var targetId="",parWidth="",resWidth=0;"customrange"==soid?(targetId="zgs20_gsDateRangePickerElem",parWidth=_jQueryGS("#zgs20_gsModuleFilterList").width(),jQuery("#"+targetId).zdatetimerangepicker("open")):"customdate"==soid?(jQuery("#"+(targetId="zgs20_gsSingleDatePickerElem")).zdatetimepicker("open"),parWidth=_jQueryGS("#zgs20_gsModuleFilterList").width()):"dueDateChange"==soid&&(jQuery("#"+(targetId="zgs20_gsDateTimePickerElem")).zdatetimepicker("open"),parWidth=_jQueryGS("#zgs20_gsSearchResultRight").width(),zgssearch.curDatePickerElem=zgssearch.getTargetElem("zgs20_gsTicketDueDate"),zgssearch.isMaxCalloutOpen||(resWidth=_jQueryGS("#zgs20_gsModuleSearchResultPage").width()));var curPciker=zgssearch.curDatePickerElem,postion=_jQueryGS(curPciker).position(),rangeRect=curPciker.getBoundingClientRect(),rangeWidth=rangeRect.width-2||0,listWidth=_jQueryGS("#"+targetId).width(),panelWidth=_jQueryGS(".zgs19_gsServiceMenu").width(),pleft=zgssearch.getTargetElem("zgs20_gsResultsHolder").getBoundingClientRect().left+panelWidth+resWidth;if(zgssearch.isMoreFilterListDisplay)pleft+=_jQueryGS("#zgs20_gsMoreFilterWidgetList").position().left;var remWidth=postion.left+rangeWidth;pleft+=parWidth<postion.left+listWidth?listWidth<remWidth?remWidth-listWidth:postion.left/2:postion.left;var zindex=_jQueryGS("#zgs20_globalsearch").css("z-index")+1;_jQueryGS("#"+targetId).css("z-index",zindex),_jQueryGS("#"+targetId).attr("gs","gsDateRangePickerElem"),_jQueryGS("#"+targetId).css("left",pleft),_jQueryGS("#"+targetId).css("top",rangeRect.top+rangeRect.height-1),zgssearch.isDatePickerDisplay=!0,_jQueryGS(zgssearch.curDatePickerElem).addClass("zgs19_gsboxholder"),_jQueryGS(zgssearch.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")}catch(ex){}},zgssearch.updateDatePicker=function(dateObj,response){var key=dateObj.key||"",soid=dateObj.soid||"",service=dateObj.service||"";if(key&&soid&&service&&("customrange"==soid||"customdate"==soid||"duedate"==soid)){var fromdate="",todate="";if("duedate"==soid)fromdate=""+response.valueString,(dateObj.fromdate?dateObj.fromdate:void 0)!=fromdate&&fromdate&&"undefined"!=fromdate&&zgssearch.updateDeskDueDate(GSConstant.SUPPORT,fromdate),zgssearch.hideDatePicker();else if("customrange"==soid?(todate=""+response.toValueString,fromdate=""+response.fromValueString):"customdate"==soid&&(fromdate=todate=""+response.valueString),fromdate&&"undefined"!=fromdate&&todate&&"undefined"!=todate){var dispname=zgssearch.getFilterData(service,key,"data",soid);if(zgssearch.isMoreFilterListDisplay){zgssearch.curMoreFiltersList[key]=soid,zgssearch.curMoreDateFiltersList={fromdate:fromdate,todate:todate};var targetId="#zgs20_gsMoreFilterElem_"+key;_jQueryGS(targetId).attr("soid",key),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("title",dispname).text(dispname),zgssearch.hideDatePicker()}else zgssearch.updateFilterInfo(service,key,"todate",todate),zgssearch.updateFilterInfo(service,key,"fromdate",fromdate),zgssearch.updateFilterInfo(service,key,"current",soid),zgssearch.updateFilterInfo(service,key,"dispname",dispname),zgssearch.handleDefaultSearch()}}},zgssearch.hideDatePicker=function(){zgssearch.isDatePickerDisplay=!1,_jQueryGS(zgssearch.curDatePickerElem).removeClass("zgs19_gsboxholder"),_jQueryGS(zgssearch.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden");var drlength=_jQueryGS("#zgs20_gsDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&jQuery("#zgs20_gsDateRangePickerElem").zdatetimerangepicker("close");var dtlength=_jQueryGS("#zgs20_gsSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&jQuery("#zgs20_gsSingleDatePickerElem").zdatetimepicker("close");dtlength=_jQueryGS("#zgs20_gsDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&jQuery("#zgs20_gsDateTimePickerElem").zdatetimepicker("close")}}(zgssearch,window),function(zgssearch,window){var gssecurity,document=window.document;zgssearch.gssecurity=(gssecurity=void 0,(gssecurity=zgssearch.gssecurity||{}).textDecoder=function(encodedText){var tempDoc=window.document,useXHR=!1,useDOMParser=!1;if("function"==typeof window.HTMLTemplateElement){var template=tempDoc.createElement("template");template.content&&template.content.ownerDocument&&(tempDoc=template.content.ownerDocument)}var isSafeDecoderSupported=tempDoc.implementation&&void 0!==tempDoc.implementation.createHTMLDocument&&9!==tempDoc.documentMode,_initDocument=function(dirty){var doc,body;if(useXHR){try{dirty=window.encodeURI(dirty)}catch(err){}var xhr=new window.XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+dirty,!1),xhr.send(null),doc=xhr.response}if(useDOMParser)try{doc=(new window.DOMParser).parseFromString(dirty,"text/html")}catch(err){}return doc&&doc.documentElement||((body=(doc=tempDoc.implementation.createHTMLDocument("")).body).parentNode.removeChild(body.parentNode.firstElementChild),body.outerHTML=dirty),tempDoc.getElementsByTagName.call(doc,"body")[0]};isSafeDecoderSupported&&function(){var doc=_initDocument('<svg><g onload="this.parentNode.remove()"></g></svg>');doc.querySelector("svg")||(useXHR=!0);try{(doc=_initDocument('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(useDOMParser=!0)}catch(err){}}();var decodedText=_initDocument("<textarea class='toDecode'></textarea>").getElementsByClassName("toDecode")[0];return decodedText.innerHTML=encodedText,decodedText.value},gssecurity.createTextNode=function(text){var textElem=document.createDocumentFragment();return textElem.appendChild(document.createTextNode(text||"")),textElem},gssecurity.createFontNode=function(match,attr){var fontElm=document.createElement("FONT");if(attr)for(var at in attr)fontElm.setAttribute(at,attr[at]);var textElem=gssecurity.createTextNode(match),matchChildElm=document.createDocumentFragment();return matchChildElm.appendChild(textElem),fontElm.appendChild(matchChildElm),fontElm},gssecurity.getHighlightTextNode=function(prefix,match,suffix,attr){var docFragment=document.createDocumentFragment();if(prefix){var prefixElm=gssecurity.createTextNode(prefix);docFragment.appendChild(prefixElm)}if(match){var matchElm=gssecurity.createFontNode(match,attr);docFragment.appendChild(matchElm)}if(suffix){var suffixElm=gssecurity.createTextNode(suffix);docFragment.appendChild(suffixElm)}return docFragment},gssecurity)}(zgssearch,window);